<!DOCTYPE html>
<!-- Created with https://packager.turbowarp.org/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>Nova!</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #ff4c4c26;
    }
    .control-button.active {
      background: #ff4c4c59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#4cbf56;stroke:#45993d;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    <h1 class="loading-text">wait...</h1>
    
    
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "preserve-ratio";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#ff4c4c");

      try {
        scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@Nova!.sb3"));
      } catch (error) {
        console.error(error);
      }

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(false);
      if (vm.setFramerate) vm.setFramerate(60);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(false);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: false,
        miscLimits: true,
        maxClones: 300,
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: () => 'unsandboxed',
        canLoadExtensionFromProject: () => true
      });
      for (const extension of ["data:application/javascript,%2F%2F%20Name%3A%20Free%20Servers%0A%2F%2F%20Id%3A%20WAYLIVES%0A%2F%2F%20Description%3A%20Here%20you%20can%20find%20a%20free%20server%20for%20your%20projects.%20And%20also%20check%20whether%20it%20is%20working%20now%20or%20not.%0A%2F%2F%20Created%20by%3A%20WAYLIVES%20(https%3A%2F%2Fscratch.mit.edu%2Fusers%2FWAYLIVES%2F)%0A%0A%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error(%22Error%22)%3B%0A%20%20%7D%0A%0A%20%20const%20menuIconURI%20%3D%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI%2BCjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiByeD0iMTAiIGZpbGw9IiNFMjI2NDgiLz4KPHJlY3QgeD0iMjUiIHk9IjI1IiB3aWR0aD0iNTAiIGhlaWdodD0iMjUiIHJ4PSIzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjYiLz4KPHJlY3QgeD0iNDciIHk9IjQ4IiB3aWR0aD0iNiIgaGVpZ2h0PSIyNSIgZmlsbD0id2hpdGUiLz4KPHJlY3QgeD0iNzgiIHk9IjY4IiB3aWR0aD0iNiIgaGVpZ2h0PSI1NiIgcng9IjMiIHRyYW5zZm9ybT0icm90YXRlKDkwIDc4IDY4KSIgZmlsbD0id2hpdGUiLz4KPGNpcmNsZSBjeD0iNTAiIGN5PSI3MSIgcj0iNSIgZmlsbD0iI0UyMjY0OCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSI0Ii8%2BCjxjaXJjbGUgY3g9IjYyLjUiIGN5PSIzNy41IiByPSI1LjUiIGZpbGw9IndoaXRlIi8%2BCjwvc3ZnPgo%3D%22%3B%20%0A%20%20%0A%20%20const%20computing%20%3D%20new%20Map()%3B%0A%20%20const%20computed%20%3D%20new%20Map()%3B%0A%0A%20%20const%20pingWebSocket%20%3D%20async%20(uri)%20%3D%3E%20%7B%0A%20%20%20%20if%20(!(await%20Scratch.canFetch(uri)))%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20expires%3A%200%2C%0A%20%20%20%20%20%20%20%20value%3A%20false%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20ws%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20ws%20%3D%20new%20WebSocket(uri)%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20expires%3A%200%2C%0A%20%20%20%20%20%20%20%20value%3A%20false%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20timeoutId%3B%0A%20%20%20%20const%20isUp%20%3D%20await%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20%20%20ws.onopen%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20resolve(true)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%202000)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20ws.onclose%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20resolve(false)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20ws.onerror%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20resolve(false)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20timeoutId%20%3D%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20ws.close()%3B%0A%20%20%20%20%20%20%7D%2C%205000)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20ws.close()%3B%0A%20%20%20%20clearTimeout(timeoutId)%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20expires%3A%20Date.now()%20%2B%2060000%2C%0A%20%20%20%20%20%20value%3A%20isUp%2C%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%20%20%0A%0A%20%20const%20cachedPingWebSocket%20%3D%20(uri)%20%3D%3E%20%7B%0A%20%20%20%20const%20computingEntry%20%3D%20computing.get(uri)%3B%0A%20%20%20%20if%20(computingEntry)%20%7B%0A%20%20%20%20%20%20return%20computingEntry.then((entry)%20%3D%3E%20entry.value)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20computedEntry%20%3D%20computed.get(uri)%3B%0A%20%20%20%20if%20(computedEntry%20%26%26%20Date.now()%20%3C%20computedEntry.expires)%20%7B%0A%20%20%20%20%20%20return%20computedEntry.value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20promise%20%3D%20pingWebSocket(uri)%3B%0A%20%20%20%20computing.set(uri%2C%20promise)%3B%0A%20%20%20%20return%20promise.then((entry)%20%3D%3E%20%7B%0A%20%20%20%20%20%20computing.delete(uri)%3B%0A%20%20%20%20%20%20computed.set(uri%2C%20entry)%3B%0A%20%20%20%20%20%20return%20entry.value%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20%0A%20%20class%20lmsmcutils%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20id%3A%20%22FreeServers%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Free%20Servers%22%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23E22648%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23B01D38%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23B01D38%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Is%20cloud%20data%20server%20up%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22ping%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Is%20cloud%20data%20server%20up%20%5BSERVER%5D%20%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SERVER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Free%20servers%3A%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22one%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%221%20-%20(wss%3A%2F%2Fclouddata.turbowarp.org)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22two%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%222%20-%20(ws%3A%2F%2F127.0.0.1%3A3000%2F)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22three%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%223%20-%20(wss%3A%2F%2Fcloudlink.mikedev101.cc%2F0.2.0)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22four%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%224%20-%20(wss%3A%2F%2Fcl4-test.meower.org)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22five%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%225%20-%20(wss%3A%2F%2Fcl4.tnix.dev%2F)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22six%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%226%20-%20(wss%3A%2F%2Fcl.ssh.surf%2F)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22seven%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%227%20-%20(wss%3A%2F%2Fcl2.ssh.surf%2F)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22eight%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%228%20-%20(wss%3A%2F%2Fechoserver.redman13.repl.co)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20ping(%7B%20SERVER%20%7D)%20%7B%0A%20%20%20%20%20%20return%20cachedPingWebSocket(SERVER)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20one()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fclouddata.turbowarp.org'%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20two()%20%7B%0A%20%20%20%20%20%20return%20'ws%3A%2F%2F127.0.0.1%3A3000%2F'%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20three()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fcloudlink.mikedev101.cc%2F0.2.0'%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20four()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fcl4-test.meower.org'%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20five()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fcl4.tnix.dev%2F'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20six()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fcl.ssh.surf%2F'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20seven()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fcl2.ssh.surf%2F'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20eight()%20%7B%0A%20%20%20%20%20%20return%20'wss%3A%2F%2Fechoserver.redman13.repl.co'%3B%0A%20%20%20%20%7D%20%20%0A%20%20%7D%0A%20%20Scratch.extensions.register(new%20lmsmcutils())%3B%0A%7D)(Scratch)%3B%0A","data:application/javascript,(function(Scratch)%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%0A%20%20%20%20class%20DeviceChecker%20%7B%0A%20%20%20%20%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'deviceChecker'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20'Verificador%20de%20Dispositivo'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'isMobile'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'%C2%BFEst%C3%A1%20en%20un%20dispositivo%20m%C3%B3vil%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'isDesktop'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'%C2%BFEst%C3%A1%20en%20una%20computadora%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20isMobile()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%2FMobi%7CAndroid%2Fi.test(navigator.userAgent)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20isDesktop()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20!%2FMobi%7CAndroid%2Fi.test(navigator.userAgent)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20Scratch.extensions.register(new%20DeviceChecker())%3B%0A%7D)(Scratch)%3B%0A","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Ask%20Before%20Closing%20Tab%0D%0A%2F%2F%20ID%3A%20xmerclosecontrol%0D%0A%2F%2F%20Description%3A%20Show%20a%20prompt%20when%20someone%20tries%20to%20close%20the%20tab.%0D%0A%2F%2F%20By%3A%20XmerOriginals%0D%0A%2F%2F%20License%3A%20MPL-2.0%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22de%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22Frage%20vor%20dem%20Schlie%C3%9Fen%22%7D%2C%22fi%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22Kysy%20ennen%20v%C3%A4lilehden%20sulkemista%22%7D%2C%22it%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22Chiedi%20Conferma%20Prima%20di%20Chiudere%20una%20Scheda%22%2C%22_ask%20before%20closing%20tab%20enabled%3F%22%3A%22conferma%20prima%20di%20chiudere%20una%20scheda%20abilitata%22%2C%22_disabled%22%3A%22disabilita%22%2C%22_enabled%22%3A%22abilita%22%2C%22_set%20ask%20before%20closing%20tab%20to%20%5BOPTION%5D%22%3A%22%5BOPTION%5D%20conferma%20prima%20di%20chiudere%20una%20scheda%22%7D%2C%22ja%22%3A%7B%22_disabled%22%3A%22%E7%84%A1%E5%8A%B9%22%2C%22_enabled%22%3A%22%E6%9C%89%E5%8A%B9%22%7D%2C%22nb%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22Sp%C3%B8r%20f%C3%B8r%20du%20lukker%20fanen%22%2C%22_disabled%22%3A%22deaktivert%22%2C%22_enabled%22%3A%22aktivert%22%7D%2C%22nl%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22Tabblad%20sluiten%20bevestigen%22%2C%22_ask%20before%20closing%20tab%20enabled%3F%22%3A%22tabblad%20sluiten%20bevestigen%20ingeschakeld%3F%22%2C%22_disabled%22%3A%22uit%22%2C%22_enabled%22%3A%22in%22%2C%22_set%20ask%20before%20closing%20tab%20to%20%5BOPTION%5D%22%3A%22schakel%20tabblad%20sluiten%20bevestigen%20%5BOPTION%5D%22%7D%2C%22ru%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22%D0%A1%D0%BF%D1%80%D0%BE%D1%81%D0%B8%D1%82%D1%8C%20%D0%9F%D0%B5%D1%80%D0%B5%D0%B4%20%D0%97%D0%B0%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B5%D0%BC%20%D0%92%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B8%22%2C%22_ask%20before%20closing%20tab%20enabled%3F%22%3A%22%D1%81%D0%BF%D1%80%D0%BE%D1%81%20%D0%B4%D0%BE%20%D0%B7%D0%B0%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D1%8F%20%D0%B2%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B8%20%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D1%91%D0%BD%3F%22%2C%22_disabled%22%3A%22%D0%B2%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%22%2C%22_enabled%22%3A%22%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%22%2C%22_set%20ask%20before%20closing%20tab%20to%20%5BOPTION%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BF%D1%80%D0%BE%D1%81%20%D0%B4%D0%BE%20%D0%B7%D0%B0%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D1%8F%20%D0%B2%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B8%20%D0%BD%D0%B0%20%5BOPTION%5D%22%7D%2C%22uk%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22%D0%97%D0%B0%D0%BF%D0%B8%D1%82%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%20%D0%B2%D0%B8%D1%85%D0%BE%D0%B4%D0%BE%D0%BC%22%2C%22_disabled%22%3A%22%D1%80%D0%BE%D0%B7%D0%B1%D0%BB%D0%BE%D0%BA%D1%83%D0%B2%D0%B0%D1%82%D0%B8%22%2C%22_enabled%22%3A%22%D0%B7%D0%B0%D0%B1%D0%BB%D0%BE%D0%BA%D1%83%D0%B2%D0%B0%D1%82%D0%B8%22%7D%2C%22zh-cn%22%3A%7B%22_Ask%20Before%20Closing%20Tab%22%3A%22%E5%85%B3%E9%97%AD%E9%A1%B5%E9%9D%A2%E6%97%B6%E8%AF%A2%E9%97%AE%22%2C%22_ask%20before%20closing%20tab%20enabled%3F%22%3A%22%E5%85%B3%E9%97%AD%E9%A1%B5%E9%9D%A2%E6%97%B6%E8%AF%A2%E9%97%AE%E5%B7%B2%E5%90%AF%E7%94%A8%EF%BC%9F%22%2C%22_disabled%22%3A%22%E7%A6%81%E7%94%A8%22%2C%22_enabled%22%3A%22%E5%90%AF%E7%94%A8%22%2C%22_set%20ask%20before%20closing%20tab%20to%20%5BOPTION%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E5%85%B3%E9%97%AD%E9%A1%B5%E9%9D%A2%E6%97%B6%E8%AF%A2%E9%97%AE%E4%B8%BA%5BOPTION%5D%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20let%20enabled%20%3D%20false%3B%0D%0A%0D%0A%20%20window.addEventListener(%22beforeunload%22%2C%20(e)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(enabled)%20%7B%0D%0A%20%20%20%20%20%20e.preventDefault()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20class%20CloseControl%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22xmerclosecontrol%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Ask%20Before%20Closing%20Tab%22)%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setControl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20ask%20before%20closing%20tab%20to%20%5BOPTION%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22option%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getControl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22ask%20before%20closing%20tab%20enabled%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20option%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22enabled%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22true%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22disabled%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22false%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setControl(%7B%20OPTION%20%7D)%20%7B%0D%0A%20%20%20%20%20%20enabled%20%3D%20Scratch.Cast.toBoolean(OPTION)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getControl()%20%7B%0D%0A%20%20%20%20%20%20return%20enabled%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20CloseControl())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20JSON%0D%0A%2F%2F%20ID%3A%20skyhigh173JSON%0D%0A%2F%2F%20Description%3A%20Handle%20JSON%20strings%20and%20arrays.%0D%0A%2F%2F%20By%3A%20Skyhigh173%0D%0A%2F%2F%20License%3A%20MIT%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22ca%22%3A%7B%22_Advanced%22%3A%22Avan%C3%A7at%22%7D%2C%22cs%22%3A%7B%22_Advanced%22%3A%22Pokro%C4%8Dil%C3%A9%22%7D%2C%22de%22%3A%7B%22_Advanced%22%3A%22Erweitert%22%7D%2C%22es%22%3A%7B%22_Advanced%22%3A%22Avanzado%22%7D%2C%22fr%22%3A%7B%22_Advanced%22%3A%22Avanc%C3%A9%22%7D%2C%22hu%22%3A%7B%22_Advanced%22%3A%22Halad%C3%B3%22%7D%2C%22it%22%3A%7B%22_Advanced%22%3A%22Impostazioni%20Avanzate%22%7D%2C%22ja%22%3A%7B%22_Advanced%22%3A%22%E8%A9%B3%E7%B4%B0%E8%A8%AD%E5%AE%9A%22%7D%2C%22ja-hira%22%3A%7B%22_Advanced%22%3A%22%E3%81%93%E3%81%86%E3%81%A9%E3%81%AA%E3%81%9B%E3%81%A3%E3%81%A6%E3%81%84%22%7D%2C%22ko%22%3A%7B%22_Advanced%22%3A%22%EA%B3%A0%EA%B8%89%20%EC%84%A4%EC%A0%95%22%7D%2C%22lt%22%3A%7B%22_Advanced%22%3A%22I%C5%A1pl%C4%97stiniai%22%7D%2C%22nb%22%3A%7B%22_Advanced%22%3A%22Avansert%22%2C%22_keys%22%3A%22n%C3%B8kler%22%2C%22_values%22%3A%22verdier%22%7D%2C%22nl%22%3A%7B%22_Advanced%22%3A%22Geavanceerd%22%2C%22_Array%22%3A%22Arrays%22%2C%22_General%20Utils%22%3A%22Algemeen%22%2C%22_Lists%22%3A%22Lijsten%22%2C%22_%5Bjson%5D%20contains%20key%20%5Bkey%5D%3F%22%3A%22%5Bjson%5D%20bevat%20sleutel%20%5Bkey%5D%3F%22%2C%22_%5Bjson%5D%20contains%20value%20%5Bvalue%5D%3F%22%3A%22%5Bjson%5D%20bevat%20waarde%20%5Bvalue%5D%3F%22%2C%22_add%20%5Bitem%5D%20to%20array%20%5Bjson%5D%22%3A%22voeg%20%5Bitem%5D%20toe%20aan%20array%20%5Bjson%5D%22%2C%22_all%20%5BStype%5D%20of%20%5Bjson%5D%22%3A%22alle%20%5BStype%5D%20van%20%5Bjson%5D%22%2C%22_array%20concat%20%5Bjson%5D%20%5Bjson2%5D%22%3A%22voeg%20arrays%20%5Bjson%5D%20en%20%5Bjson2%5D%20samen%22%2C%22_array%20from%20text%20%5Bjson%5D%22%3A%22array%20van%20tekst%20%5Bjson%5D%22%2C%22_ascending%22%3A%22oplopende%22%2C%22_create%20array%20by%20%5Btext%5D%20with%20delimiter%20%5Bd%5D%22%3A%22cre%C3%ABer%20array%20uit%20%5Btext%5D%20met%20scheidingsteken%20%5Bd%5D%22%2C%22_datas%22%3A%22gegevens%22%2C%22_delete%20%5Bitem%5D%20in%20%5Bjson%5D%22%3A%22verwijder%20%5Bitem%5D%20van%20%5Bjson%5D%22%2C%22_delete%20all%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%3A%22verwijder%20alle%20%5Bitem%5D%20van%20array%20%5Bjson%5D%22%2C%22_delete%20item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%3A%22verwijder%20item%20%5Bitem%5D%20van%20array%20%5Bjson%5D%22%2C%22_descending%22%3A%22aflopende%22%2C%22_flat%20array%20%5Bjson%5D%20by%20depth%20%5Bdepth%5D%22%3A%22vlak%20array%20%5Bjson%5D%20af%20op%20diepte%20%5Bdepth%5D%22%2C%22_get%20all%20values%20with%20key%20%5Bkey%5D%20in%20array%20%5Bjson%5D%22%3A%22alle%20waarden%20met%20sleutel%20%5Bkey%5D%20in%20array%20%5Bjson%5D%22%2C%22_get%20list%20%5Blist%5D%20as%20array%22%3A%22lijst%20%5Blist%5D%20als%20array%22%2C%22_insert%20%5Bitem%5D%20at%20%5Bpos%5D%20of%20array%20%5Bjson%5D%22%3A%22voeg%20%5Bitem%5D%20in%20op%20%5Bpos%5D%20van%20array%20%5Bjson%5D%22%2C%22_is%20JSON%20%5Bjson%5D%20valid%3F%22%3A%22is%20JSON%20%5Bjson%5D%20geldig%3F%22%2C%22_is%20%5Bjson%5D%20%5Btypes%5D%3F%22%3A%22is%20%5Bjson%5D%20%5Btypes%5D%20%3F%22%2C%22_item%20%23%20of%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%3A%22item%20%23%20van%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%2C%22_item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%3A%22item%20%5Bitem%5D%20van%20array%20%5Bjson%5D%22%2C%22_items%20%5Bitem%5D%20to%20%5Bitem2%5D%20of%20array%20%5Bjson%5D%22%3A%22items%20%5Bitem%5D%20t%2Fm%20%5Bitem2%5D%20van%20array%20%5Bjson%5D%22%2C%22_join%20string%20by%20array%20%5Bjson%5D%20with%20delimiter%20%5Bd%5D%22%3A%22voeg%20array%20%5Bjson%5D%20samen%20tot%20string%20met%20scheidingsteken%20%5Bd%5D%22%2C%22_keys%22%3A%22sleutels%22%2C%22_length%20of%20array%20%5Bjson%5D%22%3A%22lengte%20van%20array%20%5Bjson%5D%22%2C%22_length%20of%20json%20%5Bjson%5D%22%3A%22lengte%20van%20JSON%20%5Bjson%5D%22%2C%22_new%20%5Bjson%5D%22%3A%22nieuw(e)%20%5Bjson%5D%22%2C%22_replace%20item%20%5Bpos%5D%20of%20%5Bjson%5D%20with%20%5Bitem%5D%22%3A%22vervang%20item%20%5Bpos%5D%20van%20%5Bjson%5D%20door%20%5Bitem%5D%22%2C%22_reverse%20array%20%5Bjson%5D%22%3A%22keer%20array%20%5Bjson%5D%20om%22%2C%22_select%20a%20list%22%3A%22selecteer%20een%20lijst%22%2C%22_set%20%5Bitem%5D%20in%20%5Bjson%5D%20to%20%5Bvalue%5D%22%3A%22maak%20%5Bitem%5D%20in%20%5Bjson%5D%20%5Bvalue%5D%22%2C%22_set%20length%20of%20array%20%5Bjson%5D%20to%20%5Blen%5D%22%3A%22maak%20lengte%20van%20array%20%5Bjson%5D%20%5Blen%5D%22%2C%22_set%20list%20%5Blist%5D%20to%20%5Bjson%5D%22%3A%22maak%20lijst%20%5Blist%5D%20%5Bjson%5D%22%2C%22_sort%20array%20%5Blist%5D%20in%20%5Border%5D%20order%22%3A%22sorteer%20array%20%5Blist%5D%20in%20%5Border%5D%20volgorde%22%2C%22_value%20of%20%5Bitem%5D%20in%20%5Bjson%5D%22%3A%22waarde%20van%20%5Bitem%5D%20in%20%5Bjson%5D%22%2C%22_values%22%3A%22waarden%22%7D%2C%22pl%22%3A%7B%22_Advanced%22%3A%22Zaawansowane%22%7D%2C%22pt%22%3A%7B%22_Advanced%22%3A%22Avan%C3%A7ado%22%7D%2C%22pt-br%22%3A%7B%22_Advanced%22%3A%22Avan%C3%A7ado%22%7D%2C%22ro%22%3A%7B%22_Advanced%22%3A%22Avansat%22%7D%2C%22ru%22%3A%7B%22_Advanced%22%3A%22%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%22%2C%22_Array%22%3A%22%D0%9C%D0%B0%D1%82%D1%80%D0%B8%D1%86%D0%B0%22%2C%22_General%20Utils%22%3A%22%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D1%8B%D0%B5%20%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B%22%2C%22_Lists%22%3A%22%D0%A1%D0%BF%D0%B8%D1%81%D0%BA%D0%B8%22%2C%22_Object%22%3A%22%D0%9E%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%22%2C%22_%5Bjson%5D%20contains%20key%20%5Bkey%5D%3F%22%3A%22%5Bjson%5D%20%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D1%82%20%D0%BA%D0%BB%D1%8E%D1%87%20%5Bkey%5D%3F%22%2C%22_%5Bjson%5D%20contains%20value%20%5Bvalue%5D%3F%22%3A%22%5Bjson%5D%20%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D1%82%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%5Bvalue%5D%3F%22%2C%22_add%20%5Bitem%5D%20to%20array%20%5Bjson%5D%22%3A%22%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%5Bitem%5D%20%D0%B2%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%83%20%5Bjson%5D%22%2C%22_all%20%5BStype%5D%20of%20%5Bjson%5D%22%3A%22%D0%B2%D1%81%D0%B5%20%5BStype%5D%20%5Bjson%5D%22%2C%22_array%20concat%20%5Bjson%5D%20%5Bjson2%5D%22%3A%22%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B8%D1%82%D1%8C%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%20%D0%B8%20%5Bjson2%5D%22%2C%22_array%20from%20text%20%5Bjson%5D%22%3A%22%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D0%B0%20%D0%B8%D0%B7%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0%20%5Bjson%5D%22%2C%22_ascending%22%3A%22%D0%BD%D0%B0%D1%80%D0%B0%D1%81%D1%82%D0%B0%D1%8E%D1%89%D0%B5%D0%B9%22%2C%22_create%20array%20by%20%5Btext%5D%20with%20delimiter%20%5Bd%5D%22%3A%22%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%83%20%D0%B8%D0%B7%20%5Btext%5D%20%D1%81%20%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B5%D0%BC%20%5Bd%5D%22%2C%22_datas%22%3A%22%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%22%2C%22_delete%20%5Bitem%5D%20in%20%5Bjson%5D%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%5Bitem%5D%20%D0%B8%D0%B7%20%5Bjson%5D%22%2C%22_delete%20all%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%D0%B2%D1%81%D0%B5%20%5Bitem%5D%20%D0%B2%20%D0%BC%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D0%B5%20%5Bjson%5D%22%2C%22_delete%20item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%D1%87%D0%B8%D1%81%D0%BB%D0%BE%20%5Bitem%5D%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%22%2C%22_descending%22%3A%22%D0%BE%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D1%8E%D1%89%D0%B5%D0%B9%22%2C%22_flat%20array%20%5Bjson%5D%20by%20depth%20%5Bdepth%5D%22%3A%22%D0%BF%D0%BB%D0%BE%D1%81%D0%BA%D0%B0%D1%8F%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D0%B0%20%5Bjson%5D%20%D0%BF%D0%BE%20%D0%B3%D0%BB%D1%83%D0%B1%D0%B8%D0%BD%D0%B5%20%5Bdepth%5D%22%2C%22_get%20all%20values%20with%20key%20%5Bkey%5D%20in%20array%20%5Bjson%5D%22%3A%22%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%D0%B2%D1%81%D0%B5%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%20%D1%81%20%D0%BA%D0%BB%D1%8E%D1%87%D0%BE%D0%BC%20%5Bkey%5D%20%D0%B2%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D0%B5%20%5Bjson%5D%22%2C%22_get%20list%20%5Blist%5D%20as%20array%22%3A%22%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%5Blist%5D%20%D0%BA%D0%B0%D0%BA%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D0%B0%20%22%2C%22_insert%20%5Bitem%5D%20at%20%5Bpos%5D%20of%20array%20%5Bjson%5D%22%3A%22%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%5Bitem%5D%20%D0%BD%D0%B0%20%D1%87%D0%B8%D1%81%D0%BB%D0%BE%20%5Bpos%5D%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%22%2C%22_is%20JSON%20%5Bjson%5D%20valid%3F%22%3A%22JSON%20%5Bjson%5D%20%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B5%D0%BD%3F%22%2C%22_is%20%5Bjson%5D%20%5Btypes%5D%3F%22%3A%22%5Bjson%5D%20%5Btypes%5D%3F%22%2C%22_item%20%23%20of%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%3A%22%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%23%20%5Bitem%5D%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%22%2C%22_item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%3A%22%D1%87%D0%B8%D1%81%D0%BB%D0%BE%20%5Bitem%5D%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%22%2C%22_items%20%5Bitem%5D%20to%20%5Bitem2%5D%20of%20array%20%5Bjson%5D%22%3A%22%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%20%5Bitem%5D%20%D0%B2%20%5Bitem2%5D%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%22%2C%22_join%20string%20by%20array%20%5Bjson%5D%20with%20delimiter%20%5Bd%5D%22%3A%22%D0%BF%D1%80%D0%B8%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B8%D1%82%D1%8C%20%D1%81%D1%82%D1%80%D0%BE%D0%BA%D1%83%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D0%B5%D0%B9%20%5Bjson%5D%20%D1%81%20%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D0%B5%D0%BC%20%5Bd%5D%22%2C%22_keys%22%3A%22%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%22%2C%22_length%20of%20array%20%5Bjson%5D%22%3A%22%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%22%2C%22_length%20of%20json%20%5Bjson%5D%22%3A%22%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0%20json%20%5Bjson%5D%22%2C%22_new%20%5Bjson%5D%22%3A%22%D0%BD%D0%BE%D0%B2%D1%8B%D0%B9%20%5Bjson%5D%22%2C%22_replace%20item%20%5Bpos%5D%20of%20%5Bjson%5D%20with%20%5Bitem%5D%22%3A%22%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20%D1%87%D0%B8%D1%81%D0%BB%D0%BE%20%5Bpos%5D%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%20%D0%BD%D0%B0%20%5Bitem%5D%22%2C%22_reverse%20array%20%5Bjson%5D%22%3A%22%D0%BE%D0%B1%D0%B5%D1%80%D0%BD%D1%83%D1%82%D1%8C%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%83%20%5Bjson%5D%22%2C%22_select%20a%20list%22%3A%22%D0%B2%D1%8B%D0%B1%D0%B5%D1%80%D0%B8%D1%82%D0%B5%20%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%22%2C%22_set%20%5Bitem%5D%20in%20%5Bjson%5D%20to%20%5Bvalue%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%5Bitem%5D%20%D0%B2%20%5Bjson%5D%20%D0%BD%D0%B0%20%5Bvalue%5D%22%2C%22_set%20length%20of%20array%20%5Bjson%5D%20to%20%5Blen%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D0%B8%D0%BD%D1%83%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%8B%20%5Bjson%5D%20%D0%BD%D0%B0%20%5Blen%5D%22%2C%22_set%20list%20%5Blist%5D%20to%20%5Bjson%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%5Blist%5D%20%D0%B2%20%5Bjson%5D%22%2C%22_sort%20array%20%5Blist%5D%20in%20%5Border%5D%20order%22%3A%22%D1%81%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D1%86%D1%83%20%5Blist%5D%20%D0%B2%20%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BA%D0%B5%20%5Border%5D%22%2C%22_value%20of%20%5Bitem%5D%20in%20%5Bjson%5D%22%3A%22%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%5Bitem%5D%20%D0%B2%20%5Bjson%5D%22%2C%22_values%22%3A%22%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%22%7D%2C%22sl%22%3A%7B%22_Advanced%22%3A%22Napredno%22%7D%2C%22sr%22%3A%7B%22_Advanced%22%3A%22%D0%9D%D0%B0%D0%BF%D1%80%D0%B5%D0%B4%D0%BD%D0%BE%22%7D%2C%22sv%22%3A%7B%22_Advanced%22%3A%22Avancerat%22%7D%2C%22tr%22%3A%7B%22_Advanced%22%3A%22Geli%C5%9Fmi%C5%9F%22%7D%2C%22uk%22%3A%7B%22_Advanced%22%3A%22%D0%94%D0%BE%D0%B4%D0%B0%D1%82%D0%BA%D0%BE%D0%B2%D0%BE%22%7D%2C%22vi%22%3A%7B%22_Advanced%22%3A%22N%C3%A2ng%20cao%22%7D%2C%22zh-cn%22%3A%7B%22_Advanced%22%3A%22%E9%AB%98%E7%BA%A7%22%2C%22_General%20Utils%22%3A%22%E9%80%9A%E7%94%A8%22%2C%22_Lists%22%3A%22%E5%8E%9F%E7%89%88%E5%88%97%E8%A1%A8%22%2C%22_%5Bjson1%5D%20%5Bequal%5D%20%5Bjson2%5D%22%3A%22%5Bjson1%5D%5Bequal%5D%5Bjson2%5D%22%2C%22_%5Bjson%5D%20contains%20key%20%5Bkey%5D%3F%22%3A%22%5Bjson%5D%E5%8C%85%E6%8B%AC%E9%94%AE%5Bkey%5D%EF%BC%9F%22%2C%22_%5Bjson%5D%20contains%20value%20%5Bvalue%5D%3F%22%3A%22%5Bjson%5D%E5%8C%85%E6%8B%AC%E5%80%BC%5Bvalue%5D%EF%BC%9F%22%2C%22_add%20%5Bitem%5D%20to%20array%20%5Bjson%5D%22%3A%22%E5%90%91Array%5Bjson%5D%E6%B7%BB%E5%8A%A0%5Bitem%5D%22%2C%22_all%20%5BStype%5D%20of%20%5Bjson%5D%22%3A%22%5Bjson%5D%E7%9A%84%E6%89%80%E6%9C%89%5BStype%5D%22%2C%22_array%20concat%20%5Bjson%5D%20%5Bjson2%5D%22%3A%22%E5%90%88%E5%B9%B6Array%5Bjson%5D%E5%92%8C%5Bjson2%5D%22%2C%22_array%20from%20text%20%5Bjson%5D%22%3A%22%E6%9D%A5%E8%87%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%5Bjson%5D%E7%9A%84Array%22%2C%22_ascending%22%3A%22%E6%AD%A3%E5%BA%8F%22%2C%22_create%20array%20by%20%5Btext%5D%20with%20delimiter%20%5Bd%5D%22%3A%22%E4%BB%A5%5Bd%5D%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2%5Btext%5D%E4%BD%9C%E4%B8%BAArray%22%2C%22_datas%22%3A%22%E6%95%B0%E6%8D%AE%22%2C%22_delete%20%5Bitem%5D%20in%20%5Bjson%5D%22%3A%22%E5%88%A0%E9%99%A4%5Bjson%5D%E4%B8%AD%E7%9A%84%5Bitem%5D%22%2C%22_delete%20all%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%3A%22%E5%88%A0%E9%99%A4Array%5Bjson%5D%E7%9A%84%E6%89%80%E6%9C%89%5Bitem%5D%22%2C%22_delete%20item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%3A%22%E5%88%A0%E9%99%A4Array%5Bjson%5D%E7%9A%84%E7%AC%AC%5Bitem%5D%E9%A1%B9%22%2C%22_descending%22%3A%22%E5%80%92%E5%BA%8F%22%2C%22_flat%20array%20%5Bjson%5D%20by%20depth%20%5Bdepth%5D%22%3A%22%E6%8C%89%E7%85%A7%E6%B7%B1%E5%BA%A6%5Bdepth%5D%E5%B9%B3%E9%9D%A2%E5%8C%96Array%5Bjson%5D%22%2C%22_get%20all%20values%20with%20key%20%5Bkey%5D%20in%20array%20%5Bjson%5D%22%3A%22%E8%8E%B7%E5%8F%96Array%5Bjson%5D%E4%B8%AD%E6%89%80%E6%9C%89%5Bkey%5D%E7%9A%84%E5%80%BC%22%2C%22_get%20list%20%5Blist%5D%20as%20array%22%3A%22%E8%8E%B7%E5%8F%96%E5%8E%9F%E7%89%88%E5%88%97%E8%A1%A8%5Blist%5D%22%2C%22_insert%20%5Bitem%5D%20at%20%5Bpos%5D%20of%20array%20%5Bjson%5D%22%3A%22%E5%9C%A8Array%5Bjson%5D%E7%9A%84%E7%AC%AC%5Bpos%5D%E9%A1%B9%E5%89%8D%E6%8F%92%E5%85%A5%5Bitem%5D%22%2C%22_is%20JSON%20%5Bjson%5D%20valid%3F%22%3A%22%5Bjson%5D%E6%98%AF%E5%90%88%E6%B3%95JSON%EF%BC%9F%22%2C%22_is%20%5Bjson%5D%20%5Btypes%5D%3F%22%3A%22%5Bjson%5D%E6%98%AF%5Btypes%5D%EF%BC%9F%22%2C%22_item%20%23%20of%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22%3A%22Array%5Bjson%5D%E4%B8%AD%E7%AC%AC%E4%B8%80%E4%B8%AA%5Bitem%5D%E7%9A%84%E4%BD%8D%E7%BD%AE%22%2C%22_item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22%3A%22Array%5Bjson%5D%E7%9A%84%E7%AC%AC%5Bitem%5D%E9%A1%B9%22%2C%22_items%20%5Bitem%5D%20to%20%5Bitem2%5D%20of%20array%20%5Bjson%5D%22%3A%22Array%5Bjson%5D%E7%9A%84%E7%AC%AC%5Bitem%5D%E5%88%B0%E7%AC%AC%5Bitem2%5D%E9%A1%B9%22%2C%22_join%20string%20by%20array%20%5Bjson%5D%20with%20delimiter%20%5Bd%5D%22%3A%22%E4%BB%A5%5Bd%5D%E5%90%88%E5%B9%B6Array%5Bjson%5D%22%2C%22_keys%22%3A%22%E9%94%AE%22%2C%22_length%20of%20array%20%5Bjson%5D%22%3A%22Array%5Bjson%5D%E7%9A%84%E9%95%BF%E5%BA%A6%22%2C%22_length%20of%20json%20%5Bjson%5D%22%3A%22JSON%5Bjson%5D%E7%9A%84%E9%95%BF%E5%BA%A6%22%2C%22_new%20%5Bjson%5D%22%3A%22%E6%96%B0%5Bjson%5D%22%2C%22_replace%20item%20%5Bpos%5D%20of%20%5Bjson%5D%20with%20%5Bitem%5D%22%3A%22%E6%9B%BF%E6%8D%A2Array%5Bjson%5D%E7%9A%84%E7%AC%AC%5Bpos%5D%E9%A1%B9%E4%B8%BA%5Bitem%5D%22%2C%22_reverse%20array%20%5Bjson%5D%22%3A%22%E5%8F%8D%E8%BD%ACArray%5Bjson%5D%22%2C%22_select%20a%20list%22%3A%22%E8%AF%B7%E9%80%89%E6%8B%A9%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8%22%2C%22_set%20%5Bitem%5D%20in%20%5Bjson%5D%20to%20%5Bvalue%5D%22%3A%22%E8%AE%BE%E7%BD%AE%5Bjson%5D%E4%B8%AD%E7%9A%84%5Bitem%5D%E4%B8%BA%5Bvalue%5D%22%2C%22_set%20length%20of%20array%20%5Bjson%5D%20to%20%5Blen%5D%22%3A%22%E8%AE%BE%E7%BD%AEArray%5Bjson%5D%E7%9A%84%E9%95%BF%E5%BA%A6%E4%B8%BA%5Blen%5D%22%2C%22_set%20list%20%5Blist%5D%20to%20%5Bjson%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E5%8E%9F%E7%89%88%E5%88%97%E8%A1%A8%5Blist%5D%E4%B8%BA%5Bjson%5D%22%2C%22_sort%20array%20%5Blist%5D%20in%20%5Border%5D%20order%22%3A%22%E4%BB%A5%5Border%5D%E6%8E%92%E5%BA%8FArray%5Blist%5D%22%2C%22_value%20of%20%5Bitem%5D%20in%20%5Bjson%5D%22%3A%22%5Bjson%5D%E4%B8%AD%E7%9A%84%5Bitem%5D%22%2C%22_values%22%3A%22%E5%80%BC%22%7D%2C%22zh-tw%22%3A%7B%22_Advanced%22%3A%22%E5%80%8B%E5%88%A5%E6%9B%B4%E6%94%B9%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%20%20%2F*%0D%0A%20%20%20*%20JSON%20extension%20v2.5%20by%20skyhigh173%20(English%20Version)%0D%0A%20%20%20*%20Do%20not%20remove%20this%20comment%0D%0A%20%20%20*%2F%0D%0A%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%20%20const%20hasOwn%20%3D%20(obj%2C%20property)%20%3D%3E%0D%0A%20%20%20%20Object.prototype.hasOwnProperty.call(obj%2C%20property)%3B%0D%0A%0D%0A%20%20const%20makeLabel%20%3D%20(text)%20%3D%3E%20(%7B%0D%0A%20%20%20%20blockType%3A%20%22label%22%2C%0D%0A%20%20%20%20text%3A%20text%2C%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20class%20JSONS%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22skyhigh173JSON%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22JSON%22%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%233271D0%22%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20makeLabel(Scratch.translate(%22General%20Utils%22))%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_is_valid%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20JSON%20%5Bjson%5D%20valid%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_is%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20%5Bjson%5D%20%5Btypes%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20types%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22types%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_get_all%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20%5BStype%5D%20of%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Stype%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22get_all%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_new%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22new%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22types%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_has_key%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bjson%5D%20contains%20key%20%5Bkey%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key2%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_has_value%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bjson%5D%20contains%20value%20%5Bvalue%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22scratch%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22TurboWarp%22%2C%22scratch%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_equal%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5Bjson1%5D%20%5Bequal%5D%20%5Bjson2%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json1%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22a%22%3A0%2C%22b%22%3A1%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json2%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22b%22%3A1%2C%22a%22%3A0%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20equal%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%3D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22equal%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20makeLabel(%22JSON%20Strings%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_jlength%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22length%20of%20json%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_get%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22value%20of%20%5Bitem%5D%20in%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_set%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5Bitem%5D%20in%20%5Bjson%5D%20to%20%5Bvalue%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22new%20value%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_delete%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20%5Bitem%5D%20in%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22key2%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20makeLabel(Scratch.translate(%22Array%22))%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_length%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22length%20of%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B1%2C2%2C3%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_get%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22TurboWarp%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_push%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22add%20%5Bitem%5D%20to%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22TurboWarp%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_set%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22replace%20item%20%5Bpos%5D%20of%20%5Bjson%5D%20with%20%5Bitem%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22fav%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22love%22%2C%22heart%22%2C%22follow%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_insert%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22insert%20%5Bitem%5D%20at%20%5Bpos%5D%20of%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22fav%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22love%22%2C%22follow%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_delete%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20item%20%5Bitem%5D%20of%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22a%22%2C%22TurboWarp%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_remove_all%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20all%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22a%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22a%22%2C%22TurboWarp%22%2C%22a%22%2C%22a%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_itemH%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22item%20%23%20of%20%5Bitem%5D%20in%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22scratch%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22TurboWarp%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20makeLabel(Scratch.translate(%22Advanced%22))%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_from%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22array%20from%20text%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22abcd%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_fromto%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22items%20%5Bitem%5D%20to%20%5Bitem2%5D%20of%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B1%2C2%2C3%2C4%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item2%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_reverse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reverse%20array%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%2C%22d%22%2C%22e%22%2C%22f%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_flat%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22flat%20array%20%5Bjson%5D%20by%20depth%20%5Bdepth%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%5B%5B1%5D%2C2%2C%5B3%2C4%5D%2C%5B5%2C%5B6%5D%5D%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20depth%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_concat%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22array%20concat%20%5Bjson%5D%20%5Bjson2%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json2%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22c%22%2C%22d%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_filter%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22get%20all%20values%20with%20key%20%5Bkey%5D%20in%20array%20%5Bjson%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22id%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%7B%22id%22%3A12%7D%2C%7B%22id%22%3A24%7D%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_setlen%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20length%20of%20array%20%5Bjson%5D%20to%20%5Blen%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20len%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_create%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22create%20array%20by%20%5Btext%5D%20with%20delimiter%20%5Bd%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22a%2Cb%2Cc%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%2C%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_join%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22join%20string%20by%20array%20%5Bjson%5D%20with%20delimiter%20%5Bd%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%2C%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_array_sort%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22sort%20array%20%5Blist%5D%20in%20%5Border%5D%20order%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5B5.23%2C%20214%2C%20522%2C%2061%2C%205.24%2C%2062.2%2C%201%2C%2051212%2C%200%2C%200%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20order%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22sort_order%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20makeLabel(Scratch.translate(%22Lists%22))%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_vm_getlist%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22get%20list%20%5Blist%5D%20as%20array%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22get_list%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22json_vm_setlist%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20list%20%5Blist%5D%20to%20%5Bjson%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22get_list%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22apple%22%2C%22banana%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20get_all%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22keys%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22keys%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22values%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22values%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22datas%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22datas%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20get_list%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getLists%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20types%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Object%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22Object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Array%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22Array%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20equal%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22%3D%22%2C%20%22%E2%89%A0%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20sort_order%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22ascending%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22ascending%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22descending%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22descending%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getLists()%20%7B%0D%0A%20%20%20%20%20%20const%20globalLists%20%3D%20Object.values(%0D%0A%20%20%20%20%20%20%20%20vm.runtime.getTargetForStage().variables%0D%0A%20%20%20%20%20%20).filter((x)%20%3D%3E%20x.type%20%3D%3D%20%22list%22)%3B%0D%0A%20%20%20%20%20%20const%20localLists%20%3D%20Object.values(vm.editingTarget.variables).filter(%0D%0A%20%20%20%20%20%20%20%20(x)%20%3D%3E%20x.type%20%3D%3D%20%22list%22%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20const%20uniqueLists%20%3D%20%5B...new%20Set(%5B...globalLists%2C%20...localLists%5D)%5D%3B%0D%0A%20%20%20%20%20%20if%20(uniqueLists.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22select%20a%20list%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22select%20a%20list%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20uniqueLists.map((i)%20%3D%3E%20(%7B%0D%0A%20%20%20%20%20%20%20%20text%3A%20i.name%2C%0D%0A%20%20%20%20%20%20%20%20value%3A%20i.id%2C%0D%0A%20%20%20%20%20%20%7D))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lookupList(list%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20byId%20%3D%20util.target.lookupVariableById(list)%3B%0D%0A%20%20%20%20%20%20if%20(byId%20%26%26%20byId.type%20%3D%3D%3D%20%22list%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20byId%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20byName%20%3D%20util.target.lookupVariableByNameAndType(list%2C%20%22list%22)%3B%0D%0A%20%20%20%20%20%20if%20(byName)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20byName%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_is_valid(%7B%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20if%20(typeof%20json%20!%3D%20%22string%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(%0D%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%5B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%5D%22)%20%26%26%0D%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%7B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%7D%22)%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20return%20object%20if%20its%20json%20else%20string%0D%0A%20%20%20%20json_valid_return(json)%20%7B%0D%0A%20%20%20%20%20%20if%20(typeof%20json%20!%3D%20%22string%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20json%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(%0D%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%5B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%5D%22)%20%26%26%0D%0A%20%20%20%20%20%20%20%20(json.slice(0%2C%201)%20!%3D%20%22%7B%22%20%7C%7C%20json.slice(-1)%20!%3D%20%22%7D%22)%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20json%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20json%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_is(%7B%20json%2C%20types%20%7D)%20%7B%0D%0A%20%20%20%20%20%20if%20(!this.json_is_valid(%7B%20json%3A%20json%20%7D))%20return%20false%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20switch%20(types)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22Object%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20!Array.isArray(json)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22Array%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Array.isArray(json)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_length(%7B%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20return%20Object.keys(json).length%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%20%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_new(%7B%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20switch%20(json)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%22Object%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%7B%7D%22%3B%0D%0A%20%20%20%20%20%20%20%20case%20%22Array%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%5B%5D%22%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_has_key(%7B%20json%2C%20key%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20%20%20this._fixInvalidJSONValues(this.json_valid_return(key))%20in%0D%0A%20%20%20%20%20%20%20%20%20%20JSON.parse(json)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_has_value(%7B%20json%2C%20value%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20this.json_valid_return(value)%3B%0D%0A%20%20%20%20%20%20%20%20return%20json.includes(value)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_equal(%7B%20json1%2C%20equal%2C%20json2%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json1%20%3D%20JSON.parse(json1)%3B%0D%0A%20%20%20%20%20%20%20%20json2%20%3D%20JSON.parse(json2)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20keys1%20%3D%20Object.keys(json1)%3B%0D%0A%20%20%20%20%20%20%20%20const%20keys2%20%3D%20Object.keys(json2)%3B%0D%0A%20%20%20%20%20%20%20%20const%20result%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20keys1.length%20%3D%3D%3D%20keys2.length%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20Object.keys(json1).every((key)%20%3D%3E%20json1%5Bkey%5D%20%3D%3D%3D%20json2%5Bkey%5D)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(equal%20%3D%3D%3D%20%22%3D%22)%20return%20result%3B%0D%0A%20%20%20%20%20%20%20%20if%20(equal%20%3D%3D%3D%20%22%E2%89%A0%22)%20return%20!result%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_get_all(%7B%20Stype%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20switch%20(Stype)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22keys%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map((key)%20%3D%3E%20key))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22values%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map((key)%20%3D%3E%20json%5Bkey%5D))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20%22datas%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.keys(json).map((key)%20%3D%3E%20%5Bkey%2C%20json%5Bkey%5D%5D)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_get(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(hasOwn(json%2C%20item))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20result%20%3D%20json%5Bitem%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(typeof%20result%20%3D%3D%3D%20%22object%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(result)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_fixInvalidJSONValues(value)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20JSON%20does%20not%20support%20these%20values%2C%20so%20convert%20to%20string.%0D%0A%20%20%20%20%20%20if%20(Number.isNaN(value))%20return%20%22NaN%22%3B%0D%0A%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20Infinity)%20return%20%22Infinity%22%3B%0D%0A%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20-Infinity)%20return%20%22-Infinity%22%3B%0D%0A%20%20%20%20%20%20return%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_set(%7B%20item%2C%20value%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20this.json_valid_return(value)%3B%0D%0A%20%20%20%20%20%20%20%20value%20%3D%20this._fixInvalidJSONValues(value)%3B%0D%0A%20%20%20%20%20%20%20%20json%5Bitem%5D%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_delete(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20delete%20json%5Bitem%5D%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_jlength(%7B%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20same%20function%0D%0A%20%20%20%20%20%20return%20this.json_length(%7B%20json%3A%20json%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_get(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%201...length%20%3A%20array%20content%2C%20-1...-length%20%3A%20reverse%20array%20content%2C%200%20%3A%20ERROR%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20item%20%3D%20Scratch.Cast.toNumber(item)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(item%20%3D%3D%200)%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20if%20(item%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20item--%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20let%20result%3B%0D%0A%20%20%20%20%20%20%20%20if%20(item%20%3E%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20json%5Bitem%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20json%5Bjson.length%20%2B%20item%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(typeof%20result%20%3D%3D%20%22object%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(result)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_itemH(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0D%0A%20%20%20%20%20%20%20%20let%20result%20%3D%20JSON.stringify(json.indexOf(item)%20%2B%201)%3B%0D%0A%20%20%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_from(%7B%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(Array.from(String(json)))%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_concat(%7B%20json%2C%20json2%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20json2%20%3D%20JSON.parse(json2)%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json.concat(json2))%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_push(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0D%0A%20%20%20%20%20%20%20%20json.push(item)%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_insert(%7B%20item%2C%20pos%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0D%0A%20%20%20%20%20%20%20%20json.splice(pos%20-%201%2C%200%2C%20item)%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_set(%7B%20item%2C%20pos%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20json%5Bpos%20-%201%5D%20%3D%20this._fixInvalidJSONValues(%0D%0A%20%20%20%20%20%20%20%20%20%20this.json_valid_return(item)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_delete(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20json.splice(item%20-%201%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_remove_all(%7B%20item%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0D%0A%20%20%20%20%20%20%20%20let%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20while%20(i%20%3C%20json.length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(json%5Bi%5D%20%3D%3D%3D%20item)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20json.splice(i%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_fromto(%7B%20json%2C%20item%2C%20item2%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).slice(item%20-%201%2C%20item2))%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_reverse(%7B%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).reverse())%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_flat(%7B%20json%2C%20depth%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).flat(depth))%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_create(%7B%20text%2C%20d%20%7D)%20%7B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(String(text).split(d))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_join(%7B%20json%2C%20d%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.parse(json).join(d)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_filter(%7B%20key%2C%20json%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(%0D%0A%20%20%20%20%20%20%20%20%20%20json.map((x)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(hasOwn(x%2C%20key))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20x%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_setlen(%7B%20json%2C%20len%20%7D)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20json.length%20%3D%20len%3B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_vm_getlist(%7B%20list%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20let%20listVariable%20%3D%20this.lookupList(list%2C%20util)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(listVariable)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(listVariable.value)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20json_vm_setlist(%7B%20list%2C%20json%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20let%20listVariable%20%3D%20this.lookupList(list%2C%20util)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(listVariable)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20array%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(array))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20safeArray%20%3D%20array.map((i)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20i%20%3D%3D%3D%20%22object%22)%20return%20JSON.stringify(i)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20listVariable.value%20%3D%20safeArray%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20json_array_sort(args)%20%7B%0D%0A%20%20%20%20%20%20let%20list%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20list%20%3D%20JSON.parse(args.list)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(!Array.isArray(list))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20list.sort(Scratch.Cast.compare)%3B%0D%0A%20%20%20%20%20%20if%20(args.order%20%3D%3D%3D%20%22descending%22)%20list.reverse()%3B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(list)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20Scratch.extensions.register(new%20JSONS())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Cloudlink%0D%0A%2F%2F%20ID%3A%20cloudlink%0D%0A%2F%2F%20Description%3A%20A%20powerful%20WebSocket%20extension%20for%20Scratch.%0D%0A%2F%2F%20By%3A%20MikeDEV%0D%0A%2F%2F%20License%3A%20MIT%0D%0A%0D%0A%2F*%20eslint-disable%20*%2F%0D%0A%2F%2F%20prettier-ignore%0D%0A(function%20(Scratch)%20%7B%0D%0A%0D%0A%20%20%2F*%0D%0A%20%20CloudLink%20Extension%20for%20TurboWarp%20v0.1.2.%0D%0A%0D%0A%20%20This%20extension%20should%20be%20fully%20compatible%20with%20projects%20developed%20using%0D%0A%20%20extensions%20S4.1%2C%20S4.0%2C%20and%20B3.0.%0D%0A%0D%0A%20%20Server%20versions%20supported%20via%20backward%20compatibility%3A%0D%0A%20%20-%20CL3%200.1.5%20(was%20called%20S2.2)%0D%0A%20%20-%20CL3%200.1.7%0D%0A%20%20-%20CL4%200.1.8.x%0D%0A%20%20-%20CL4%200.1.9.x%0D%0A%20%20-%20CL4%200.2.0%20(latest)%0D%0A%0D%0A%20%20MIT%20License%0D%0A%20%20Copyright%202023%20Mike%20J.%20Renaker%20%2F%20%22MikeDEV%22.%0D%0A%20%20Permission%20is%20hereby%20granted%2C%20free%20of%20charge%2C%20to%20any%20person%20obtaining%20a%20copy%20of%20this%20software%20and%20associated%20documentation%20files%20(the%20%22Software%22)%2C%0D%0A%20%20to%20deal%20in%20the%20Software%20without%20restriction%2C%20including%20without%20limitation%20the%20rights%20to%20use%2C%20copy%2C%20modify%2C%20merge%2C%20publish%2C%20distribute%2C%20sublicense%2C%0D%0A%20%20and%2For%20sell%20copies%20of%20the%20Software%2C%20and%20to%20permit%20persons%20to%20whom%20the%20Software%20is%20furnished%20to%20do%20so%2C%20subject%20to%20the%20following%20conditions%3A%0D%0A%0D%0A%20%20The%20above%20copyright%20notice%20and%20this%20permission%20notice%20shall%20be%20included%20in%20all%20copies%20or%20substantial%20portions%20of%20the%20Software.%0D%0A%0D%0A%20%20THE%20SOFTWARE%20IS%20PROVIDED%20%22AS%20IS%22%2C%20WITHOUT%20WARRANTY%20OF%20ANY%20KIND%2C%20EXPRESS%20OR%20IMPLIED%2C%20INCLUDING%20BUT%20NOT%20LIMITED%20TO%20THE%20WARRANTIES%20OF%20%0D%0A%20%20MERCHANTABILITY%2C%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20AND%20NONINFRINGEMENT.%20IN%20NO%20EVENT%20SHALL%20THE%20AUTHORS%20OR%20COPYRIGHT%20HOLDERS%20BE%20LIABLE%0D%0A%20%20FOR%20ANY%20CLAIM%2C%20DAMAGES%20OR%20OTHER%20LIABILITY%2C%20WHETHER%20IN%20AN%20ACTION%20OF%20CONTRACT%2C%20TORT%20OR%20OTHERWISE%2C%20ARISING%20FROM%2C%20OUT%20OF%20OR%20IN%20CONNECTION%0D%0A%20%20WITH%20THE%20SOFTWARE%20OR%20THE%20USE%20OR%20OTHER%20DEALINGS%20IN%20THE%20SOFTWARE.%0D%0A%0D%0A%20%20*%2F%0D%0A%0D%0A%20%20%2F%2F%20Require%20extension%20to%20be%20unsandboxed.%0D%0A%20%20'use%20strict'%3B%0D%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0D%0A%20%20%20%20throw%20new%20Error('The%20CloudLink%20extension%20must%20run%20unsandboxed.')%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Declare%20icons%20as%20static%20SVG%20URIs%0D%0A%20%20const%20cl_icon%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMjUuMzU0OCIgaGVpZ2h0PSIyMjUuMzU0OCIgdmlld0JveD0iMCwwLDIyNS4zNTQ4LDIyNS4zNTQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI3LjMyMjYsLTY3LjMyMjYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0xMjcuMzIyNiwxODBjMCwtNjIuMjMwMDEgNTAuNDQ3MzksLTExMi42Nzc0IDExMi42Nzc0LC0xMTIuNjc3NGM2Mi4yMzAwMSwwIDExMi42Nzc0LDUwLjQ0NzM5IDExMi42Nzc0LDExMi42Nzc0YzAsNjIuMjMwMDEgLTUwLjQ0NzM5LDExMi42Nzc0IC0xMTIuNjc3NCwxMTIuNjc3NGMtNjIuMjMwMDEsMCAtMTEyLjY3NzQsLTUwLjQ0NzM5IC0xMTIuNjc3NCwtMTEyLjY3NzR6IiBmaWxsPSIjMDBjMjhjIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZS13aWR0aD0iMCIvPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLXdpZHRoPSIxIj48cGF0aCBkPSJNMjg2LjEyMDM3LDE1MC41NTc5NWMyMy4yNDA4NiwwIDQyLjA3ODksMTguODM5NDYgNDIuMDc4OSw0Mi4wNzg5YzAsMjMuMjM5NDQgLTE4LjgzODAzLDQyLjA3ODkgLTQyLjA3ODksNDIuMDc4OWgtOTIuMjQwNzRjLTIzLjI0MDg2LDAgLTQyLjA3ODksLTE4LjgzOTQ2IC00Mi4wNzg5LC00Mi4wNzg5YzAsLTIzLjIzOTQ0IDE4LjgzODAzLC00Mi4wNzg5IDQyLjA3ODksLTQyLjA3ODloNC4xODg4N2MxLjgxMTUzLC0yMS41NzA1NSAxOS44OTM1NywtMzguNTEyODkgNDEuOTMxNSwtMzguNTEyODljMjIuMDM3OTMsMCA0MC4xMTk5NywxNi45NDIzNCA0MS45MzE1LDM4LjUxMjg5eiIgZmlsbD0iI2ZmZmZmZiIvPjxwYXRoIGQ9Ik0yODkuMDg2NTUsMjEwLjM0MTE0djkuMDQ2NjdoLTI2LjkxNjYzaC05LjA0NjY3di05LjA0NjY3di01NC41MDMzOWg5LjA0NjY3djU0LjUwMzM5eiIgZmlsbD0iIzAwYzI4YyIvPjxwYXRoIGQ9Ik0yMjIuNDA5MjUsMjE5LjM4NzgxYy04LjM1MzIsMCAtMTYuMzY0MzEsLTMuMzE4MzQgLTIyLjI3MDksLTkuMjI0OTJjLTUuOTA2NjEsLTUuOTA2NTggLTkuMjI0OTEsLTEzLjkxNzY4IC05LjIyNDkxLC0yMi4yNzA4OWMwLC04LjM1MzIgMy4zMTgyOSwtMTYuMzY0MzEgOS4yMjQ5MSwtMjIuMjcwOWM1LjkwNjU5LC01LjkwNjYxIDEzLjkxNzcsLTkuMjI0OTEgMjIuMjcwOSwtOS4yMjQ5MWgyMS4xMDg5djguOTM0OThoLTIxLjEwODl2MC4xMDI1N2MtNS45NTYyOCwwIC0xMS42Njg2NCwyLjM2NjE2IC0xNS44ODAzNyw2LjU3Nzg5Yy00LjIxMTczLDQuMjExNzMgLTYuNTc3ODksOS45MjQwOCAtNi41Nzc4OSwxNS44ODAzN2MwLDUuOTU2MjggMi4zNjYxNiwxMS42Njg2NCA2LjU3Nzg5LDE1Ljg4MDM3YzQuMjExNzMsNC4yMTE3MyA5LjkyNDA4LDYuNTc3OTMgMTUuODgwMzcsNi41Nzc5M3YwLjEwMjUzaDIxLjEwODl2OC45MzQ5OHoiIGZpbGw9IiMwMGMyOGMiLz48L2c%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MTEyLjY3NzQwNDA4NDA4MzkyOjExMi42Nzc0MDQwODQwODQwMy0tPg%3D%3D%22%3B%0D%0A%20%20const%20cl_block%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNzYuMzk4NTQiIGhlaWdodD0iMTIyLjY3MDY5IiB2aWV3Qm94PSIwLDAsMTc2LjM5ODU0LDEyMi42NzA2OSI%2BPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1MS44MDA3MywtMTE4LjY2NDY2KSI%2BPGcgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI%2BPGc%2BPHBhdGggZD0iTTI4Ni4xMjAzNywxNTcuMTc3NTVjMjMuMjQwODYsMCA0Mi4wNzg5LDE4LjgzOTQ2IDQyLjA3ODksNDIuMDc4OWMwLDIzLjIzOTQ0IC0xOC44MzgwMyw0Mi4wNzg5IC00Mi4wNzg5LDQyLjA3ODloLTkyLjI0MDc0Yy0yMy4yNDA4NiwwIC00Mi4wNzg5LC0xOC44Mzk0NiAtNDIuMDc4OSwtNDIuMDc4OWMwLC0yMy4yMzk0NCAxOC44MzgwMywtNDIuMDc4OSA0Mi4wNzg5LC00Mi4wNzg5aDQuMTg4ODdjMS44MTE1MywtMjEuNTcwNTUgMTkuODkzNTcsLTM4LjUxMjg5IDQxLjkzMTUsLTM4LjUxMjg5YzIyLjAzNzkzLDAgNDAuMTE5OTcsMTYuOTQyMzQgNDEuOTMxNSwzOC41MTI4OXoiIGZpbGw9IiNmZmZmZmYiLz48cGF0aCBkPSJNMjg5LjA4NjU1LDIxNi45NjA3NHY5LjA0NjY3aC0yNi45MTY2M2gtOS4wNDY2N3YtOS4wNDY2N3YtNTQuNTAzMzloOS4wNDY2N3Y1NC41MDMzOXoiIGZpbGw9IiMwMGMyOGMiLz48cGF0aCBkPSJNMjIyLjQwOTI1LDIyNi4wMDc0MWMtOC4zNTMyLDAgLTE2LjM2NDMxLC0zLjMxODM0IC0yMi4yNzA5LC05LjIyNDkyYy01LjkwNjYxLC01LjkwNjU4IC05LjIyNDkxLC0xMy45MTc2OCAtOS4yMjQ5MSwtMjIuMjcwODljMCwtOC4zNTMyIDMuMzE4MjksLTE2LjM2NDMxIDkuMjI0OTEsLTIyLjI3MDljNS45MDY1OSwtNS45MDY2MSAxMy45MTc3LC05LjIyNDkxIDIyLjI3MDksLTkuMjI0OTFoMjEuMTA4OXY4LjkzNDk4aC0yMS4xMDg5djAuMTAyNTdjLTUuOTU2MjgsMCAtMTEuNjY4NjQsMi4zNjYxNiAtMTUuODgwMzcsNi41Nzc4OWMtNC4yMTE3Myw0LjIxMTczIC02LjU3Nzg5LDkuOTI0MDggLTYuNTc3ODksMTUuODgwMzdjMCw1Ljk1NjI4IDIuMzY2MTYsMTEuNjY4NjQgNi41Nzc4OSwxNS44ODAzN2M0LjIxMTczLDQuMjExNzMgOS45MjQwOCw2LjU3NzkzIDE1Ljg4MDM3LDYuNTc3OTN2MC4xMDI1M2gyMS4xMDg5djguOTM0OTh6IiBmaWxsPSIjMDBjMjhjIi8%2BPC9nPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjg4LjE5OTI2OTk5OTk5OTk4OjYxLjMzNTM0NDk5OTk5OTk5LS0%2B%22%3B%0D%0A%0D%0A%20%20%2F%2F%20Declare%20VM%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0D%0A%0D%0A%20%20%2F*%0D%0A%20%20This%20versioning%20system%20is%20intended%20for%20future%20use%20with%20CloudLink.%0D%0A%0D%0A%20%20When%20the%20client%20sends%20the%20handshake%20request%2C%20it%20will%20provide%20the%20server%20with%20the%20following%20details%3A%0D%0A%20%20%7B%0D%0A%20%20%20%20%22cmd%22%3A%20%22handshake%22%2C%0D%0A%20%20%20%20%22val%22%3A%20%7B%0D%0A%20%20%20%20%20%20%22language%22%3A%20%22Scratch%22%2C%0D%0A%20%20%20%20%20%20%22version%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%22editorType%22%3A%20String%2C%0D%0A%20%20%20%20%20%20%20%20%22fullString%22%3A%20String%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20version.editorType%20-%20Provides%20info%20regarding%20the%20Scratch%20IDE%20this%20Extension%20variant%20natively%20supports.%20Intended%20for%20server-side%20version%20identification.%0D%0A%20%20version.versionNumber%20-%20Numerical%20version%20info.%20Increment%20by%201%20every%20Semantic%20Versioning%20Patch.%20Intended%20for%20server-side%20version%20identification.%0D%0A%20%20version.versionString%20-%20Semantic%20Versioning%20string.%20Intended%20for%20source-code%20versioning%20only.%0D%0A%0D%0A%20%20The%20extension%20will%20auto-generate%20a%20version%20string%20by%20using%20generateVersionString().%0D%0A%20%20*%2F%0D%0A%20%20const%20version%20%3D%20%7B%0D%0A%20%20%20%20editorType%3A%20%22TurboWarp%22%2C%0D%0A%20%20%20%20versionNumber%3A%202%2C%0D%0A%20%20%20%20versionString%3A%20%220.1.2%22%2C%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F%2F%20Store%20extension%20state%0D%0A%20%20var%20clVars%20%3D%20%7B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Editor-specific%20variable%20for%20hiding%20old%2C%20legacy-support%20blocks.%0D%0A%20%20%20%20hideCLDeprecatedBlocks%3A%20true%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20WebSocket%20object.%0D%0A%20%20%20%20socket%3A%20null%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Disable%20nags%20about%20old%20servers.%0D%0A%20%20%20%20currentServerUrl%3A%20%22%22%2C%0D%0A%20%20%20%20lastServerUrl%3A%20%22%22%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20gmsg.queue%20-%20An%20array%20of%20all%20currently%20queued%20gmsg%20values.%0D%0A%20%20%20%20%2F%2F%20gmsg.varState%20-%20The%20value%20of%20the%20most%20recently%20received%20gmsg%20message.%0D%0A%20%20%20%20%2F%2F%20gmsg.hasNew%20-%20Returns%20true%20if%20a%20new%20gmsg%20value%20has%20been%20received.%0D%0A%20%20%20%20gmsg%3A%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20pmsg.queue%20-%20An%20array%20of%20all%20currently%20queued%20pmsg%20values.%0D%0A%20%20%20%20%2F%2F%20pmsg.varState%20-%20The%20value%20of%20the%20most%20recently%20received%20pmsg%20message.%0D%0A%20%20%20%20%2F%2F%20pmsg.hasNew%20-%20Returns%20true%20if%20a%20new%20pmsg%20value%20has%20been%20received.%0D%0A%20%20%20%20pmsg%3A%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20gvar.queue%20-%20An%20array%20of%20all%20currently%20queued%20gvar%20values.%0D%0A%20%20%20%20%2F%2F%20gvar.varStates%20-%20A%20dictionary%20storing%20each%20gvar%20variable.%0D%0A%20%20%20%20gvar%3A%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20pvar.queue%20-%20An%20array%20of%20all%20currently%20queued%20pvar%20values.%0D%0A%20%20%20%20%2F%2F%20pvar.varStates%20-%20A%20dictionary%20storing%20each%20pvar%20variable.%0D%0A%20%20%20%20pvar%3A%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20direct.queue%20-%20An%20array%20of%20all%20currently%20queued%20direct%20values.%0D%0A%20%20%20%20%2F%2F%20direct.varState%20-%20The%20value%20of%20the%20most%20recently%20received%20direct%20message.%0D%0A%20%20%20%20%2F%2F%20direct.hasNew%20-%20Returns%20true%20if%20a%20new%20direct%20value%20has%20been%20received.%0D%0A%20%20%20%20direct%3A%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20statuscode.queue%20-%20An%20array%20of%20all%20currently%20queued%20statuscode%20values.%0D%0A%20%20%20%20%2F%2F%20statuscode.varState%20-%20The%20value%20of%20the%20most%20recently%20received%20statuscode%20message.%0D%0A%20%20%20%20%2F%2F%20statuscode.hasNew%20-%20Returns%20true%20if%20a%20new%20statuscode%20value%20has%20been%20received.%0D%0A%20%20%20%20statuscode%3A%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20ulist%20stores%20all%20currently%20connected%20client%20objects%20in%20the%20server%2Fall%20subscribed%20room(s).%0D%0A%20%20%20%20ulist%3A%20%5B%5D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Message-Of-The-Day%0D%0A%20%20%20%20motd%3A%20%22%22%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Client%20IP%20address%0D%0A%20%20%20%20client_ip%3A%20%22%22%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Server%20version%20string%0D%0A%20%20%20%20server_version%3A%20%22%22%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20listeners.enablerState%20-%20Set%20to%20true%20when%20%22createListener%22%20is%20used.%0D%0A%20%20%20%20%2F%2F%20listeners.enablerValue%20-%20Set%20to%20a%20new%20listener%20ID%20when%20%22createListener%22%20is%20used.%0D%0A%20%20%20%20%2F%2F%20listeners.current%20-%20Keeps%20track%20of%20all%20current%20listener%20IDs%20being%20awaited.%0D%0A%20%20%20%20%2F%2F%20listeners.varStates%20-%20Storage%20for%20all%20successfully%20awaited%20messages%20from%20specific%20listener%20IDs.%0D%0A%20%20%20%20listeners%3A%20%7B%0D%0A%20%20%20%20%20%20enablerState%3A%20false%2C%0D%0A%20%20%20%20%20%20enablerValue%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20current%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20rooms.enablerState%20-%20Set%20to%20true%20when%20%22selectRoomsInNextPacket%22%20is%20used.%0D%0A%20%20%20%20%2F%2F%20rooms.enablerValue%20-%20Set%20to%20a%20new%20list%20of%20rooms%20when%20%22selectRoomsInNextPacket%22%20is%20used.%0D%0A%20%20%20%20%2F%2F%20rooms.current%20-%20Keeps%20track%20of%20all%20current%20rooms%20being%20used.%0D%0A%20%20%20%20%2F%2F%20rooms.varStates%20-%20Storage%20for%20all%20per-room%20messages.%0D%0A%20%20%20%20%2F%2F%20rooms.isLinked%20-%20Set%20to%20true%20when%20a%20room%20link%20request%20is%20successful.%20False%20when%20unlinked.%0D%0A%20%20%20%20%2F%2F%20rooms.isAttemptingLink%20-%20Set%20to%20true%20when%20running%20%22linkToRooms()%22.%0D%0A%20%20%20%20%2F%2F%20rooms.isAttemptingUnlink%20-%20Set%20to%20true%20when%20running%20%22unlinkFromRooms()%22.%0D%0A%20%20%20%20rooms%3A%20%7B%0D%0A%20%20%20%20%20%20enablerState%3A%20false%2C%0D%0A%20%20%20%20%20%20enablerValue%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20isLinked%3A%20false%2C%0D%0A%20%20%20%20%20%20isAttemptingLink%3A%20false%2C%0D%0A%20%20%20%20%20%20isAttemptingUnlink%3A%20false%2C%0D%0A%20%20%20%20%20%20current%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Username%20state%0D%0A%20%20%20%20username%3A%20%7B%0D%0A%20%20%20%20%20%20attempted%3A%20false%2C%0D%0A%20%20%20%20%20%20accepted%3A%20false%2C%0D%0A%20%20%20%20%20%20temp%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20value%3A%20%22%22%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Store%20user_obj%20messages.%0D%0A%20%20%20%20myUserObject%3A%20%7B%7D%2C%0D%0A%0D%0A%20%20%20%20%2F*%20%0D%0A%20%20%20%20linkState.status%20-%20Current%20state%20of%20the%20connection.%0D%0A%20%20%20%20%20%200%20-%20Ready%0D%0A%20%20%20%20%20%201%20-%20Connecting%0D%0A%20%20%20%20%20%202%20-%20Connected%0D%0A%20%20%20%20%20%203%20-%20Disconnected%2C%20gracefully%20(OK)%0D%0A%20%20%20%20%20%204%20-%20Disconnected%2C%20abruptly%20(Connection%20failed%20%2F%20dropped)%0D%0A%20%20%20%20%0D%0A%20%20%20%20linkState.isAttemptingGracefulDisconnect%20-%20Boolean%20used%20to%20ignore%20websocket%20codes%20when%20disconnecting.%0D%0A%0D%0A%20%20%20%20linkstate.disconnectType%20-%20Type%20of%20disconnect%20that%20has%20occurred.%0D%0A%20%20%20%20%20%200%20-%20Safely%20disconnected%20(connected%20OK%20and%20gracefully%20disconnected)%0D%0A%20%20%20%20%20%201%20-%20Connection%20dropped%20(connected%20OK%20but%20lost%20connection%20afterwards)%0D%0A%20%20%20%20%20%202%20-%20Connection%20failed%20(attempted%20connection%20but%20did%20not%20succeed)%0D%0A%20%20%20%20%0D%0A%20%20%20%20linkstate.identifiedProtocol%20-%20Enables%20backwards%20compatibility%20for%20CL%20servers.%0D%0A%20%20%20%20%20%200%20-%20CL3%200.1.5%20%22S2.2%22%20-%20Doesn't%20support%20listeners%2C%20MOTD%2C%20or%20statuscodes.%0D%0A%20%20%20%20%20%201%20-%20CL3%200.1.7%20-%20Doesn't%20support%20listeners%2C%20has%20early%20MOTD%20support%2C%20and%20early%20statuscode%20support.%0D%0A%20%20%20%20%20%202%20-%20CL4%200.1.8.x%20-%20First%20version%20to%20support%20listeners%2C%20and%20modern%20server_version%20support.%20First%20version%20to%20implement%20rooms%20support.%0D%0A%20%20%20%20%20%203%20-%20CL4%200.1.9.x%20-%20First%20version%20to%20implement%20the%20handshake%20command%20and%20better%20ulist%20events.%0D%0A%20%20%20%20%20%204%20-%20CL4%200.2.0%20-%20Latest%20version.%20First%20version%20to%20implement%20client_obj%20and%20enhanced%20ulists.%0D%0A%20%20%20%20*%2F%0D%0A%20%20%20%20linkState%3A%20%7B%0D%0A%20%20%20%20%20%20status%3A%200%2C%0D%0A%20%20%20%20%20%20isAttemptingGracefulDisconnect%3A%20false%2C%0D%0A%20%20%20%20%20%20disconnectType%3A%200%2C%0D%0A%20%20%20%20%20%20identifiedProtocol%3A%200%2C%0D%0A%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Timeout%20of%20500ms%20upon%20connection%20to%20try%20and%20handshake.%20Automatically%20aborted%20if%20server_version%20is%20received%20within%20that%20timespan.%0D%0A%20%20%20%20handshakeTimeout%3A%20null%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Prevent%20accidentally%20sending%20the%20handshake%20command%20more%20than%20once%20per%20connection.%0D%0A%20%20%20%20handshakeAttempted%3A%20false%2C%0D%0A%0D%0A%20%20%20%20%2F%2F%20Storage%20for%20the%20publically%20available%20CloudLink%20instances.%0D%0A%20%20%20%20serverList%3A%20%7B%7D%2C%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20generateVersionString()%20%7B%0D%0A%20%20%20%20return%20%60%24%7Bversion.editorType%7D%20%24%7Bversion.versionString%7D%60%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Makes%20values%20safe%20for%20Scratch%20to%20represent.%0D%0A%20%20async%20function%20makeValueScratchSafe(data)%20%7B%0D%0A%20%20%20%20if%20(typeof%20data%20%3D%3D%20%22object%22)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(data)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(SyntaxError)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20String(data)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20return%20String(data)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Clears%20out%20and%20resets%20the%20various%20values%20of%20clVars%20upon%20disconnect.%0D%0A%20%20function%20resetOnClose()%20%7B%0D%0A%20%20%20%20window.clearTimeout(clVars.handshakeTimeout)%3B%0D%0A%20%20%20%20clVars.handshakeAttempted%20%3D%20false%3B%0D%0A%20%20%20%20clVars.socket%20%3D%20null%3B%0D%0A%20%20%20%20clVars.motd%20%3D%20%22%22%3B%0D%0A%20%20%20%20clVars.client_ip%20%3D%20%22%22%3B%0D%0A%20%20%20%20clVars.server_version%20%3D%20%22%22%3B%0D%0A%20%20%20%20clVars.linkState.identifiedProtocol%20%3D%200%3B%0D%0A%20%20%20%20clVars.linkState.isAttemptingGracefulDisconnect%20%3D%20false%3B%0D%0A%20%20%20%20clVars.myUserObject%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20clVars.gmsg%20%3D%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.pmsg%20%3D%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.gvar%20%3D%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.pvar%20%3D%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.direct%20%3D%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.statuscode%20%3D%20%7B%0D%0A%20%20%20%20%20%20queue%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varState%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.ulist%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20clVars.listeners%20%3D%20%7B%0D%0A%20%20%20%20%20%20enablerState%3A%20false%2C%0D%0A%20%20%20%20%20%20enablerValue%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20current%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.rooms%20%3D%20%7B%0D%0A%20%20%20%20%20%20enablerState%3A%20false%2C%0D%0A%20%20%20%20%20%20enablerValue%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20isLinked%3A%20false%2C%0D%0A%20%20%20%20%20%20isAttemptingLink%3A%20false%2C%0D%0A%20%20%20%20%20%20isAttemptingUnlink%3A%20false%2C%0D%0A%20%20%20%20%20%20current%3A%20%5B%5D%2C%0D%0A%20%20%20%20%20%20varStates%3A%20%7B%7D%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20clVars.username%20%3D%20%7B%0D%0A%20%20%20%20%20%20attempted%3A%20false%2C%0D%0A%20%20%20%20%20%20accepted%3A%20false%2C%0D%0A%20%20%20%20%20%20temp%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20value%3A%20%22%22%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20CL-specific%20netcode%20needed%20for%20sending%20messages%0D%0A%20%20function%20sendMessage(message)%20%7B%0D%0A%20%20%20%20%2F%2F%20Prevent%20running%20this%20while%20disconnected%0D%0A%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Ignoring%20attempt%20to%20send%20a%20packet%20while%20disconnected.%22)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20See%20if%20the%20outgoing%20val%20argument%20can%20be%20converted%20into%20JSON%0D%0A%20%20%20%20if%20(message.hasOwnProperty(%22val%22))%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20message.val%20%3D%20JSON.parse(message.val)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Attach%20listeners%0D%0A%20%20%20%20if%20(clVars.listeners.enablerState)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%200.1.8.x%20was%20the%20first%20server%20version%20to%20support%20listeners.%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3E%3D%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20message.listener%20%3D%20clVars.listeners.enablerValue%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Create%20listener%0D%0A%20%20%20%20%20%20%20%20clVars.listeners.varStates%5BString(args.ID)%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasNew%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20varState%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20eventHatTick%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Server%20is%20too%20old!%20Must%20be%20at%20least%200.1.8.x%20to%20support%20listeners.%22)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20clVars.listeners.enablerState%20%3D%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Check%20if%20server%20supports%20rooms%0D%0A%20%20%20%20if%20(((message.cmd%20%3D%3D%20%22link%22)%20%7C%7C%20(message.cmd%20%3D%3D%20%22unlink%22))%20%26%26%20(clVars.linkState.identifiedProtocol%20%3C%202))%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%200.1.8.x%20was%20the%20first%20server%20version%20to%20support%20rooms.%0D%0A%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Server%20is%20too%20old!%20Must%20be%20at%20least%200.1.8.x%20to%20support%20room%20linking%2Funlinking.%22)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Convert%20the%20outgoing%20message%20to%20JSON%0D%0A%20%20%20%20let%20outgoing%20%3D%20%22%22%3B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20outgoing%20%3D%20JSON.stringify(message)%3B%0D%0A%20%20%20%20%7D%20catch%20(SyntaxError)%20%7B%0D%0A%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Failed%20to%20send%20a%20packet%2C%20invalid%20syntax%3A%22%2C%20message)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Send%20the%20message%0D%0A%20%20%20%20console.log(%22%5BCloudLink%5D%20TX%3A%22%2C%20message)%3B%0D%0A%20%20%20%20clVars.socket.send(outgoing)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Only%20sends%20the%20handshake%20command.%0D%0A%20%20function%20sendHandshake()%20%7B%0D%0A%20%20%20%20if%20(clVars.handshakeAttempted)%20return%3B%0D%0A%20%20%20%20console.log(%22%5BCloudLink%5D%20Sending%20handshake...%22)%3B%0D%0A%20%20%20%20sendMessage(%7B%0D%0A%20%20%20%20%20%20cmd%3A%20%22handshake%22%2C%0D%0A%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20language%3A%20%22Scratch%22%2C%0D%0A%20%20%20%20%20%20%20%20version%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20editorType%3A%20version.editorType%2C%0D%0A%20%20%20%20%20%20%20%20%20%20versionNumber%3A%20version.versionNumber%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20listener%3A%20%22handshake_cfg%22%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20clVars.handshakeAttempted%20%3D%20true%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Compare%20the%20version%20string%20of%20the%20server%20to%20known%20compatible%20variants%20to%20configure%20clVars.linkState.identifiedProtocol.%0D%0A%20%20async%20function%20setServerVersion(version)%20%7B%0D%0A%20%20%20%20console.log(%60%5BCloudLink%5D%20Server%20version%3A%20%24%7BString(version)%7D%60)%3B%0D%0A%20%20%20%20clVars.server_version%20%3D%20version%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Auto-detect%20versions%0D%0A%20%20%20%20const%20versions%20%3D%20%7B%0D%0A%20%20%20%20%20%20%220.2.%22%3A%204%2C%0D%0A%20%20%20%20%20%20%220.1.9%22%3A%203%2C%0D%0A%20%20%20%20%20%20%220.1.8%22%3A%202%2C%0D%0A%20%20%20%20%20%20%220.1.7%22%3A%201%2C%0D%0A%20%20%20%20%20%20%220.1.5%22%3A%200%2C%0D%0A%20%20%20%20%20%20%22S2.2%22%3A%200%2C%20%2F%2F%200.1.5%0D%0A%20%20%20%20%20%20%220.1.%22%3A%200%2C%20%2F%2F%200.1.5%20or%20legacy%0D%0A%20%20%20%20%20%20%22S2.%22%3A%200%2C%20%2F%2F%20Legacy%0D%0A%20%20%20%20%20%20%22S1.%22%3A%20-1%20%2F%2F%20Obsolete%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20for%20(const%20%5Bkey%2C%20value%5D%20of%20Object.entries(versions))%20%7B%0D%0A%20%20%20%20%20%20if%20(version.includes(key))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3C%20value)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Disconnect%20if%20protcol%20is%20too%20old%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%20-1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Server%20is%20too%20old%20to%20enable%20leagacy%20support.%20Disconnecting.%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20clVars.socket.close(1000%2C%20%22%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Set%20the%20identified%20protocol%20variant%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.linkState.identifiedProtocol%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Log%20configured%20spec%20version%0D%0A%20%20%20%20console.log(%60%5BCloudLink%5D%20Configured%20protocol%20spec%20to%20v%24%7BclVars.linkState.identifiedProtocol%7D.%60)%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Fix%20timing%20bug%0D%0A%20%20%20%20clVars.linkState.status%20%3D%202%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Fire%20event%20hats%20(only%20one%20not%20broken)%0D%0A%20%20%20%20runtime.startHats('cloudlink_onConnect')%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Don't%20nag%20user%20if%20they%20already%20trusted%20this%20server%0D%0A%20%20%20%20if%20(clVars.currentServerUrl%20%3D%3D%3D%20clVars.lastServerUrl)%20return%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Ask%20user%20if%20they%20wish%20to%20stay%20connected%20if%20the%20server%20is%20unsupported%0D%0A%20%20%20%20if%20((clVars.linkState.identifiedProtocol%20%3C%204)%20%26%26%20(!confirm(%0D%0A%20%20%20%20%20%20%60You%20have%20connected%20to%20an%20old%20CloudLink%20server%2C%20running%20version%20%24%7BclVars.server_version%7D.%5Cn%5CnFor%20your%20security%20and%20privacy%2C%20we%20recommend%20you%20disconnect%20from%20this%20server%20and%20connect%20to%20an%20up-to-date%20server.%5Cn%5CnClick%2Ftap%20%5C%22OK%5C%22%20to%20stay%20connected.%60%0D%0A%20%20%20%20)))%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20Close%20the%20connection%20if%20they%20choose%20%22Cancel%22%0D%0A%20%20%20%20%20%20clVars.linkState.isAttemptingGracefulDisconnect%20%3D%20true%3B%0D%0A%20%20%20%20%20%20clVars.socket.close(1000%2C%20%22Client%20going%20away%20(legacy%20server%20rejected%20by%20end%20user)%22)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20%2F%2F%20Don't%20nag%20user%20the%20next%20time%20they%20connect%20to%20this%20server%0D%0A%20%20%20%20clVars.lastServerUrl%20%3D%20clVars.currentServerUrl%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20CL-specific%20netcode%20needed%20to%20make%20the%20extension%20work%0D%0A%20%20async%20function%20handleMessage(data)%20%7B%0D%0A%20%20%20%20%2F%2F%20Parse%20the%20message%20JSON%0D%0A%20%20%20%20let%20packet%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20packet%20%3D%20JSON.parse(data)%0D%0A%20%20%20%20%7D%20catch%20(SyntaxError)%20%7B%0D%0A%20%20%20%20%20%20console.error(%22%5BCloudLink%5D%20Incoming%20message%20parse%20failure!%20Is%20this%20really%20a%20CloudLink%20server%3F%22%2C%20data)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Handle%20packet%20commands%0D%0A%20%20%20%20if%20(!packet.hasOwnProperty(%22cmd%22))%20%7B%0D%0A%20%20%20%20%20%20console.error(%22%5BCloudLink%5D%20Incoming%20message%20read%20failure!%20This%20message%20doesn't%20contain%20the%20required%20%5C%22cmd%5C%22%20key.%20Is%20this%20really%20a%20CloudLink%20server%3F%22%2C%20packet)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20console.log(%22%5BCloudLink%5D%20RX%3A%22%2C%20packet)%3B%0D%0A%20%20%20%20switch%20(packet.cmd)%20%7B%0D%0A%20%20%20%20%20%20case%20%22gmsg%22%3A%0D%0A%20%20%20%20%20%20%20%20clVars.gmsg.varState%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20clVars.gmsg.hasNew%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20clVars.gmsg.queue.push(packet)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.gmsg.eventHatTick%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22pmsg%22%3A%0D%0A%20%20%20%20%20%20%20%20clVars.pmsg.varState%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20clVars.pmsg.hasNew%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20clVars.pmsg.queue.push(packet)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.pmsg.eventHatTick%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22gvar%22%3A%0D%0A%20%20%20%20%20%20%20%20clVars.gvar.varStates%5BString(packet.name)%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasNew%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20varState%3A%20packet.val%2C%0D%0A%20%20%20%20%20%20%20%20%20%20eventHatTick%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20clVars.gvar.queue.push(packet)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.gvar.eventHatTick%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22pvar%22%3A%0D%0A%20%20%20%20%20%20%20%20clVars.pvar.varStates%5BString(packet.name)%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasNew%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20varState%3A%20packet.val%2C%0D%0A%20%20%20%20%20%20%20%20%20%20eventHatTick%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20clVars.pvar.queue.push(packet)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.pvar.eventHatTick%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22direct%22%3A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Handle%20events%20from%20older%20server%20versions%0D%0A%20%20%20%20%20%20%20%20if%20(packet.val.hasOwnProperty(%22cmd%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20switch%20(packet.val.cmd)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Server%200.1.5%20(at%20least)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%22vers%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.clearTimeout(clVars.handshakeTimeout)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20setServerVersion(packet.val.val)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Server%200.1.7%20(at%20least)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%22motd%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Message%20of%20the%20day%3A%20%5C%22%24%7Bpacket.val.val%7D%5C%22%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.motd%20%3D%20packet.val.val%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Store%20direct%20value%0D%0A%20%20%20%20%20%20%20%20clVars.direct.varState%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20clVars.direct.hasNew%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20clVars.direct.queue.push(packet)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.direct.eventHatTick%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22client_obj%22%3A%0D%0A%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Client%20object%20for%20this%20session%3A%22%2C%20packet.val)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.myUserObject%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22statuscode%22%3A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Store%20direct%20value%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v0%20(0.1.5%20and%20legacy)%20don't%20implement%20status%20codes.%0D%0A%20%20%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Received%20a%20statuscode%20message%20while%20using%20protocol%20v0.%20This%20event%20shouldn't%20happen.%20It's%20likely%20that%20this%20server%20is%20modified%20(did%20MikeDEV%20overlook%20some%20unexpected%20behavior%3F).%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v1%20(0.1.7)%20uses%20%22val%22%20to%20represent%20the%20code.%0D%0A%20%20%20%20%20%20%20%20else%20if%20(clVars.linkState.identifiedProtocol%20%3D%3D%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.statuscode.varState%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v2%20(0.1.8.x)%20uses%20%22code%22%20instead.%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v3-v4%20(0.1.9.x%20-%20latest%2C%200.2.0)%20adds%20%22code_id%22%20to%20the%20payload.%20Ignored%20by%20Scratch%20clients.%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Handle%20setup%20listeners%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(packet.hasOwnProperty(%22listener%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20(packet.listener)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22username_cfg%22%3A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Username%20accepted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(packet.code.includes(%22I%3A100%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.myUserObject%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.username.value%20%3D%20packet.val.username%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.username.accepted%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Username%20has%20been%20set%20to%20%5C%22%24%7BclVars.username.value%7D%5C%22%20successfully!%60)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Username%20rejected%20%2F%20error%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Username%20rejected%20by%20the%20server!%20Error%20code%20%24%7Bpacket.code%7D.%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22handshake_cfg%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Prevent%20handshake%20responses%20being%20stored%20in%20the%20statuscode%20variables%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Server%20responded%20to%20our%20handshake!%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22link%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Room%20link%20accepted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!clVars.rooms.isAttemptingLink)%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(packet.code.includes(%22I%3A100%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.rooms.isAttemptingLink%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.rooms.isLinked%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Room%20linked%20successfully!%22)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Room%20link%20rejected%20%2F%20error%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Room%20link%20rejected!%20Error%20code%20%24%7Bpacket.code%7D.%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22unlink%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Room%20unlink%20accepted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!clVars.rooms.isAttemptingUnlink)%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(packet.code.includes(%22I%3A100%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.rooms.isAttemptingUnlink%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.rooms.isLinked%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Room%20unlinked%20successfully!%22)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Room%20link%20rejected%20%2F%20error%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Room%20unlink%20rejected!%20Error%20code%20%24%7Bpacket.code%7D.%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20state%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.statuscode.varState%20%3D%20packet.code%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Update%20state%0D%0A%20%20%20%20%20%20%20%20clVars.statuscode.hasNew%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20clVars.statuscode.queue.push(packet)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.statuscode.eventHatTick%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22ulist%22%3A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v0-v1%20(0.1.5%20and%20legacy%20-%200.1.7)%20use%20a%20semicolon%20(%3B)%20separated%20string%20for%20the%20userlist.%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20(clVars.linkState.identifiedProtocol%20%3D%3D%200)%0D%0A%20%20%20%20%20%20%20%20%20%20%7C%7C%20%0D%0A%20%20%20%20%20%20%20%20%20%20(clVars.linkState.identifiedProtocol%20%3D%3D%201)%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Split%20the%20username%20list%20string%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.ulist%20%3D%20String(packet.val).split('%3B')%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Get%20rid%20of%20blank%20entry%20at%20the%20end%20of%20the%20list%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.ulist.pop(clVars.ulist.length)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Check%20if%20username%20has%20been%20set%20(since%20older%20servers%20don't%20implement%20statuscodes%20or%20listeners)%0D%0A%20%20%20%20%20%20%20%20%20%20if%20((clVars.username.attempted)%20%26%26%20(clVars.ulist.includes(clVars.username.temp)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.username.value%20%3D%20clVars.username.temp%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.username.accepted%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Username%20has%20been%20set%20to%20%5C%22%24%7BclVars.username.value%7D%5C%22%20successfully!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v2%20(0.1.8.x)%20uses%20a%20list%20of%20objects%20w%2F%20%22username%22%20and%20%22id%22%20instead.%0D%0A%20%20%20%20%20%20%20%20else%20if%20(clVars.linkState.identifiedProtocol%20%3D%3D%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.ulist%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Protocol%20v3-v4%20(0.1.9.x%20-%20latest%2C%200.2.0)%20uses%20%22mode%22%20to%20add%2Fset%2Fremove%20entries%20to%20the%20userlist.%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Check%20for%20%22mode%22%20key%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!packet.hasOwnProperty(%22mode%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Userlist%20message%20did%20not%20specify%20%5C%22mode%5C%22%20while%20running%20in%20protocol%20mode%203%20or%204.%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Handle%20methods%0D%0A%20%20%20%20%20%20%20%20%20%20switch%20(packet.mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'set'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.ulist%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'add'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.ulist.push(packet.val)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'remove'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clVars.ulist.slice(clVars.ulist.indexOf(packet.val)%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Unrecognised%20userlist%20mode%3A%20%5C%22%24%7Bpacket.mode%7D%5C%22.%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Updating%20userlist%3A%22%2C%20clVars.ulist)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22server_version%22%3A%0D%0A%20%20%20%20%20%20%20%20window.clearTimeout(clVars.handshakeTimeout)%3B%0D%0A%20%20%20%20%20%20%20%20await%20setServerVersion(packet.val)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22client_ip%22%3A%0D%0A%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Client%20IP%20address%3A%20%24%7Bpacket.val%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20This%20server%20has%20relayed%20your%20identified%20IP%20address%20to%20you.%20Under%20normal%20circumstances%2C%20this%20will%20be%20erased%20server-side%20when%20you%20disconnect%2C%20but%20you%20should%20still%20be%20careful.%20Unless%20you%20trust%20this%20server%2C%20it%20is%20not%20recommended%20to%20send%20login%20credentials%20or%20personal%20info.%22)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.client_ip%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22motd%22%3A%0D%0A%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Message%20of%20the%20day%3A%20%5C%22%24%7Bpacket.val%7D%5C%22%60)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.motd%20%3D%20packet.val%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Unrecognised%20command%3A%20%5C%22%24%7Bpacket.cmd%7D%5C%22.%60)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Handle%20listeners%0D%0A%20%20%20%20if%20(packet.hasOwnProperty(%22listener%22))%20%7B%0D%0A%20%20%20%20%20%20if%20(clVars.listeners.current.includes(String(packet.listener)))%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Remove%20the%20listener%20from%20the%20currently%20listening%20list%0D%0A%20%20%20%20%20%20%20%20clVars.listeners.current.splice(%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.listeners.current.indexOf(String(packet.listener))%2C%20%0D%0A%20%20%20%20%20%20%20%20%20%201%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Update%20listener%20states%0D%0A%20%20%20%20%20%20%20%20clVars.listeners.varStates%5BString(packet.listener)%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hasNew%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20varState%3A%20packet%2C%0D%0A%20%20%20%20%20%20%20%20%20%20eventHatTick%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Basic%20netcode%20needed%20to%20make%20the%20extension%20work%0D%0A%20%20async%20function%20newClient(url)%20%7B%0D%0A%20%20%20%20if%20(!(await%20Scratch.canFetch(url)))%20%7B%0D%0A%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Did%20not%20get%20permission%20to%20connect%2C%20aborting...%22)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Set%20the%20link%20state%20to%20connecting%0D%0A%20%20%20%20clVars.linkState.status%20%3D%201%3B%0D%0A%20%20%20%20clVars.linkState.disconnectType%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Establish%20a%20connection%20to%20the%20server%0D%0A%20%20%20%20console.log(%22%5BCloudLink%5D%20Connecting%20to%20server%3A%22%2C%20url)%3B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20clVars.socket%20%3D%20new%20WebSocket(url)%3B%0D%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20An%20exception%20has%20occurred%3A%22%2C%20e)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Bind%20connection%20established%20event%0D%0A%20%20%20%20clVars.socket.onopen%20%3D%20function%20(event)%20%7B%0D%0A%20%20%20%20%20%20clVars.currentServerUrl%20%3D%20url%3B%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%2F%2F%20Set%20the%20link%20state%20to%20connected.%0D%0A%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Connected.%22)%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20If%20a%20server_version%20message%20hasn't%20been%20received%20in%20over%20half%20a%20second%2C%20try%20to%20broadcast%20a%20handshake%0D%0A%20%20%20%20%20%20clVars.handshakeTimeout%20%3D%20window.setTimeout(function()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Hmm...%20This%20server%20hasn't%20sent%20us%20it's%20server%20info.%20Going%20to%20attempt%20a%20handshake.%22)%3B%0D%0A%20%20%20%20%20%20%20%20sendHandshake()%3B%0D%0A%20%20%20%20%20%20%7D%2C%20500)%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Return%20promise%20(during%20setup)%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Bind%20message%20handler%20event%0D%0A%20%20%20%20clVars.socket.onmessage%20%3D%20function%20(event)%20%7B%0D%0A%20%20%20%20%20%20handleMessage(event.data)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20Bind%20connection%20closed%20event%0D%0A%20%20%20%20clVars.socket.onclose%20%3D%20function%20(event)%20%7B%0D%0A%20%20%20%20%20%20switch%20(clVars.linkState.status)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%20%2F%2F%20Was%20connecting%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Set%20the%20link%20state%20to%20ungraceful%20disconnect.%0D%0A%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Connection%20failed%20(%24%7Bevent.code%7D).%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.linkState.status%20%3D%204%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.linkState.disconnectType%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%202%3A%20%2F%2F%20Was%20already%20connected%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(event.wasClean%20%7C%7C%20clVars.linkState.isAttemptingGracefulDisconnect)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Set%20the%20link%20state%20to%20graceful%20disconnect.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Disconnected%20(%24%7Bevent.code%7D%20%24%7Bevent.reason%7D).%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.linkState.status%20%3D%203%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.linkState.disconnectType%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Set%20the%20link%20state%20to%20ungraceful%20disconnect.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%5BCloudLink%5D%20Lost%20connection%20(%24%7Bevent.code%7D%20%24%7Bevent.reason%7D).%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.linkState.status%20%3D%204%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.linkState.disconnectType%20%3D%202%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Reset%20clVars%20values%0D%0A%20%20%20%20%20%20resetOnClose()%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Run%20all%20onClose%20event%20blocks%0D%0A%20%20%20%20%20%20runtime.startHats('cloudlink_onClose')%3B%0D%0A%20%20%20%20%20%20%2F%2F%20Return%20promise%20(during%20setup)%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20GET%20the%20serverList%0D%0A%20%20try%20%7B%0D%0A%20%20%20%20Scratch.fetch(%0D%0A%20%20%20%20%20%20%22https%3A%2F%2Fraw.githubusercontent.com%2FMikeDev101%2Fcloudlink%2Fmaster%2Fserverlist.json%22%0D%0A%20%20%20%20)%0D%0A%20%20%20%20%20%20.then((response)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20response.text()%3B%0D%0A%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20.then((data)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20clVars.serverList%20%3D%20JSON.parse(data)%3B%0D%0A%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20.catch((err)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20An%20error%20has%20occurred%20while%20parsing%20the%20public%20server%20list%3A%22%2C%20err)%3B%0D%0A%20%20%20%20%20%20%20%20clVars.serverList%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%7D%20catch%20(err)%20%7B%0D%0A%20%20%20%20console.log(%22%5BCloudLink%5D%20An%20error%20has%20occurred%20while%20fetching%20the%20public%20server%20list%3A%22%2C%20err)%3B%0D%0A%20%20%20%20clVars.serverList%20%3D%20%7B%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Declare%20the%20CloudLink%20library.%0D%0A%20%20class%20CloudLink%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20'cloudlink'%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20'CloudLink'%2C%0D%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20cl_block%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20cl_icon%2C%0D%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fgithub.com%2FMikeDev101%2Fcloudlink%2Fwiki%2FScratch-Client%22%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnGlobalData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Global%20data%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnPrivateData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Private%20data%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnDirectData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Direct%20data%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnLinkData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Link%20status%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnStatusCode%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Status%20code%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnUserListData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Usernames%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnUsernameDataNew%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22My%20username%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnUsernameData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22(OLD%20-%20DO%20NOT%20USE%20IN%20NEW%20PROJECTS)%20My%20username%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnVersionData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Extension%20version%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnServerVersion%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Server%20version%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnServerList%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Server%20list%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnMOTD%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Server%20MOTD%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnClientIP%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22My%20IP%20address%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnUserObject%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22My%20user%20object%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnListenerData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Response%20for%20listener%20%5BID%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22example-listener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22readQueueSize%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Size%20of%20queue%20for%20%5BTYPE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22allmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22All%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22readQueueData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Packet%20queue%20for%20%5BTYPE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22allmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22All%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnVarData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BTYPE%5D%20%5BVAR%5D%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22varmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Global%20variables%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22parseJSON%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BPATH%5D%20of%20%5BJSON_STRING%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PATH%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'fruit%2Fapples'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20JSON_STRING%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22fruit%22%3A%20%7B%22apples%22%3A%202%2C%20%22bananas%22%3A%203%7D%2C%20%22total_fruit%22%3A%205%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFromJSONArray%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'Get%20%5BNUM%5D%20from%20JSON%20array%20%5BARRAY%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22foo%22%2C%22bar%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22makeJSON%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Convert%20%5BtoBeJSONified%5D%20to%20JSON%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toBeJSONified%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22test%22%3A%20true%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isValidJSON%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Is%20%5BJSON_STRING%5D%20valid%20JSON%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20JSON_STRING%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22fruit%22%3A%20%7B%22apples%22%3A%202%2C%20%22bananas%22%3A%203%7D%2C%20%22total_fruit%22%3A%205%7D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22fetchURL%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Fetch%20data%20from%20URL%20%5Burl%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2Fhello.txt%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22requestURL%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20request%20with%20method%20%5Bmethod%5D%20for%20URL%20%5Burl%5D%20with%20data%20%5Bdata%5D%20and%20headers%20%5Bheaders%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20method%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22GET%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2Fhello.txt%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%7B%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20headers%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%7B%7D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onConnect%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22When%20connected%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%20%2F%2F%20Gets%20called%20by%20runtime.startHats%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onClose%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22When%20disconnected%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%20%2F%2F%20Gets%20called%20by%20runtime.startHats%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onListener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22When%20I%20receive%20new%20message%20with%20listener%20%5BID%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22example-listener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onNewPacket%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22When%20I%20receive%20new%20%5BTYPE%5D%20message%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22almostallmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Global%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22onNewVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22When%20I%20receive%20new%20%5BTYPE%5D%20data%20for%20%5BVAR%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22varmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Global%20variables%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getComState%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Connected%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getRoomState%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Linked%20to%20rooms%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getComLostConnectionState%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Lost%20connection%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getComFailedConnectionState%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Failed%20to%20connnect%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getUsernameState%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Username%20synced%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnIsNewData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Got%20New%20%5BTYPE%5D%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22datamenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Global%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnIsNewVarData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Got%20New%20%5BTYPE%5D%20data%20for%20variable%20%5BVAR%5D%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22varmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'Global%20variables'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnIsNewListener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Got%20new%20packet%20with%20listener%20%5BID%5D%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22example-listener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22checkForID%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22ID%20%5BID%5D%20connected%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Another%20name%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22openSocket%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Connect%20to%20%5BIP%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20IP%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22ws%3A%2F%2F127.0.0.1%3A3000%2F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22openSocketPublicServers%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Connect%20to%20server%20%5BID%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22closeSocket%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Disconnect%22%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setMyName%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Set%20%5BNAME%5D%20as%20username%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NAME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22A%20name%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createListener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Attach%20listener%20%5BID%5D%20to%20next%20packet%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22example-listener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'linkToRooms'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Link%20to%20room(s)%20%5BROOMS%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROOMS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22test%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22selectRoomsInNextPacket%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Select%20room(s)%20%5BROOMS%5D%20for%20next%20packet%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROOMS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22test%22%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22unlinkFromRooms%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Unlink%20from%20all%20rooms%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22sendGData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22sendPData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20%5BDATA%5D%20to%20%5BID%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Another%20name%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22sendGDataAsVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20variable%20%5BVAR%5D%20with%20data%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Banana%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22sendPDataAsVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20variable%20%5BVAR%5D%20to%20%5BID%5D%20with%20data%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Banana%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Another%20name%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22runCMDnoID%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20command%20without%20ID%20%5BCMD%5D%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CMD%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22direct%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22val%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22runCMD%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Send%20command%20%5BCMD%5D%20%5BID%5D%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CMD%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22direct%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22id%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22val%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetNewData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Reset%20got%20new%20%5BTYPE%5D%20status%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22datamenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Global%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetNewVarData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Reset%20got%20new%20%5BTYPE%5D%20%5BVAR%5D%20status%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22varmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Global%20variables%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VAR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Apple%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetNewListener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Reset%20got%20new%20%5BID%5D%20listener%20status%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22example-listener%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clearAllPackets%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Clear%20all%20packets%20for%20%5BTYPE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22allmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22All%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22showOldBlocks%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Show%20old%20blocks%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22hideOldBlocks%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Hide%20old%20blocks%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20clVars.hideCLDeprecatedBlocks%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20datamenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'Global%20data'%2C%20'Private%20data'%2C%20'Direct%20data'%2C%20'Status%20code'%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20varmenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'Global%20variables'%2C%20'Private%20variables'%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20allmenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'Global%20data'%2C%20'Private%20data'%2C%20'Direct%20data'%2C%20'Status%20code'%2C%20%22Global%20variables%22%2C%20%22Private%20variables%22%2C%20%22All%20data%22%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20almostallmenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'Global%20data'%2C%20'Private%20data'%2C%20'Direct%20data'%2C%20'Status%20code'%2C%20%22Global%20variables%22%2C%20%22Private%20variables%22%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Credit%20to%20LilyMakesThings'%20%22Lily's%20toolbox%22%20for%20this%20feature.%0D%0A%20%20%20%20showOldBlocks()%20%7B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20confirm(%0D%0A%20%20%20%20%20%20%20%20%20%20%22Do%20you%20want%20to%20display%20old%20blocks%3F%5Cn%5CnThese%20blocks%20are%20not%20recommended%20for%20use%20in%20newer%20CloudLink%20projects%20as%20they%20are%20deprecated%20or%20have%20better%20implementation%20in%20other%20extensions.%22%0D%0A%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20clVars.hideCLDeprecatedBlocks%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20vm.extensionManager.refreshBlocks()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Credit%20to%20LilyMakesThings'%20%22Lily's%20toolbox%22%20for%20this%20feature.%0D%0A%20%20%20%20hideOldBlocks()%20%7B%0D%0A%20%20%20%20%20%20clVars.hideCLDeprecatedBlocks%20%3D%20true%3B%0D%0A%20%20%20%20%20%20vm.extensionManager.refreshBlocks()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20gmsg%20values.%0D%0A%20%20%20%20returnGlobalData()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.gmsg.varState)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20pmsg%20values.%0D%0A%20%20%20%20returnPrivateData()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.pmsg.varState)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20direct%20values.%0D%0A%20%20%20%20returnDirectData()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.direct.varState)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20current%20link%20state.%0D%0A%20%20%20%20returnLinkData()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.linkState.status)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporer%20-%20Returns%20status%20code%20values.%0D%0A%20%20%20%20returnStatusCode()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.statuscode.varState)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20ulist%20value.%0D%0A%20%20%20%20returnUserListData()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.ulist)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20currently%20set%20username.%0D%0A%20%20%20%20returnUsernameDataNew()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.username.value)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20(OLD)%20Returns%20currently%20set%20username%20(returns%20user%20object%20to%20retain%20compatibility%20with%20old%20projects).%0D%0A%20%20%20%20returnUsernameData()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.myUserObject)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20the%20reported%20user%20object%20of%20the%20client%20(Snowflake%20ID%2C%20UUID%2C%20Username)%20-%20Intended%20replacement%20for%20the%20old%20username%20reporter%20block.%0D%0A%20%20%20%20returnUserObject()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.myUserObject)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20current%20client%20version.%0D%0A%20%20%20%20returnVersionData()%20%7B%0D%0A%20%20%20%20%20%20return%20generateVersionString()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20reported%20server%20version.%0D%0A%20%20%20%20returnServerVersion()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.server_version)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20the%20serverlist%20value.%0D%0A%20%20%20%20returnServerList()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.serverList)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20the%20reported%20Message-Of-The-Day.%0D%0A%20%20%20%20returnMOTD()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.motd)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20the%20reported%20IP%20address%20of%20the%20client.%0D%0A%20%20%20%20returnClientIP()%20%7B%0D%0A%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.client_ip)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20data%20for%20a%20specific%20listener%20ID.%0D%0A%20%20%20%20%2F%2F%20ID%20-%20String%20(listener%20ID)%0D%0A%20%20%20%20returnListenerData(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(!clVars.listeners.varStates.hasOwnProperty(String(args.ID)))%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Listener%20ID%20%24%7Bargs.ID%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20clVars.listeners.varStates%5BString(args.ID)%5D.varState%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20the%20size%20of%20the%20message%20queue.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20allmenu)%0D%0A%20%20%20%20readQueueSize(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.gmsg.queue.length%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.pmsg.queue.length%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Direct%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.direct.queue.length%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Status%20code'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.statuscode.queue.length%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.gvar.queue.length%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.pvar.queue.length%3B%0D%0A%20%20%20%20%20%20%20%20case%20'All%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.gmsg.queue.length%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.pmsg.queue.length%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.direct.queue.length%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.statuscode.queue.length%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.gvar.queue.length%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.pvar.queue.length%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20all%20values%20of%20the%20message%20queue.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20allmenu)%0D%0A%20%20%20%20readQueueData(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.gmsg.queue)%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.pmsg.queue)%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Direct%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.direct.queue)%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Status%20code'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.statuscode.queue)%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.gvar.queue)%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(clVars.pvar.queue)%3B%0D%0A%20%20%20%20%20%20%20%20case%20'All%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20makeValueScratchSafe(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gmsg%3A%20clVars.gmsg.queue%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pmsg%3A%20clVars.pmsg.queue%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20direct%3A%20clVars.direct.queue%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20statuscode%3A%20clVars.statuscode.queue%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gvar%3A%20clVars.gvar.queue%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pvar%3A%20clVars.pvar.queue%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20a%20gvar%2Fpvar%20value.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20varmenu)%2C%20VAR%20-%20String%20(variable%20name)%0D%0A%20%20%20%20returnVarData(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20if%20(!clVars.gvar.varStates.hasOwnProperty(String(args.VAR)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Global%20variable%20%24%7Bargs.VAR%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20clVars.gvar.varStates%5BString(args.VAR)%5D.varState%3B%0D%0A%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20if%20(!clVars.pvar.varStates.hasOwnProperty(String(args.VAR)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Private%20variable%20%24%7Bargs.VAR%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20clVars.pvar.varStates%5BString(args.VAR)%5D.varState%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Gets%20a%20JSON%20key%20value%20from%20a%20JSON%20string.%0D%0A%20%20%20%20%2F%2F%20PATH%20-%20String%2C%20JSON_STRING%20-%20String%0D%0A%20%20%20%20parseJSON(args)%20%7B%20%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20path%20%3D%20args.PATH.toString().split('%2F').map(prop%20%3D%3E%20decodeURIComponent(prop))%3B%0D%0A%20%20%20%20%20%20%20%20if%20(path%5B0%5D%20%3D%3D%3D%20'')%20path.splice(0%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(path%5Bpath.length%20-%201%5D%20%3D%3D%3D%20'')%20path.splice(-1%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20let%20json%3B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse('%20'%20%2B%20args.JSON_STRING)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20e.message%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20path.forEach(prop%20%3D%3E%20json%20%3D%20json%5Bprop%5D)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(json%20%3D%3D%3D%20null)%20return%20'null'%3B%0D%0A%20%20%20%20%20%20%20%20else%20if%20(json%20%3D%3D%3D%20undefined)%20return%20''%3B%0D%0A%20%20%20%20%20%20%20%20else%20if%20(typeof%20json%20%3D%3D%3D%20'object')%20return%20JSON.stringify(json)%3B%0D%0A%20%20%20%20%20%20%20%20else%20return%20json.toString()%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20''%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20an%20entry%20from%20a%20JSON%20array%20(0-based).%0D%0A%20%20%20%20%2F%2F%20NUM%20-%20Number%2C%20ARRAY%20-%20String%20(JSON%20Array)%0D%0A%20%20%20%20getFromJSONArray(args)%20%7B%0D%0A%20%20%20%20%20%20var%20json_array%20%3D%20JSON.parse(args.ARRAY)%3B%0D%0A%20%20%20%20%20%20if%20(json_array%5Bargs.NUM%5D%20%3D%3D%20%22undefined%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20let%20data%20%3D%20json_array%5Bargs.NUM%5D%3B%0D%0A%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(typeof%20(data)%20%3D%3D%20%22object%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20data%20%3D%20JSON.stringify(data)%3B%20%2F%2F%20Make%20the%20JSON%20safe%20for%20Scratch%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%0D%0A%20%20%20%20%20%20%20%20return%20data%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20a%20RESTful%20GET%20promise.%0D%0A%20%20%20%20%2F%2F%20url%20-%20String%0D%0A%20%20%20%20fetchURL(args)%20%7B%0D%0A%20%20%20%20%20%20return%20Scratch.fetch(args.url%2C%20%7Bmethod%3A%20%22GET%22%7D)%0D%0A%20%20%20%20%20%20%20%20.then(response%20%3D%3E%20response.text())%0D%0A%20%20%20%20%20%20%20%20.catch(error%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Fetch%20error%3A%20%24%7Berror%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20a%20RESTful%20request%20promise.%0D%0A%20%20%20%20%2F%2F%20url%20-%20String%2C%20method%20-%20String%2C%20data%20-%20String%2C%20headers%20-%20String%0D%0A%20%20%20%20requestURL(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(args.method%20%3D%3D%20%22GET%22%20%7C%7C%20args.method%20%3D%3D%20%22HEAD%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20Scratch.fetch(args.url%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20method%3A%20args.method%2C%0D%0A%20%20%20%20%20%20%20%20%20%20headers%3A%20JSON.parse(args.headers)%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.then(response%20%3D%3E%20response.text())%0D%0A%20%20%20%20%20%20%20%20%20%20.catch(error%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Request%20error%3A%20%24%7Berror%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20Scratch.fetch(args.url%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20method%3A%20args.method%2C%0D%0A%20%20%20%20%20%20%20%20%20%20headers%3A%20JSON.parse(args.headers)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20body%3A%20JSON.parse(args.data)%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.then(response%20%3D%3E%20response.text())%0D%0A%20%20%20%20%20%20%20%20%20%20.catch(error%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Request%20error%3A%20%24%7Berror%7D%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20%2F%2F%20Event%0D%0A%20%20%20%20%2F%2F%20ID%20-%20String%20(listener)%0D%0A%20%20%20%20onListener(args)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%20false%3B%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.status%20!%3D%202)%20return%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Listener%20must%20exist%0D%0A%20%20%20%20%20%20if%20(!clVars.listeners.varStates.hasOwnProperty(args.ID))%20return%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Run%20event%0D%0A%20%20%20%20%20%20if%20(clVars.listeners.varStates%5Bargs.ID%5D.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20clVars.listeners.varStates%5Bargs.ID%5D.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Event%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20almostallmenu)%0D%0A%20%20%20%20onNewPacket(args)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%20false%3B%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.status%20!%3D%202)%20return%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Run%20event%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.gmsg.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.gmsg.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.pmsg.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.pmsg.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'Direct%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.direct.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.direct.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'Status%20code'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.statuscode.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.statuscode.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.gvar.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.gvar.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.pvar.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.pvar.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Event%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(varmenu)%2C%20VAR%20-%20String%20(variable%20name)%0D%0A%20%20%20%20onNewVar(args)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%20false%3B%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.status%20!%3D%202)%20return%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Run%20event%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Variable%20must%20exist%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!clVars.gvar.varStates.hasOwnProperty(String(args.VAR)))%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.gvar.varStates%5BString(args.VAR)%5D.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.gvar.varStates%5BString(args.VAR)%5D.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Variable%20must%20exist%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!clVars.pvar.varStates.hasOwnProperty(String(args.VAR)))%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(clVars.pvar.varStates%5BString(args.VAR)%5D.eventHatTick)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clVars.pvar.varStates%5BString(args.VAR)%5D.eventHatTick%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Reporter%20-%20Returns%20a%20JSON-ified%20value.%0D%0A%20%20%20%20%2F%2F%20toBeJSONified%20-%20String%0D%0A%20%20%20%20makeJSON(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(typeof(args.toBeJSONified)%20%3D%3D%20%22string%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20JSON.parse(args.toBeJSONified)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20String(args.toBeJSONified)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch(err)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22Not%20JSON!%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(typeof(args.toBeJSONified)%20%3D%3D%20%22object%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(args.toBeJSONified)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22Not%20JSON!%22%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20connected.%0D%0A%20%20%20%20getComState()%20%7B%0D%0A%20%20%20%20%20%20return%20((clVars.linkState.status%20%3D%3D%202)%20%26%26%20(clVars.socket%20!%3D%20null))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20linked%20to%20rooms%20(other%20than%20%22default%22)%0D%0A%20%20%20%20getRoomState()%20%7B%0D%0A%20%20%20%20%20%20return%20((clVars.socket%20!%3D%20null)%20%26%26%20(clVars.rooms.isLinked))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20the%20connection%20was%20dropped.%0D%0A%20%20%20%20getComLostConnectionState()%20%7B%0D%0A%20%20%20%20%20%20return%20((clVars.linkState.status%20%3D%3D%204)%20%26%26%20(clVars.linkState.disconnectType%20%3D%3D%202))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20the%20client%20failed%20to%20establish%20a%20connection.%0D%0A%20%20%20%20getComFailedConnectionState()%20%7B%0D%0A%20%20%20%20%20%20return%20((clVars.linkState.status%20%3D%3D%204)%20%26%26%20(clVars.linkState.disconnectType%20%3D%3D%201))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20the%20username%20was%20set%20successfully.%0D%0A%20%20%20%20getUsernameState()%20%7B%0D%0A%20%20%20%20%20%20return%20((clVars.socket%20!%3D%20null)%20%26%26%20(clVars.username.accepted))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20there%20is%20new%20gmsg%2Fpmsg%2Fdirect%2Fstatuscode%20data.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20datamenu)%0D%0A%20%20%20%20returnIsNewData(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Run%20event%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.gmsg.hasNew%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.pmsg.hasNew%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Direct%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.direct.hasNew%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Status%20code'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.statuscode.hasNew%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20there%20is%20new%20gvar%2Fpvar%20data.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20varmenu)%2C%20VAR%20-%20String%20(variable%20name)%0D%0A%20%20%20%20returnIsNewVarData(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!clVars.gvar.varStates.hasOwnProperty(String(args.VAR)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Global%20variable%20%24%7Bargs.VAR%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.gvar.varStates%5BString(args.ID)%5D.hasNew%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!clVars.pvar.varStates.hasOwnProperty(String(args.VAR)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Private%20variable%20%24%7Bargs.VAR%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.pvar.varStates%5BString(args.ID)%5D.hasNew%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20a%20listener%20has%20a%20new%20value.%0D%0A%20%20%20%20%2F%2F%20ID%20-%20String%20(listener%20ID)%0D%0A%20%20%20%20returnIsNewListener(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(!clVars.listeners.varStates.hasOwnProperty(String(args.ID)))%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Listener%20ID%20%24%7Bargs.ID%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20clVars.listeners.varStates%5BString(args.ID)%5D.hasNew%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20a%20username%2FID%2FUUID%2Fobject%20exists%20in%20the%20userlist.%0D%0A%20%20%20%20%2F%2F%20ID%20-%20String%20(username%20or%20user%20object)%0D%0A%20%20%20%20checkForID(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Legacy%20ulist%20handling%0D%0A%20%20%20%20%20%20if%20(clVars.ulist.includes(args.ID))%20return%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20New%20ulist%20handling%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3E%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(this.isValidJSON(args.ID))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.ulist.some(o%20%3D%3E%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(o.username%20%3D%3D%3D%20JSON.parse(args.ID).username)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(o.id%20%3D%3D%20JSON.parse(args.ID).id)%0D%0A%20%20%20%20%20%20%20%20%20%20))%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clVars.ulist.some(o%20%3D%3E%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(o.username%20%3D%3D%3D%20String(args.ID))%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(o.id%20%3D%3D%20args.ID)%0D%0A%20%20%20%20%20%20%20%20%20%20))%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Boolean%20-%20Returns%20true%20if%20the%20input%20JSON%20is%20valid.%0D%0A%20%20%20%20%2F%2F%20JSON_STRING%20-%20String%0D%0A%20%20%20%20isValidJSON(args)%20%7B%20%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20JSON.parse(args.JSON_STRING)%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Establishes%20a%20connection%20to%20a%20server.%0D%0A%20%20%20%20%2F%2F%20IP%20-%20String%20(websocket%20URL)%0D%0A%20%20%20%20openSocket(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20connected%20to%20a%20server.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20return%20newClient(args.IP)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Establishes%20a%20connection%20to%20a%20selected%20server.%0D%0A%20%20%20%20%2F%2F%20ID%20-%20Number%20(server%20entry%20%23)%0D%0A%20%20%20%20openSocketPublicServers(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20connected%20to%20a%20server.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20if%20(!clVars.serverList.hasOwnProperty(String(args.ID)))%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Not%20a%20valid%20server%20ID!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20return%20newClient(clVars.serverList%5BString(args.ID)%5D%5B%22url%22%5D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Closes%20the%20connection.%0D%0A%20%20%20%20closeSocket()%20%7B%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20disconnected.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20console.log(%22%5BCloudLink%5D%20Disconnecting...%22)%3B%0D%0A%20%20%20%20%20%20clVars.linkState.isAttemptingGracefulDisconnect%20%3D%20true%3B%0D%0A%20%20%20%20%20%20clVars.socket.close(1000%2C%20%22Client%20going%20away%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sets%20the%20username%20of%20the%20client%20on%20the%20server.%0D%0A%20%20%20%20%2F%2F%20NAME%20-%20String%0D%0A%20%20%20%20setMyName(args)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%20to%20set%20a%20username.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20an%20attempt%20is%20currently%20processing.%0D%0A%20%20%20%20%20%20if%20(clVars.username.attempted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20attempting%20to%20set%20username!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20is%20already%20set.%0D%0A%20%20%20%20%20%20if%20(clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20set%20username!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Update%20state%0D%0A%20%20%20%20%20%20clVars.username.attempted%20%3D%20true%3B%0D%0A%20%20%20%20%20%20clVars.username.temp%20%3D%20args.NAME%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Send%20the%20command%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22setid%22%2C%20val%3A%20args.NAME%2C%20listener%3A%20%22username_cfg%22%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Prepares%20the%20next%20transmitted%20message%20to%20have%20a%20listener%20ID%20attached%20to%20it.%0D%0A%20%20%20%20%2F%2F%20ID%20-%20String%20(listener%20ID)%0D%0A%20%20%20%20createListener(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%20to%20set%20a%20username.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%2F%2F%20Require%20server%20support%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3C%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Server%20is%20too%20old!%20Must%20be%20at%20least%200.1.8.x%20to%20support%20listeners.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20creating%20a%20listener!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20used%20once%20per%20packet%0D%0A%20%20%20%20%20%20if%20(clVars.listeners.enablerState)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Cannot%20create%20multiple%20listeners%20at%20a%20time!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%2F%2F%20Update%20state%0D%0A%20%20%20%20%20%20clVars.listeners.enablerState%20%3D%20true%3B%0D%0A%20%20%20%20%20%20clVars.listeners.enablerValue%20%3D%20args.ID%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Subscribes%20to%20various%20rooms%20on%20a%20server.%0D%0A%20%20%20%20%2F%2F%20ROOMS%20-%20String%20(JSON%20Array%20or%20single%20string)%0D%0A%20%20%20%20linkToRooms(args)%20%7B%20%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%20to%20set%20a%20username.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Require%20server%20support%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3C%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Server%20is%20too%20old!%20Must%20be%20at%20least%200.1.8.x%20to%20support%20rooms.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20linking%20to%20rooms!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20already%20linked.%0D%0A%20%20%20%20%20%20if%20(clVars.rooms.isLinked)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20linked%20to%20rooms!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20a%20room%20link%20is%20in%20progress.%0D%0A%20%20%20%20%20%20if%20(clVars.rooms.isAttemptingLink)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Currently%20linking%20to%20rooms!%20Please%20wait!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20clVars.rooms.isAttemptingLink%20%3D%20true%3B%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22link%22%2C%20val%3A%20args.ROOMS%2C%20listener%3A%20%22link%22%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Specifies%20specific%20subscribed%20rooms%20to%20transmit%20messages%20to.%0D%0A%20%20%20%20%2F%2F%20ROOMS%20-%20String%20(JSON%20Array%20or%20single%20string)%0D%0A%20%20%20%20selectRoomsInNextPacket(args)%20%7B%20%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%20to%20user%20rooms.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Require%20server%20support%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3C%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Server%20is%20too%20old!%20Must%20be%20at%20least%200.1.8.x%20to%20support%20rooms.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20selecting%20rooms!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Require%20once%20per%20packet%0D%0A%20%20%20%20%20%20if%20(clVars.rooms.enablerState)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Cannot%20use%20the%20room%20selector%20more%20than%20once%20at%20a%20time!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20not%20linked.%0D%0A%20%20%20%20%20%20if%20(!clVars.rooms.isLinked)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Cannot%20use%20room%20selector%20while%20not%20linked%20to%20rooms!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20clVars.rooms.enablerState%20%3D%20true%3B%0D%0A%20%20%20%20%20%20clVars.rooms.enablerValue%20%3D%20args.ROOMS%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Unsubscribes%20from%20all%20rooms%20and%20re-subscribes%20to%20the%20the%20%22default%22%20room%20on%20the%20server.%0D%0A%20%20%20%20unlinkFromRooms()%20%7B%20%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected%20to%20user%20rooms.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Require%20server%20support%0D%0A%20%20%20%20%20%20if%20(clVars.linkState.identifiedProtocol%20%3C%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Server%20is%20too%20old!%20Must%20be%20at%20least%200.1.8.x%20to%20support%20rooms.%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20unjoining%20rooms!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20already%20unlinked.%0D%0A%20%20%20%20%20%20if%20(!clVars.rooms.isLinked)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Already%20unlinked%20from%20rooms!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20a%20room%20unlink%20is%20in%20progress.%0D%0A%20%20%20%20%20%20if%20(clVars.rooms.isAttemptingUnlink)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Currently%20unlinking%20from%20rooms!%20Please%20wait!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20clVars.rooms.isAttemptingUnlink%20%3D%20true%3B%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22unlink%22%2C%20val%3A%20%22%22%2C%20listener%3A%20%22unlink%22%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sends%20a%20gmsg%20value.%0D%0A%20%20%20%20%2F%2F%20DATA%20-%20String%0D%0A%20%20%20%20sendGData(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22gmsg%22%2C%20val%3A%20args.DATA%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sends%20a%20pmsg%20value.%0D%0A%20%20%20%20%2F%2F%20DATA%20-%20String%2C%20ID%20-%20String%20(recipient%20ID)%0D%0A%20%20%20%20sendPData(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20sending%20private%20messages!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22pmsg%22%2C%20val%3A%20args.DATA%2C%20id%3A%20args.ID%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sends%20a%20gvar%20value.%0D%0A%20%20%20%20%2F%2F%20DATA%20-%20String%2C%20VAR%20-%20String%20(variable%20name)%0D%0A%20%20%20%20sendGDataAsVar(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22gvar%22%2C%20val%3A%20args.DATA%2C%20name%3A%20args.VAR%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sends%20a%20pvar%20value.%0D%0A%20%20%20%20%2F%2F%20DATA%20-%20String%2C%20VAR%20-%20String%20(variable%20name)%2C%20ID%20-%20String%20(recipient%20ID)%0D%0A%20%20%20%20sendPDataAsVar(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20sending%20private%20variables!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20%22pvar%22%2C%20val%3A%20args.DATA%2C%20name%3A%20args.VAR%2C%20id%3A%20args.ID%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sends%20a%20raw-format%20command%20without%20specifying%20an%20ID.%0D%0A%20%20%20%20%2F%2F%20CMD%20-%20String%20(command)%2C%20DATA%20-%20String%0D%0A%20%20%20%20runCMDnoID(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20args.CMD%2C%20val%3A%20args.DATA%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Sends%20a%20raw-format%20command%20with%20an%20ID.%0D%0A%20%20%20%20%2F%2F%20CMD%20-%20String%20(command)%2C%20DATA%20-%20String%2C%20ID%20-%20String%20(recipient%20ID)%0D%0A%20%20%20%20runCMD(args)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Must%20be%20connected.%0D%0A%20%20%20%20%20%20if%20(clVars.socket%20%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Prevent%20running%20if%20the%20username%20hasn't%20been%20set.%0D%0A%20%20%20%20%20%20if%20(!clVars.username.accepted)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%22%5BCloudLink%5D%20Username%20must%20be%20set%20before%20using%20this%20command!%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20sendMessage(%7B%20cmd%3A%20args.CMD%2C%20val%3A%20args.DATA%2C%20id%3A%20args.ID%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Resets%20the%20%22returnIsNewData%22%20boolean%20state.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20datamenu)%0D%0A%20%20%20%20resetNewData(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.gmsg.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.pmsg.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Direct%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.direct.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Status%20code'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.statuscode.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Resets%20the%20%22returnIsNewVarData%22%20boolean%20state.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20varmenu)%2C%20VAR%20-%20String%20(variable%20name)%0D%0A%20%20%20%20resetNewVarData(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!clVars.gvar.varStates.hasOwnProperty(String(args.VAR)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Global%20variable%20%24%7Bargs.VAR%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.gvar.varStates%5BString(args.ID)%5D.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!clVars.pvar.varStates.hasOwnProperty(String(args.VAR)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Private%20variable%20%24%7Bargs.VAR%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.pvar.varStates%5BString(args.ID)%5D.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Resets%20the%20%22returnIsNewListener%22%20boolean%20state.%0D%0A%20%20%20%20%2F%2F%20ID%20-%20Listener%20ID%0D%0A%20%20%20%20resetNewListener(args)%20%7B%0D%0A%20%20%20%20%20%20if%20(!clVars.listeners.varStates.hasOwnProperty(String(args.ID)))%20%7B%0D%0A%20%20%20%20%20%20%20%20console.warn(%60%5BCloudLink%5D%20Listener%20ID%20%24%7Bargs.ID%7D%20does%20not%20exist!%60)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20clVars.listeners.varStates%5BString(args.ID)%5D.hasNew%20%3D%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Command%20-%20Clears%20all%20packet%20queues.%0D%0A%20%20%20%20%2F%2F%20TYPE%20-%20String%20(menu%20allmenu)%0D%0A%20%20%20%20clearAllPackets(args)%20%7B%0D%0A%20%20%20%20%20%20switch%20(args.TYPE)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.gmsg.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.pmsg.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Direct%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.direct.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Status%20code'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.statuscode.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Global%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.gvar.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'Private%20variables'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.pvar.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20'All%20data'%3A%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.gmsg.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.pmsg.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.direct.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.statuscode.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.gvar.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20clVars.pvar.queue%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20Scratch.extensions.register(new%20CloudLink())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Clones%20Plus%0D%0A%2F%2F%20ID%3A%20lmsclonesplus%0D%0A%2F%2F%20Description%3A%20Expansion%20of%20Scratch's%20clone%20features.%0D%0A%2F%2F%20By%3A%20LilyMakesThings%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FLilyMakesThings%2F%3E%0D%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22nl%22%3A%7B%22_Clones%2B%22%3A%22Klonen%2B%22%2C%22_%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%3A%22%5BINPUTA%5D%20van%20kloon%20met%20%5BINPUTB%5D%20%3D%20%5BINPUTC%5D%22%2C%22_%5BINPUT%5D%20of%20main%20sprite%22%3A%22%5BINPUT%5D%20van%20originele%20sprite%22%2C%22_clone%20count%22%3A%22aantal%20klonen%22%2C%22_clone%20count%20of%20%5BINPUT%5D%22%3A%22aantal%20klonen%20van%20%5BINPUT%5D%22%2C%22_clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%20exists%3F%22%3A%22kloon%20met%20%5BINPUTA%5D%20%3D%20%5BINPUTB%5D%20bestaat%3F%22%2C%22_costume%20%23%22%3A%22uiterlijknummer%22%2C%22_costume%20name%22%3A%22uiterlijknaam%22%2C%22_create%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22maak%20een%20kloon%20met%20%5BINPUTA%5D%20%3D%20%5BINPUTB%5D%22%2C%22_delete%20clones%20in%20%5BINPUT%5D%22%3A%22verwijder%20klonen%20van%20%5BINPUT%5D%22%2C%22_delete%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22verwijder%20klonen%20met%20%5BINPUTA%5D%20%3D%20%5BINPUTB%5D%22%2C%22_direction%22%3A%22richting%22%2C%22_is%20clone%3F%22%3A%22is%20kloon%3F%22%2C%22_myself%22%3A%22mijzelf%22%2C%22_set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20clones%20with%20%5BINPUTC%5D%20set%20to%20%5BINPUTD%5D%22%3A%22maak%20variabele%20%5BINPUTA%5D%20%5BINPUTB%5D%20voor%20klonen%20met%20%5BINPUTC%5D%20%3D%20%5BINPUTD%5D%22%2C%22_set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20main%20sprite%22%3A%22maak%20variabele%20%5BINPUTA%5D%20%5BINPUTB%5D%20voor%20originele%20sprite%22%2C%22_size%22%3A%22grootte%22%2C%22_stop%20scripts%20in%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22stop%20scripts%20in%20klonen%20met%20%5BINPUTA%5D%20%3D%20%5BINPUTB%5D%22%2C%22_stop%20scripts%20in%20main%20sprite%22%3A%22stop%20scripts%20in%20originele%20sprite%22%2C%22_touching%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%3F%22%3A%22raak%20ik%20kloon%20met%20%5BINPUTA%5D%20%3D%20%5BINPUTB%5D%3F%22%2C%22_touching%20main%20sprite%3F%22%3A%22raak%20ik%20originele%20sprite%3F%22%2C%22_variable%20%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%3A%22variabele%20%5BINPUTA%5D%20van%20kloon%20met%20%5BINPUTB%5D%20%3D%20%5BINPUTC%5D%22%2C%22_variable%20%5BINPUT%5D%20of%20main%20sprite%22%3A%22variabele%20%5BINPUT%5D%20van%20originele%20sprite%22%2C%22_when%20I%20start%20as%20a%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22wanneer%20ik%20als%20kloon%20start%20met%20%5BINPUTA%5D%20%3D%20%5BINPUTB%5D%22%2C%22_x%20position%22%3A%22x-positie%22%2C%22_y%20position%22%3A%22y-positie%22%7D%2C%22ru%22%3A%7B%22_Clones%2B%22%3A%22%D0%9A%D0%BB%D0%BE%D0%BD%D1%8B%2B%22%2C%22_%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%3A%22%5BINPUTA%5D%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%B0%20%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%5BINPUTB%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTC%5D%22%2C%22_%5BINPUT%5D%20of%20main%20sprite%22%3A%22%5BINPUT%5D%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%22%2C%22_clone%20count%22%3A%22%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%22%2C%22_clone%20count%20of%20%5BINPUT%5D%22%3A%22%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%20%5BINPUT%5D%22%2C%22_clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%20exists%3F%22%3A%22%D0%BA%D0%BB%D0%BE%D0%BD%20%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%5BINPUTA%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTB%5D%20%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82%3F%22%2C%22_costume%20%23%22%3A%22%D0%BA%D0%BE%D1%81%D1%82%D1%8E%D0%BC%20%23%22%2C%22_costume%20name%22%3A%22%D0%B8%D0%BC%D1%8F%20%D0%BA%D0%BE%D1%81%D1%82%D1%8E%D0%BC%D0%B0%22%2C%22_create%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C%20%D0%BA%D0%BB%D0%BE%D0%BD%20%D1%81%20%5BINPUTA%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTB%5D%22%2C%22_delete%20clones%20in%20%5BINPUT%5D%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%D0%BA%D0%BB%D0%BE%D0%BD%D1%8B%20%5BINPUT%5D%22%2C%22_delete%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%D0%BA%D0%BB%D0%BE%D0%BD%D1%8B%20%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%5BINPUTA%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTB%5D%22%2C%22_direction%22%3A%22%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%22%2C%22_is%20clone%3F%22%3A%22%D0%BA%D0%BB%D0%BE%D0%BD%3F%22%2C%22_myself%22%3A%22%D1%81%D0%B0%D0%BC%D0%BE%D0%B3%D0%BE%20%D1%81%D0%B5%D0%B1%D1%8F%22%2C%22_set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20clones%20with%20%5BINPUTC%5D%20set%20to%20%5BINPUTD%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%83%D1%8E%20%5BINPUTA%5D%20%D0%B2%20%5BINPUTB%5D%20%D0%B4%D0%BB%D1%8F%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%5BINPUTC%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTD%5D%22%2C%22_set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20main%20sprite%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%83%D1%8E%20%5BINPUTA%5D%20%D1%81%20%5BINPUTB%5D%20%D0%B4%D0%BB%D1%8F%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%22%2C%22_size%22%3A%22%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%22%2C%22_stop%20scripts%20in%20%5BINPUT%5D%22%3A%22%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%8B%20%5BINPUT%5D%22%2C%22_stop%20scripts%20in%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%8B%20%D0%B2%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%B0%D1%85%20%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%5BINPUTA%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTB%5D%22%2C%22_stop%20scripts%20in%20main%20sprite%22%3A%22%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%8B%20%D0%B2%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%BC%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B5%22%2C%22_touching%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%3F%22%3A%22%D0%BA%D0%B0%D1%81%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%B0%20%D1%81%20%5BINPUTA%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTB%5D%3F%22%2C%22_touching%20main%20sprite%3F%22%3A%22%D0%BA%D0%B0%D1%81%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%3F%22%2C%22_variable%20%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F%20%5BINPUTA%5D%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%B0%20%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%5BINPUTB%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTC%5D%22%2C%22_variable%20%5BINPUT%5D%20of%20main%20sprite%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F%20%5BINPUT%5D%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%22%2C%22_volume%22%3A%22%D0%BE%D0%B1%D1%8A%D1%91%D0%BC%22%2C%22_when%20I%20start%20as%20a%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0%20%D1%8F%20%D0%BD%D0%B0%D1%87%D0%B8%D0%BD%D0%B0%D1%8E%20%D0%BA%D0%B0%D0%BA%20%D0%BA%D0%BB%D0%BE%D0%BD%20%D1%81%20%5BINPUTA%5D%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%B2%20%5BINPUTB%5D%22%2C%22_x%20position%22%3A%22%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D1%8F%20x%22%2C%22_y%20position%22%3A%22%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D1%8F%20y%22%7D%2C%22zh-cn%22%3A%7B%22_Clones%2B%22%3A%22%E5%85%8B%E9%9A%86%20%2B%22%2C%22_%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%3A%22%E8%8E%B7%E5%8F%96%5BINPUTB%5D%E4%B8%BA%5BINPUTC%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E7%9A%84%5BINPUTA%5D%22%2C%22_%5BINPUT%5D%20of%20main%20sprite%22%3A%22%E8%A7%92%E8%89%B2%E6%9C%AC%E4%BD%93%E7%9A%84%5BINPUT%5D%22%2C%22_clone%20count%22%3A%22%E5%85%8B%E9%9A%86%E4%BD%93%E6%95%B0%E9%87%8F%22%2C%22_clone%20count%20of%20%5BINPUT%5D%22%3A%22%5BINPUT%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E6%95%B0%E9%87%8F%22%2C%22_clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%20exists%3F%22%3A%22%E5%AD%98%E5%9C%A8%5BINPUTA%5D%E4%B8%BA%5BINPUTB%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%EF%BC%9F%22%2C%22_costume%20%23%22%3A%22%E9%80%A0%E5%9E%8B%E7%BC%96%E5%8F%B7%22%2C%22_costume%20name%22%3A%22%E9%80%A0%E5%9E%8B%E5%90%8D%E7%A7%B0%22%2C%22_create%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%E5%88%9B%E5%BB%BA%E5%85%8B%E9%9A%86%E4%BD%93%E5%B9%B6%E5%B0%86%E5%AE%83%E7%9A%84%20%5BINPUTA%5D%20%E8%AE%BE%E4%B8%BA%20%5BINPUTB%5D%22%2C%22_delete%20clones%20in%20%5BINPUT%5D%22%3A%22%E5%88%A0%E9%99%A4%5BINPUT%5D%E7%9A%84%E6%89%80%E6%9C%89%E5%85%8B%E9%9A%86%E4%BD%93%22%2C%22_delete%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%E5%88%A0%E9%99%A4%5BINPUTA%5D%E4%B8%BA%5BINPUTB%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%22%2C%22_direction%22%3A%22%E6%96%B9%E5%90%91%22%2C%22_is%20clone%3F%22%3A%22%E6%98%AF%E5%85%8B%E9%9A%86%E4%BD%93%EF%BC%9F%22%2C%22_myself%22%3A%22%E8%87%AA%E5%B7%B1%22%2C%22_set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20clones%20with%20%5BINPUTC%5D%20set%20to%20%5BINPUTD%5D%22%3A%22%E5%B0%86%E6%BB%A1%E8%B6%B3%5BINPUTC%5D%E4%B8%BA%5BINPUTD%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E7%9A%84%E5%8F%98%E9%87%8F%5BINPUTA%5D%E8%AE%BE%E4%B8%BA%5BINPUTB%5D%22%2C%22_set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20main%20sprite%22%3A%22%E8%AE%BE%E7%BD%AE%E8%A7%92%E8%89%B2%E6%9C%AC%E4%BD%93%E7%9A%84%E5%8F%98%E9%87%8F%5BINPUTA%5D%E4%B8%BA%5BINPUTB%5D%22%2C%22_size%22%3A%22%E5%A4%A7%E5%B0%8F%22%2C%22_stop%20scripts%20in%20%5BINPUT%5D%22%3A%22%E5%81%9C%E6%AD%A2%5BINPUT%5D%E4%B8%AD%E7%9A%84%E8%84%9A%E6%9C%AC%22%2C%22_stop%20scripts%20in%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%E5%81%9C%E6%AD%A2%5BINPUTA%5D%E4%B8%BA%5BINPUTB%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E7%9A%84%E8%84%9A%E6%9C%AC%22%2C%22_stop%20scripts%20in%20main%20sprite%22%3A%22%E5%81%9C%E6%AD%A2%E8%A7%92%E8%89%B2%E6%9C%AC%E4%BD%93%E4%B8%AD%E7%9A%84%E8%84%9A%E6%9C%AC%22%2C%22_touching%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%3F%22%3A%22%E7%A2%B0%E5%88%B0%20%5BINPUTA%5D%E4%B8%BA%20%5BINPUTB%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%EF%BC%9F%22%2C%22_touching%20main%20sprite%3F%22%3A%22%E7%A2%B0%E5%88%B0%E8%A7%92%E8%89%B2%E6%9C%AC%E4%BD%93%EF%BC%9F%22%2C%22_variable%20%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%3A%22%E8%8E%B7%E5%8F%96%5BINPUTB%5D%E4%B8%BA%5BINPUTC%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E7%9A%84%E5%8F%98%E9%87%8F%5BINPUTA%5D%22%2C%22_variable%20%5BINPUT%5D%20of%20main%20sprite%22%3A%22%E8%A7%92%E8%89%B2%E6%9C%AC%E4%BD%93%E7%9A%84%E5%8F%98%E9%87%8F%5BINPUT%5D%22%2C%22_volume%22%3A%22%E9%9F%B3%E9%87%8F%22%2C%22_when%20I%20start%20as%20a%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%3A%22%E5%BD%93%E6%88%91%E4%BD%9C%E4%B8%BA%E5%85%8B%E9%9A%86%E4%BD%93%E5%90%AF%E5%8A%A8%EF%BC%8C%E4%B8%94%E6%BB%A1%E8%B6%B3%5BINPUTA%5D%E4%B8%BA%5BINPUTB%5D%22%2C%22_x%20position%22%3A%22x%E5%9D%90%E6%A0%87%22%2C%22_y%20position%22%3A%22y%E5%9D%90%E6%A0%87%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20const%20menuIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAZ4AAAGeCAYAAACkfGcPAAAAAXNSR0IArs4c6QAAIABJREFUeF7tndl1HEeWQEFZ0ZovmTDGTHsiM9oTjTFjRbe84JwEWWChUJUZEW%2BJt9z%2B6B%2FGet9yEVWg%2BO2N%2F0GgGYHvf%2F3%2BPdKVv%2F3zP98inYezQMCaAAlvTZj1XQlEk4rW5ZGTFknWiUAA8USIAmeYIlBVLlMQ7gYjpVVyzNtFAPHsIs%2B%2BlwQQzCWi0wEIScaP2XYEEI8dW1aeJIBoJoFNDkdEk8AYbkYA8ZihZeEzAkgmRn4goxhx6HYKxNMt4pvui2g2gZ%2FcFhFNAmP4EgHEs4SNSSMEkM0IpbhjkFDc2GQ%2FGeLJHsFA50c0gYJhcBREZAC16ZKIp2ngta6NbLRI5loHCeWKV7TTIp5oEUlwHmSTIEiOR0RCjrCLbIV4igTS%2BhrIxppwjfWRUI04Wt8C8VgTTrw%2BskkcvABHR0IBghD0CIgnaGB2Hgvh7KRfb28EVC%2Bm0hshHinBIvORTZFABr8GEgoeIKfjIR4n0BG3QTYRo9LnTEioT6wfb4p4GsYe4TQMeuArI6DAwTE6GuIxAhtxWYQTMSqc6UYAAfXJBcTTINYIp0GQC10RARUK5ourIJ6iMUY2RQPb7FpIqGbAEU%2BxuCKcYgHlOu8EEFCtREA8ReKJcIoEkmucEkBANRIE8SSPI8JJHkCOv0QAAS1hCzMJ8YQJxdxBEM4cL0bXJICAcsYV8SSMG9JJGDSObEYA%2BZihNVsY8Zih1V8Y4egzZcU6BBBQnlgingSxQjgJgsQRwxBAQGFC8fIgiCdwjBBO4OBwtPAEEFDcECGeoLFBOkEDw7FSEUA%2BMcOFeILFBeEECwjHKUEAAcUKI%2BIJEg%2BEEyQQHKM0AQQUI7yIJ0AckE6AIHCENgSQz%2F5QI56NMUA4G%2BGzdXsCCGhfCiCeTeyRzibwbAuBOwLIZ086IB5n7gjHGTjbQWCAAAIagKQ4BPEowjxbCuE4gWYbCAgIICABvImpiGcC1upQpLNKjnkQ8CeAfOyZIx5jxkjHGDDLQ8CAAPIxgHr%2F3Zrt8n1XRzh9Y8%2FN6xBAQDax5MVjwBXpGEBlSQhsIoB89MEjHkWmCEcRJktBIBgBBKQXEMSjxBLpKIFkGQgEJoB8dIKDeBQ4Ih0FiCwBgSQEkI88UIhHyBDpCAEyHQIJCSAfWdAQzyI%2FhLMIjmkQKEQAAa0FE%2FEscEM6C9CYAoGiBJDPfGARzyQzpDMJjOEQaEAA%2BcwFGfFM8EI6E7AYCoFmBJDPeMARzwArhDMAiSEQgMA7AQR0nQiI54IR0rlOIkZAAAKfCSCf84xAPCd8kA7tBAIQWCWAfF6TQzwv2CCd1XJjHgQgcCOAfJ7nAuJ5wgXp0DggAAEtAsjnK0nE88AE6WiVG%2BtAAAK8fHjxXFYB0rlExAAIQGCRAC%2BfX%2BB48fxkgXQWq4lpEIDAMAHk8wNVe%2FEgnOGaYSAEIKBEoLuAWosH6ShVEctAAALTBDrLp614kM50nTABAhBQJtBVPi3Fg3SUq4flIACBZQId5dNOPEhnuT6YCAEIGBHoJp9W4kE6RlXDshCAgJhAJ%2Fm0EQ%2FSEdcFC0AAAsYEusinhXiQjnG1sDwEIKBGoIN8yosH6ajVAwtBAAJOBKrLB%2FE4JRLbQAACEBglgHhGSQUcx2snYFA4EgQgMESgsnzKvniQzlBuMwgCEAhMoKp8SooH6QSuJI4GAQhMEagon3LiQTpTOc1gCEAgAYFq8iklHqSToII4IgQgsESgknzKiAfpLOUykyAAgUQEqsinhHiQTqLK4agQgICIQAX5pBcP0hHlMJMhAIGEBLLLB%2FEkTDqODAEI9CaAeDbGn9fORvhsDQEIbCWQWT5pXzxIZ2vOszkEIBCAQFb5pBQP0gmQ8RwBAhAIQSCjfNKJB%2BmEyHUOAQEIBCKQTT6IJ1DycBQIQAACKwQQzwq1wTm8dgZBMQwCEGhHIJN80rx4kE67OuLCEIDAJIEs8kkhHqQzmX0MhwAE2hLIIJ%2Fw4kE6beuHi0MAAosEossH8SwGlmkQgAAEohJAPILI8NoRwGMqBCDQmkBk%2BYR98SCd1jXD5SEAAQUCUeWDeBSCyxIQgAAEIhJAPBNR4bUzAYuhEIAABE4IRJRPuBcP0qGGIAABCOgSiCafUOJBOrrJxmoQgAAEbgQiyQfxkJcQgAAEGhBAPE%2BCzGunQeZzRQhAYCuBKPIJ8%2BJBPFvzkc0hAIEGBBDPXZCRToOM54oQgEAIAhHks%2F3Fg3RC5CKHgAAEGhHYLR%2FE0yjZuCoEIACBg0Br8fDaoQggAAEI7CGwUz7bXjxIZ0%2BysSsEIACBG4Fd8kE85CAEIACBpgRaiYfXTtMs59oQgEA4Ajvks%2BXFg3jC5R4HggAEmhJoIR6k0zS7uTYEIBCWgLd8XF88SCds3nEwCECgOQFP%2BSCeHcn2P%2F%2F%2Btev%2F%2FteOE9Te857v2U1hXzsPuN0UgZLiafPaGW16MylBg%2FxKy4Lz%2FS4wn8lQxhYh4CUftxdPafFYN8HHpO7aFL0537h35V2kmXKNcQKlxFNSOruaYDcJReHMa2i8ezEyNQEP%2Bbi8eEqIJ2IDjCKhRzbSF0IG1gd76T1TtycOX5VACfG4S%2Beqaa00i6s1o2Xgyh1n7zDKZOYso2vOntV6%2FMwdrc%2FC%2BjIC%2FOLPOz9r%2BZi%2BeFylM9O0RhvFzJqydLeZPXrP2d1nuVydY3a92fN6jb%2B6p9c52GeewFUONoytpXxqiOcqaZ6l4Vkiraw3n%2Bo%2BM7QLZpXNs3OsruVDbn0XbebrJ2HmCIHRPGwW15TicXvtjCbNiHwka40k%2BM4xGkUj5XN%2FBulaO1mO7K3Be2QfxsgIzOZhs7haycfsxZNCPEfKHok0m3yyVN8zW6NgOnDSjo4Gd%2B0zsd4PAiv53CyeqcSTRjqdClBaMCtF2onv2V2l7OFoQ2A1p5vF00I%2BJi8exGNTJ6JVpcWyWqSiQxeaLOVfCEWIq0jyuVksU4jHTTqrT%2BUQWe98CI1CkRSq83XDbqcRh7CXS3YwST43jKO2fNRfPIgnYAFqFIqkUAMi2XokjXhsvUCBzSX53DB%2BocXjKh1ePHPVLy0WSaHOnbTHaGk8elCyu6Ukn5vGTlM%2Bqi8exDNWJ%2F%2F3r398DPzvP%2F8emyQdJS0WSaFKzz45%2F57v2VQ39q8OIY3JJBeG3xGQ5HPTuCGeW%2F5Ikse4Ckebn1tj1CiWgLw1ON%2FHwF1GGnExzuWSy0tyuWnMQorH%2FbUTUD7aTfCx4EVNUaNYJMWq2L2sOd%2BOKuI9c1%2BN2Mzsx9i1v8Nz49Y4XlryUfuorat4vJqg%2BKdyrWLZJJ8dnN0EpBUbhDJOQJLHjeMVSjzbpLPx1bOzES41RM1ikRTteGv4GBmB9XEY0xeQZnwWGLebIsnh5rHSkI%2FKi2e7eI6qkSTSRNVFaYJLLyDNgnHgHZG1qYA04zOR0y2HSvK3eZxCiCeEdBxePlGb4JSAtAtGUrwn3S4DazMBaceopVUGLi3JXWIk%2Fvd6xC%2BeUOIxevlkaYSXzVC7YCTF%2B6I3ZGJ9yXug%2Fz0doh2n1XNUnifJXeKzVzzhpGMgnmyN8LIZahaNpHifNLWMrC95rzRvzRit7N9hjiR3ic97hkg%2BchO9eMKJR5JMhRrh7SpPvwzXKhpF1lmF85gyqr98oBWnDhJZuaMkf4kN4vnIOUkiPSRulUb48qdxjcJR4l2JterrRyNGKw25yxxJ%2FhKbfeKp%2Btqp1gi%2FNEONopEU7V1jq8ga%2BSQxlySHNWooCaarY65%2B3Lb8UVso8UiSqPBr5%2F5qHx8DSYsG1le1qPv3faTxujxt0wGSPCYmH0mDeBTqp%2BpP4B%2Ff%2Bfzxm5ySpGAbvHZOv19boU%2BTW6F2PUeSx8Rkj3gqvnaqS%2Bf9IyCpeCTF2kg6yOe6728fIcllxPMpfCuvnqWP2qqJp4N0ooinC2tV%2BdDo9D2FeNSYuogH6ajFy3WhCK%2BdbtJBPq4pPrcZ4pnjdTF6Vj7TLx7Eoxovt8UQjxvqLxup%2FP0eXj26AUQ8qjz7iEeSOD%2BRd%2FoJfLd4OrF%2BVtFi%2BSAe1UYp%2Bo8KE4svsTAVD68d3dz3Wm23dI57Ih6Ff%2BKchqdXMpIfXInD0zjMyGfqo7ZK4unUCHeLpxPrs87Iq0fPG%2BKVEI8Y4eMC9cUjSZqGP30jHvUaW1oQ8Sxhs5kk6SG8ePxePLx2bPLfY1WReCQF2lDyV%2FFEPleEnP5ckteI52WQRl89wx%2B1VRFPt499RNI50ktSoIhH%2FzfcqjY9YZ456WrPNolijnhepAjimawdQUPoxnqUrOjVk6gJjfKQ%2FnAzvE%2F2gQliryqeKq%2Bdjr9dJXrxCKTTkfVoXxOJ59gkQQMaYiHMr6E9qg1KEPsR%2BQx91IZ48mYv4okXO8TzMyaIZy05g8sH8TyEteNHP7vE05H1TBcRySd44xnigHSGMD0dFDz%2BKuIJ9doRftndsRkinvX6tpyJeP5tibf%2B2snlc%2FlRG%2BLJncOIJ2b8EA%2FiEWUm4hHhm5sseJ53fO0ccBHPXIp5jUY8iEeUa4hHhG9uMuKZ44V4pnl5TUA8iEeUa5XFw8dsotQIMZkXT4gwfDkE4kE8y5kZXDq3e539ksHpdzyIZzk1wkzcIZ6uH2vOBl0kn2OzJA3oKRfBpxeznMuNTxJ3xNP0P92yQzpHkSOesVYnFs%2FZNhmaE%2FIZS5THURli%2B%2Fb2tiSecK%2BdA74gUTs2Q8SzVteWs0xl8%2BrgkRuVoKYt4xR27cixfALtlXxeftSGeMKm3vDBEM8wKrOBW0ST7SWEfK7zL5lwrr7nQTzXIU87AvHsC1044TxDEbGZIaHPkYoYo4my4sXzr39M4KoxFPH4xzGFcJJ%2BZ6AaTYngkstAlePFYlPiCfkxG9%2FxTOcL4plGtjwhpXA6CwjxLOf67MRn8nn6URvimUUbb%2FxHI5T8dCYozi6%2FzFFCOB0FJMjt1L%2FGvqFVIZ4N0L23%2FNIIEY9ZCEpK556WJHfMqCstjHiUQF4vg3iuGaUd8bIJSpqHoDgrv3jKC6eDfAS5zYtnrk0injleaUafNkLEoxrHVtKpLCDEo1oXZ4sNiSfs9zu3mwkSpuJP4ZeNEPGoFdgla7Wdgi4kyaVoVxL0EV4888F8lM%2BXXy5APPNQd8wYboKSZiEozkqSH2a9IxG895Tkk%2FdZz%2FYT5DbimQ8k4plnFm7GVCOUNApJcRb5b7ZNsQ6XKUYHkuSU0ZGml5XkdoX7TwOTTUA8Mn7bZ083QkmRSIqzgHimWW%2FPDscDSPLK8Zgvt5Lkdva7b%2BB%2FKp7wH7MdwCQJk7wZLjVCaZEIeGf%2BuG2JtWJBX7Hbfb73q0pzS5HX9FKCvE5972lQehPu5fPpOx7EowdZe6XlRiNtDpICTSr6ZdaLQb%2BSzMyy3mdP24QleS2tqZmAFhqbWzzCV49mkXvlhLiZSApFUqAJxSNmPZgUHnnodZeU8pHktaSeBvOj4rDW4jkC6lH0Womj0jykhSIo0nasLwK%2Fi4dKHp3dTZpjWgUzuo4gp1OKdpSL4TjEk%2BS%2FVK3WLKRNQVKkSUSvxvpF4e4SzuNxTO8pzTPDpvdlaUlOZ7qnJ9OLvfKLR%2FhxW5ZXj1qTkBaKpEibiyeKcO57glpePTYaaZ55NklJTme6pyfTFfGk%2BMWC%2B4tJEidBM1RvDpJiEbKOLnp11gny64iJxb3TfAwlyWlJLQUSwY6j3F49H7%2FV1k08kZthyIYgKdTAjdiCdcRXzlmTUWeQoTFL8jnD%2FXZYZWDP%2FOIp%2BnGbehP42fRF%2FyicAuuIotdmnU04ph%2B%2FRW%2FOiGdAE%2FpDEM9PptGahWYzfLybSD6SQr3L30i8LVnrl6z9ipo83k8bWT6SfI58L%2Fs0Ee2AeAI2Q83Cf9bgReIp9uqxZi2qzo2TNbkgno2BDLp1DfHQDJ%2Bm16tXhVg8hXhrNdhILzitXqPFJvSrhxePVrpMrVNHPEWaoVaxXzVCsXwkBRvklenFeqoigw3WYhT21SPJYz5qW87WT%2BJJ9xttj9eWJFGAZqhV5FfSOa4qFo%2BS6I9lRs67nOEnEzV47zq7BY9Xa2pwCvvqkfQMxCNKw0M%2B779OnV48yZuhVoGPNMNI4tkhH0%2FWouoMMlmFV8RGjXi2ZRjieYF%2BpIFrRU2lsCdfD13ls4O1Vp7sWkeLWbiP3BDPrpR6qyUexVeP50%2FiGoU9K8po4vHivYP1tupW3FiDG%2BJRDEjypRDPRQBnG%2FpKPkiLevWMHeWzi%2FVKXkSbI2UX8rue1VdPxI8OoyXMyXnqiUf51XNjt9rcr3JBo5hXz6YiHgPeq%2FeJzPrqbBn%2BXCNXS7x6kI44XWuKx6AZWn0UJC1maZNWkc%2FqT43Or83drMXVGmABKcNw4lnpFYhHnIl1xbOSUAM4pY3%2BcQtpIUvPoyIeI9bast%2FNeiC9wg%2BRMgz5cdtM%2FiIdlRxFPIsYpQ3%2F2FZaxBpneD%2FHH78tUniYZvTy0RBQFNY6oPeuImUZ8tVzJR%2BEo5p07%2BIp8Xd4XmExbIbShigt4HDiuSpehdRdvXMU1goIti8hZRlWPNvJ9jpAbfE4NMNVAUkKeLUBv0pttVePE%2B9Z5pFYV2gvEp6Ip0IGyO9QXzyOzfAWjisxiAp38i%2BLjqZIRvmM8I7IejQmUcdJmSKfqJH1O1cP8WyQz30Iv%2Fy7OH%2F%2BLYrwldhWFs8snpX7js6xYD26d9RxiCdqZPKcq494NstHKyUsG6GqfArwtmStlQ%2B71hHJhy%2Frd4UtzL69xEMzvEw85PMLEeJ5nS4i8RzLIp%2FLWqw8oJ94ksvHuhmqiycxb2vWmRsL4skcvf1n7ymepM3QqxEinx%2BF6cV7fxtYO4FIPrx41qAXmdVXPLcAGv9dH8088WyE3eXjyVozRzzXQjyetGvthXgSvX68m6GJfJLw9madsa0gnoxRi3FmxJPo5bOjGXaVzw7WMVrC%2BCkQzzgrRn4mgHgeMyLwR2%2B7mqGZfAK%2FfnaxztSgEE%2BmaMU6K%2BJ5FY%2BAAtrVDE3FE%2FTFuYt1rPZwfhqReK4uyi8fXBFK%2FeeI5yp8gQS0sxm6yCfQC2gn66uU3P3npsJ5djkktDvk6vsjnlGkmwUUoRG6ySeAgCLwHk1Nj3Husjm7FCLyCLnpHohnFu9GAUVohq7y2fgxXATWs6mpPT6UbF5dDglph91lPcQjwewsoUjNcIuAHF9CkVhLUnRlbgrh3F8M%2BayEeescxKOJ31hE0ZrhNvk4vISisdZM01drpRPO40UQkEeaqOyBeFQwXiyiJKSIzXC7fM7QC7hHZG2VqumFg4CsUsNsXcRjhvbFwgWbYVj5FGStma7lhIOANNPDdC3EY4r3yeKFm2E4ARVmLU3b8tLhOyBpipjORzymeHuJ57htKPkgnqfZ3Uo6NwJ8%2F%2BPd6U73Qzze4WjQDMPIR8D6SItq3%2FO0FA4vH%2B8ON7Qf4hnCpDhI0AyzNcLtAhKwriae9tLh5aPYxORLIR45w7kVmjXDzPLJJvpXiYh0HsjwsdtczzIYjXgMoF4uKZBP1ma4TUANWd%2FnH9I5qUYEdNmqrAYgHiuyZ%2Bs2bobuAhKwzv5xWxTpPP6wFOVc7yWKfHZ0wDfEswN702b4qeF4FryAd9oX5p9%2Fu2a2FqctUvLMRdeoxN0M8eyIjaARZv0p%2FGVD8Sh6AW%2BthuqZZl7N25qN1z14%2BXhm54%2B9EI8%2F8x87NmqGww3ESkIC1tlEP8x6Me%2BtZfPqWNb34iO3xYRYnIZ4FsGJpzVphssNQ1NCsBan6y7hPB58OZ9GCGjm3Mh%2Bjccgnl3Bb9AM1ZqERkMozluN9ZN6iCKd%2B6OZ3Vcj13b1lET7Ip5dwRI2wgwfAak2B2lDEPKO2HytG3H0Ox%2F3V82xG1Bpru3qKYn2RTw7g1W4Gao3BGkzELKOLHpt1hmEYy1dvvOxbYyIx5bv%2BepFm6FVIxT%2FHSAh74gN2Yr1zrJY2VubA%2BJZicL4HMQzzspmZLFmqN0A7pv9bvFEe%2FVYsrZJdttVtXkgH7t4fTuW%2Fv7X79%2FttmDlUwJC8VRuhl%2F%2Bxvsfv8mTqRBvzUYb8TW3Gmw1LtKPd1cvUHzet3%2F%2B5xviiRDkIs1QreBP%2FkmCCK%2BeCLL3YB2hNFbPoMYH%2BayG4OU8xKOOdHFBBfFUaoZnP32LxXOAUuC9%2B4Wg1Vh332OxYi6nafF53wj5XPKeGYB4ZmhZj1Vohjvlo1XoV40wing6sLZOeev1tXIS8ehGCvHo8pSthniG%2F8XP7vLRaKhXgpclc5zZGqx49ejGE%2FHo8pSvllQ%2BWsU92gwjicf75aPBepSzPKFjrKDBjFePXiwRjx5LnZWUxHM7jFeD0Sjs2bN2lc8O1jrJvXcVDW7IRyeGiEeHo%2B4qyeSjUdCz0jmARxOPx8tnF2vdBN%2BzmgY7xKMTO8Sjw1F%2FlUTykRb0inRuwCPKx1JAUtaWZ9MvAv0Vxfz47TaVoHyI51iNv0SqwlRnEWXxWDUccSGf%2FH2dEZAq4jk2asJbIvmReEQfo5GvvHpkUT6kc6zw%2Fn%2BIRwbTZLZBM9QWkLSQNRphZPlo8o7A2iTPnReVckQ8soAhHhk%2Fn9lG8tFqiNIiDiUeo5fPLVGkd43A2ifpbXeRckQ8svggHhk%2Fv9lB5SMtYGkjvg9A9FePhnwkvDVZ%2ByW%2B3U4Slu%2Bn4rue5eAgnmV0zhMNxXN%2Fk9nmJC3e2f3OqKuJx%2FjVs8o7Emvn7DfZTsoT8ayHBfGss%2FOf6SSfmZ%2FMJcWrKZ3bmTPKZ5S3hLXWx6r%2BSW%2B7o4gpL57l4CCeZXSbJjrL5%2Bqnc0nhWojnOG9m%2BTzLqhuniKw3VYHathKmfNy2HoYv4jmW4leq14G6zNwoH837WYmnonyk3C1ZS8%2B2cz7i8ad%2Fk86x88evUyMe%2F0As7VhAPpbNUPXVcwQoOW9L1kv5G2iSSD583DYdScQzjSzghKQN0aMRIp8f%2BerBOmBlDB8J8QyjUhmIeFQwBlgkoXy8mqG6fBK%2BfrxYB6iEpSMgniVsy5MQzzK6gBOTycezGXaXjyfrgJVxeSTEc4lIdQDiUcUZYLFE8vFshibiSfTy8WQdoAqmj4B4ppGJJrwUz7Eqv9kmYrt3cgIBeTdDM%2FkkEJA3673Jv7Y78lnjNjvrXjrH3E%2B%2F1YZ4ZnEGHB9YPrsaYVf57OIdsCpeHgnx%2BEQL8fhw3r9LQAHtbISm8gn6%2BtnJe38BjJ0A8Yxxko5CPFKC2eYHEtDuRmgun2AC2s07Q6kgHp8oXYqHj9t8AuG%2BSwABRWiELvIJIKAIrN1zfGFDxLMAbXLKo3SefseDeCapZhy%2BSUJRmqGbfG65sYF3FNbRywPx2EcI8dgzzrWDc0OM1Azd5eMsoUisIxcF4rGPDuKxZ5x3BwcJRWuG2%2BTjJKFovCMWB%2BKxjwrisWdcbwdFIUVshNvlc5YxQvYReUcrEMRjH5Fh8fA9j30w0u4gaIZRG2FV%2BUTlHSn3EY9tNJ5J5%2BUvFyAe22CkX72gfI6YhBRQUdYRagDp2EcB8dgz7rND4WYYTj6FWe8uGMRjHwHEY8%2B4zw4NmmEYATVgvatwEI89%2BWnx8HGbfVDS7tCkGYaQTxPWr2rhSg6S77Gu1j6tT%2F4F0sv29Uo6p9%2FxIJ5Lrn0HNGuGWwUkYH0kqKQx70zwGSms3nFmjy8sEM9leiCeS0QMmCLQsBluk09H1n%2F%2BPZWOt8EzAhJJ59gQ8VzGaFk8vHou2fYc0LkZ7mg4At4zzThKMkukMHpfyR7vnHbkQZQADZzjTDqXH7UhngHCXYc0aoZPm5Rn4xGwzvZxm1gIgx8vivbxjH3S%2FoJ4kgYu%2FLEFzXD0p9IIDIYalHUjErDOJJ4h1oNJcZZj4n2s4z14x8jDEE%2Fk6GQ%2BG83wefSsmpKAdxbRi4XwEJFX9xbvYxXjzP3g4exi8fBxW6Fs0LyKoBG2%2BSlcs0E14C0WwpP8fiYf0T6aMdWsx0BrXUln6DsexBMootGOQjMcj4i0YcF6nPXJy0cknWNdaRyXb5FnIuLJE6ucJ6UZzsVN2rSK8xZL4SQax8tHZX1pDOcyJuVoNfHw6kkZf%2FtDCxthho%2FcVJrVLRLSpiXkHf27HlXWVtkvjaHVuYKsOyKd4Y%2FaEE%2BQqEY8Bs1wPCrSpiVkHV304cUjjd94pqQdiXjShi7ZwWmGcwGTNi94z%2FHWHC2NneZZgq6lLh5ePUEjvftYCo2w1U%2Fi0ualwDvyR25hXz3SuO2uU4f9R6Uz9VEb4nGIXNYtaIbjkdNoYPAe5601UiNuWmcJug7iCRqY0seiGY6HV9rEFFi3emWOR%2Bb5SGm8pPsnmW8mHl49STJgxzFphuPUNRoZvMd5S0dqxEt6huDzZ6Qz%2FVEb4gke%2Fd3HoxmORUCjkSmx5uVzETKNWI1lRepRiCd1%2BJIfnmY4HkCNhgbvcd6rIzXitLp3onnm4uHVkygbdhyVZjhGXaOhKbLm5fMkbBoxGsuG1KNmpbP0URviSZ0j9oenGY4z1mhs8B7nPTtSIz6zeyYc7yYe5JMwOzyPTDMco63R2JRZ8%2FL5GTqN2IxlQepRK9JZfvEgntS54nP4Rg1R9JceNRpcI9ZH8op4z2S%2FRmxm9ks4FvEkDFrpIxs0w8g%2FjS83Q63mBm%2BbctKKj83ptq%2FqLh5ePdtjHv8ARs0wooCWxXNcRqu5NeAt4rxaMVrxWd0%2F6LxV6Yg%2BakM8QbMh2rEMm2EEAak0Qs3GVpi3CuvV%2BtCM0eoZgs1DPMECwnEeCBg3wx0CUm%2BCmo2tEG91zpLi1IyR5BxB5m4TD6%2BeIBmQ4RgOzfCGweq%2FvmzeBLUamyNrC%2Bmbc5bUi1aMJGcIMFciHfFHbYgnQAZkOoJzQ9Roiq5NULOpbWD9mIojPwC48tWqFc04aZ3JeZ3t4kE%2BzhHPvl2AhhgaoWZTg7VdqDXjZHdKk5Wl0lF58SAek9jWXpSGeB5f7aYGb5t60o6TzSnVVw0jHuSjHtv6C9IMX8fYoqHhb01JAAAKFElEQVTB26amLGJlc1KVVTWko%2FbiQTwqMe23CM0Q%2BVTI%2BkbyCSce5FOhgjbcAfkgnw1pp75lA%2FloSUf1xYN41FO514II6Hm8LRoarG1qyyJWNiddWhXxLGFjUngCXRri0aBm7mrV0GbOED55nhzwnpvXXa1iFYB%2FWPHw6gmQHRWO4NUkvFk9NqWZe1o2tJlzeDNb3e8ZL697WsZqlYdwnqZ01D9qQzzC6DL9FwGvJuHB%2FKwRjd7To5mNnsWD2eoeV5y87nh1jtX7bZoXXjzIZ1NmVN3Wq1FY8BttPqN3HF1PcpfRs0j2sJg7w8brjjNnsmCitKa2dExePIhHKdos85mAV7PQ4j7bdEbvN7vu6n1Gz7O6vta8VR5e91s9nxYfhXXSiAf5KESbJZ4T8GoYK%2FylTWb0btJ9Zu82eq7ZdVfHa93f615a513lJZhnIR2zFw%2FiEUSaqeMEvBrH2Ym0m8ronbT3HaU%2Ber7R9UbHWd3X6z5W5x%2FltzgunXiQz2KkmbZOoEoTmbnHzoY2c86VqHrdzfoet7t73WeF9ZM5VtIxffEgHqXos8w6AY2GsqtZzJx91xmvIjNyhyhnHznr1X1H%2FjzKfQfOmlY8yGcgugyBwCsCM80wUUMLG%2FAZ3pJLJIiVpXTMXzy32Hz%2F6%2FfvkjgxFwJtCcw0wwQNLXwcZ3hLLhM4VtbSQTySxGEuBLwIzDbDwE3NC5lon1neq5sFjVMZ8fCR22pmMg8CPwnMNsOgTS1NPGd5r14sWJw8pOP24kE8q1nJPAjcEZhthsGaWrpYzvJevWCgOJUTD%2FJZzUrmQUAgn2NqoMaWLpaN5OMlHdcXD%2BJJV3IcOCqB1WaIgNYiusp7drfN8SkrHuQzm4mMh8ALApJmuLnBpYyphPfMhTfFxlM67i%2BeG39%2BvXomExkLAQP58BHcfFoVlY%2B3dBDPfOoxAwKxCGg0w00%2FZccCOXgaDd5XWznHo414%2BMjtKvP4cwhMEtBoiM4Nb%2FKGcYZrsL66jVMsdkhn24sH8VxlHX8OgQUCmg3RqfEt3DLGFE3Wz27kxL%2BdeJBPjPrhFMUIWDREpyaYLhIWrG8QHJjvks7WF8%2BNL79okK7cOHB0AlYN0aEZRkf75XxJWe%2BUDuJJl%2BUcGAKDBCwaIuJ5Dj8h6%2Fbi4SO3wUbCMAjMEtBuiIjndQQSsd4tnRAvHj5ym%2B0mjIfABAHNhoh4zsEnYB1BOohnon4ZCoG0BLQaIuK5ToHgrBHPkxDyiwbXec0ICCwRkDZEpDOOPSjrKNIJ9eLhu57xvGYkBJYIrDZEpDOPOyBrxHMSRl498znODAgME1hpiIhnGO%2BngbOsDTlHkk64F88taMhnLc%2BZBYEhAqMN0bARDp2zyqAR3oaso0knrHj42K1KxXGP0ATOGqJhIwzNxPpw98wdGEeUDuKxTjLWhwAEILCRAOJZgM9HbgvQmAIBCEDg7e0tqnRCv3j4vofagQAEILBGILJ0EM9aTJkFAQhAIDQBxKMQHj5yU4DIEhCAQAsC0aWT4sXDR24taoVLQgACCgQySCeVeI7D8vJRyEyWgAAEShLIIp104kE%2BJeuFS0EAAkICmaSDeITBZjoEIACBCAQQj0MU%2BMjNATJbQAACKQhkk07KF88tE5BPiprgkBCAgCGBjNJJLR6%2B7zHMZpaGAATCE8gqnfTiQT7ha4MDQgACBgQySwfxGCQES0IAAhCwJoB4rAkPrM%2F3PQOQGAIBCJQgkF06JV48t0xCPiVqiktAAAInBCpIp5R4%2BL6HeoUABCoTqCKdcuJBPpXLjrtBoC%2BBStIpKR7k07c4uTkEKhKoJp2y4kE%2BFcuPO0GgH4GK0iktHuTTr0i5MQQqEagqnfLiQT6VypC7QKAPgcrSQTx98pibQgACiQggnkTBenVU%2Fo5PgSByBQg0IVBdOi1ePLdcRT5NqpZrQiAxgQ7SaSUevu9JXI0cHQINCHSRTjvxIJ8G1csVIZCQQCfptBQP8klYlRwZAoUJdJNOW%2FEgn8JVzNUgkIhAR%2Bm0Fg%2FySVSdHBUCBQl0lU578SCfgtXMlSCQgEBn6SCeuwTl160TVCtHhEByAt2Fcwvft%2BRxVD0%2B8lHFyWIQgMAdAaTzCwbieSgN5EOvgAAEtAkgnc9EEc%2BTDEM%2B2mXHehDoSwDpfI094nlRD8inb6Pg5hDQIoB0npNEPCcZhny0yo91INCPANJ5HXPEc1EPyKdfw%2BDGEJASQDrnBBHPQIYhnwFIDIEABN4JIJ3rREA814w%2BRiCgCVgMhUAzAghnPOCIZ5zV%2B0jkMwmM4RBoQADpzAUZ8czxQj4LvJgCgcoEkM58dBHPPDPks8iMaRCoRgDprEUU8axx43sfITemQyAzAYQjix7ikfHj9aPAjyUgkIkA0pFHC%2FHIGSIfJYYsA4HoBJCOToQQjw5H5KPIkaUgEJEA0tGLCuLRY8n3PgYsWRICuwkgHP0IIB59prx%2BjJiyLAS8CSAdG%2BKIx4Yrrx9jriwPAUsCCMeS7tsb4rHly%2BvHgS9bQECTANLRpPl8LcRjzxj5ODFmGwhICSAdKcGx%2BYhnjJPaKP5bb2ooWQgCagQQjhrKoYUQzxAm%2FUEISJ8pK0JglgDCmSWmMx7x6HBcWgX5LGFjEgRUCCAdFYxLiyCeJWy6kxCQLk9Wg8AZAYSzPz8Qz%2F4YvJ8A%2BQQJBMcoTQDpxAgv4okRh49TIKBgAeE4JQggnFhhRDyx4oGAgsaDY%2BUkgHBixg3xxIwLH78FjgtHy0EA6cSNE%2BKJGxtePwliwxHjEUA48WLyeCLEEz9GCChRjDjqPgIIZx%2F72Z0RzyyxAOP5BYQAQeAIYQggnDChGD4I4hlGFWsg8okVD06zhwDS2cNduivikRLcPB8BbQ4A228hgHC2YFfbFPGoody7EALay5%2FdfQggHB%2FO1rsgHmvCzusjIGfgbOdCAOG4YHbbBPG4ofbdCAH58mY3GwIIx4br7lURz%2B4IOOyPhBwgs4UaAWSjhjLsQognbGj0D4aA9Jmyoh4BhKPHMvpKiCd6hAzOh4AMoLLkMgGEs4wu7UTEkzZ08oMjIDlDVlgngHDW2WWfiXiyR1Dp%2FEhICSTLnBJANiTIQQDxkAdfCCAhkkKTALLRpFljLcRTI44mt0BAJljbLIpw2oR6%2BqKIZxpZzwlIqGfcZ2%2BNbGaJ9RyPeHrGXXRrJCTCV24ysikXUvMLIR5zxLU3QEK14%2FvqdsimZ9y1bo14tEiyzhsSqp0EyKZ2fD1vh3g8aTfbCxHlDjiiyR2%2FyKdHPJGjU%2BhsSChHMJFNjjhlPyXiyR7BpOdHRDECh2hixKHbKRBPt4gHvi8ysg0OkrHly%2BrjBBDPOCtGOhNARDLgiEbGj9l2BBCPHVtWNiKAkD6DRTBGicayZgQQjxlaFt5BoKqUkMuObGJPKwKIx4os64YlEE1OSCVsqnAwIwL%2FD9mA6Lk1zUVXAAAAAElFTkSuQmCC%22%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7BVM.Target%7Cnull%7D%20target%0D%0A%20%20%20*%20%40param%20%7Bstring%7Cunknown%7D%20thing%0D%0A%20%20%20*%20%40returns%20%7Bstring%7Cnumber%7Cboolean%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20getThingOfTarget%20%3D%20(target%2C%20thing)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22x%20position%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.x%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22y%20position%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.y%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22direction%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.direction%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22costume%20num%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.currentCostume%20%2B%201%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22costume%20name%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.getCostumes()%5Btarget.currentCostume%5D.name%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22size%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.size%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(thing%20%3D%3D%3D%20%22volume%22)%20%7B%0D%0A%20%20%20%20%20%20return%20target.volume%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%2F%2F%20this%20should%20never%20happen%0D%0A%20%20%20%20return%20%22%22%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20class%20ClonesPlus%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22lmsclonesplus%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Clones%2B%22)%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23FFAB19%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23EC9C13%22%2C%0D%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23CF8B17%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenCloneStartsWithVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22when%20I%20start%20as%20a%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createCloneWithVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22create%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingCloneWithVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22touching%20clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%3F%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingMainSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22touching%20main%20sprite%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVariableOfClone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20clones%20with%20%5BINPUTC%5D%20set%20to%20%5BINPUTD%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTD%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVariableOfClone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22variable%20%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVariableOfMainSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20variable%20%5BINPUTA%5D%20to%20%5BINPUTB%5D%20for%20main%20sprite%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVariableOfMainSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22variable%20%5BINPUT%5D%20of%20main%20sprite%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22cloneExists%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22clone%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%20exists%3F%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getThingOfClone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5BINPUTA%5D%20of%20clone%20with%20%5BINPUTB%5D%20set%20to%20%5BINPUTC%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22thingOfMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTC%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getThingOfMainSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BINPUT%5D%20of%20main%20sprite%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22thingOfMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopScriptsInSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22stop%20scripts%20in%20%5BINPUT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopScriptsInClone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22stop%20scripts%20in%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22stopScriptsInMainSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22stop%20scripts%20in%20main%20sprite%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteClonesInSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20clones%20in%20%5BINPUT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteCloneWithVar%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22delete%20clones%20with%20%5BINPUTA%5D%20set%20to%20%5BINPUTB%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22variablesMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUTB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isClone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20clone%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22cloneCount%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22clone%20count%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteCloneCount%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22clone%20count%20of%20%5BINPUT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_control%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20spriteMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getSprites%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20menus%20use%20acceptReporters%3A%20false%20for%20Scratch%20parity%0D%0A%20%20%20%20%20%20%20%20%20%20variablesMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getVariables%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20thingOfMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22x%20position%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22x%20position%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22y%20position%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22y%20position%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22direction%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22direction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22costume%20%23%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22costume%20num%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22costume%20name%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22costume%20name%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22size%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22size%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22volume%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22volume%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whenCloneStartsWithVar(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20TODO%3A%20this%20is%20really%20not%20ideal.%20this%20should%20be%20an%20event-based%20hat%20ideally%2C%20but%20we%20don't%20have%20a%20good%0D%0A%20%20%20%20%20%20%2F%2F%20way%20to%20do%20that%20right%20now...%0D%0A%20%20%20%20%20%20if%20(util.target.isOriginal)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20variable%20%3D%20util.target.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20const%20expectedValue%20%3D%20args.INPUTB%3B%0D%0A%20%20%20%20%20%20if%20(variable)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20Scratch.Cast.compare(variable.value%2C%20expectedValue)%20%3D%3D%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20createCloneWithVar(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20-%20not%20typed%20yet%0D%0A%20%20%20%20%20%20Scratch.vm.runtime.ext_scratch3_control._createClone(%0D%0A%20%20%20%20%20%20%20%20util.target.sprite.name%2C%0D%0A%20%20%20%20%20%20%20%20util.target%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0D%0A%20%20%20%20%20%20const%20cloneNum%20%3D%20clones.length%20-%201%3B%0D%0A%20%20%20%20%20%20const%20cloneVariable%20%3D%20clones%5BcloneNum%5D.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20if%20(cloneVariable)%20%7B%0D%0A%20%20%20%20%20%20%20%20cloneVariable.value%20%3D%20args.INPUTB%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20touchingCloneWithVar(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20drawableCandidates%20%3D%20util.target.sprite.clones%0D%0A%20%20%20%20%20%20%20%20.filter((clone)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20variable%20%3D%20clone.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20variable%20%26%26%20Scratch.Cast.compare(variable.value%2C%20args.INPUTB)%20%3D%3D%3D%200%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20.map((clone)%20%3D%3E%20clone.drawableID)%3B%0D%0A%20%20%20%20%20%20if%20(drawableCandidates.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20Scratch.vm.renderer.isTouchingDrawables(%0D%0A%20%20%20%20%20%20%20%20util.target.drawableID%2C%0D%0A%20%20%20%20%20%20%20%20drawableCandidates%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20touchingMainSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20if%20(util.target.isOriginal)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0D%0A%20%20%20%20%20%20const%20drawableCandidates%20%3D%20%5Bmain.drawableID%5D%3B%0D%0A%20%20%20%20%20%20return%20Scratch.vm.renderer.isTouchingDrawables(%0D%0A%20%20%20%20%20%20%20%20util.target.drawableID%2C%0D%0A%20%20%20%20%20%20%20%20drawableCandidates%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setVariableOfClone(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20newVariableValue%20%3D%20args.INPUTB%3B%0D%0A%20%20%20%20%20%20const%20expectedVarValue%20%3D%20args.INPUTD%3B%0D%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20clones.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20checkVar%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTC)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20checkVar%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(checkVar.value%2C%20expectedVarValue)%20%3D%3D%3D%200%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20editVar%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(editVar)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20editVar.value%20%3D%20newVariableValue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getVariableOfClone(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20clone%20%3D%20this.getCloneFromVariable(%0D%0A%20%20%20%20%20%20%20%20args.INPUTB%2C%0D%0A%20%20%20%20%20%20%20%20args.INPUTC%2C%0D%0A%20%20%20%20%20%20%20%20util.target.sprite.clones%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20if%20(!clone)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20guaranteed%20to%20exist%20by%20getCloneFromVariable%0D%0A%20%20%20%20%20%20const%20cloneVar%20%3D%20clone.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20return%20cloneVar.value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setVariableOfMainSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0D%0A%20%20%20%20%20%20const%20variableObj%20%3D%20main.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20if%20(variableObj)%20%7B%0D%0A%20%20%20%20%20%20%20%20variableObj.value%20%3D%20args.INPUTB%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getVariableOfMainSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0D%0A%20%20%20%20%20%20const%20variableObj%20%3D%20main.lookupVariableById(args.INPUT)%3B%0D%0A%20%20%20%20%20%20if%20(variableObj)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20variableObj.value%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20cloneExists(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20clone%20%3D%20this.getCloneFromVariable(%0D%0A%20%20%20%20%20%20%20%20args.INPUTA%2C%0D%0A%20%20%20%20%20%20%20%20args.INPUTB%2C%0D%0A%20%20%20%20%20%20%20%20util.target.sprite.clones%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20!!clone%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getThingOfClone(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20clone%20%3D%20this.getCloneFromVariable(%0D%0A%20%20%20%20%20%20%20%20args.INPUTB%2C%0D%0A%20%20%20%20%20%20%20%20args.INPUTC%2C%0D%0A%20%20%20%20%20%20%20%20util.target.sprite.clones%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20getThingOfTarget(clone%2C%20args.INPUTA)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getThingOfMainSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20main%20%3D%20util.target.sprite.clones%5B0%5D%3B%0D%0A%20%20%20%20%20%20return%20getThingOfTarget(main%2C%20args.INPUT)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20stopScriptsInSprite(args)%20%7B%0D%0A%20%20%20%20%20%20const%20targetObj%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(args.INPUT)%3B%0D%0A%20%20%20%20%20%20if%20(targetObj)%20%7B%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.stopForTarget(targetObj)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20stopScriptsInMainSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20Scratch.vm.runtime.stopForTarget(util.target.sprite.clones%5B0%5D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20stopScriptsInClone(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0D%0A%20%20%20%20%20%20let%20expectedValue%20%3D%20args.INPUTB%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20clones.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20cloneVariable%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20cloneVariable%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(cloneVariable.value%2C%20expectedValue)%20%3D%3D%3D%200%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.vm.runtime.stopForTarget(clones%5Bindex%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20deleteClonesInSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(args.INPUT)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20clones%20%3D%20target.sprite.clones%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%20clones.length%20-%201%3B%20index%20%3E%200%3B%20index--)%20%7B%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.disposeTarget(clones%5Bindex%5D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20deleteCloneWithVar(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20clones%20%3D%20util.target.sprite.clones%3B%0D%0A%20%20%20%20%20%20const%20expectedValue%20%3D%20args.INPUTB%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%20clones.length%20-%201%3B%20index%20%3E%200%3B%20index--)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20cloneVar%20%3D%20clones%5Bindex%5D.lookupVariableById(args.INPUTA)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20cloneVar%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(cloneVar.value%2C%20expectedValue)%20%3D%3D%3D%200%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.vm.runtime.disposeTarget(clones%5Bindex%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20isClone(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20!util.target.isOriginal%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20cloneCount(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20Scratch.vm.runtime._cloneCounter%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20spriteCloneCount(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(args.INPUT)%3B%0D%0A%20%20%20%20%20%20if%20(target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20target.sprite.clones.length%20-%201%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20%40param%20%7Bstring%7D%20variableId%0D%0A%20%20%20%20%20*%20%40param%20%7Bunknown%7D%20expectedValue%0D%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%5B%5D%7D%20clones%0D%0A%20%20%20%20%20*%20%40returns%20%7BVM.Target%7Cnull%7D%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getCloneFromVariable(variableId%2C%20expectedValue%2C%20clones)%20%7B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20clones.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20cloneVar%20%3D%20clones%5Bindex%5D.lookupVariableById(variableId)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20cloneVar%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.compare(cloneVar.value%2C%20expectedValue)%20%3D%3D%3D%200%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20clones%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getSprites()%20%7B%0D%0A%20%20%20%20%20%20let%20spriteNames%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20const%20targets%20%3D%20Scratch.vm.runtime.targets%3B%0D%0A%20%20%20%20%20%20const%20myself%20%3D%20Scratch.vm.runtime.getEditingTarget().sprite.name%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20targets.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20curTarget%20%3D%20targets%5Bindex%5D.sprite%3B%0D%0A%20%20%20%20%20%20%20%20let%20display%20%3D%20curTarget.name%3B%0D%0A%20%20%20%20%20%20%20%20if%20(myself%20%3D%3D%3D%20curTarget.name)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20display%20%3D%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22myself%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Item%20in%20a%20dropdown%20that%20refers%20to%20the%20current%20sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(targets%5Bindex%5D.isOriginal)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20jsonOBJ%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20display%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20curTarget.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20spriteNames.push(jsonOBJ)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(spriteNames.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20spriteNames%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%200%20%7D%5D%3B%20%2F%2Fthis%20should%20never%20happen%20but%20it's%20a%20failsafe%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getSpriteObj(name)%20%7B%0D%0A%20%20%20%20%20%20%2F%2FThis%20is%20unused%20but%20I'm%20leaving%20it%20in%20for%20potential%20future%20blocks%0D%0A%20%20%20%20%20%20const%20spriteObj%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(name)%3B%0D%0A%20%20%20%20%20%20return%20JSON.stringify(spriteObj)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getVariables()%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20-%20Blockly%20not%20typed%20yet%0D%0A%20%20%20%20%20%20const%20variables%20%3D%0D%0A%20%20%20%20%20%20%20%20typeof%20Blockly%20%3D%3D%3D%20%22undefined%22%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20%5B%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20Blockly.getMainWorkspace()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getVariableMap()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getVariablesOfType(%22%22)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.filter((model)%20%3D%3E%20model.isLocal)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.map((model)%20%3D%3E%20(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20model.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20model.getId()%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D))%3B%0D%0A%20%20%20%20%20%20if%20(variables.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20variables%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%20%22%22%20%7D%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20Scratch.extensions.register(new%20ClonesPlus())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Animated%20Text%0D%0A%2F%2F%20ID%3A%20text%0D%0A%2F%2F%20Description%3A%20An%20easy%20way%20to%20display%20and%20animate%20text.%20Compatible%20with%20Scratch%20Lab's%20Animated%20Text%20experiment.%0D%0A%2F%2F%20By%3A%20LilyMakesThings%0D%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22de%22%3A%7B%22_Animated%20Text%22%3A%22Animierter%20Text%22%7D%2C%22fi%22%3A%7B%22_Animated%20Text%22%3A%22Animoitu%20teksti%22%2C%22_left%22%3A%22vasen%20puoli%22%2C%22_right%22%3A%22oikea%20puoli%22%7D%2C%22it%22%3A%7B%22_%23%20of%20lines%22%3A%22numero%20di%20righe%22%2C%22_Animated%20Text%22%3A%22Testo%20Animato%22%2C%22_Enable%20Non-Scratch%20Lab%20Features%22%3A%22Abilita%20blocchi%20non%20presenti%20in%20Scratch%20Lab%22%2C%22_Hello!%22%3A%22Ciao!%22%2C%22_Here%20we%20go!%22%3A%22Ecco%20fatto!%22%2C%22_Incompatible%20with%20Scratch%20Lab%3A%22%3A%22Non%20compatibili%20con%20Scratch%20Lab%3A%22%2C%22_Welcome%20to%20my%20project!%22%3A%22Bevenuti%20nel%20mio%20progetto!%22%2C%22_%5BANIMATE%5D%20duration%22%3A%22durata%20%5BANIMATE%5D%22%2C%22_%5BANIMATE%5D%20text%20%5BTEXT%5D%22%3A%22testo%20%5BTEXT%5D%20con%20effetto%20%5BANIMATE%5D%22%2C%22_add%20line%20%5BTEXT%5D%22%3A%22aggiugi%20riga%20%5BTEXT%5D%22%2C%22_align%20text%20to%20%5BALIGN%5D%22%3A%22allinea%20il%20testo%20%5BALIGN%5D%22%2C%22_animate%20%5BANIMATE%5D%20until%20done%22%3A%22inizia%20animazione%20%5BANIMATE%5D%20e%20attendi%20la%20fine%22%2C%22_center%22%3A%22centro%22%2C%22_displayed%20text%22%3A%22testo%20animato%22%2C%22_is%20animating%3F%22%3A%22animato%22%2C%22_is%20showing%20text%3F%22%3A%22testo%20visibile%22%2C%22_left%22%3A%22a%20sinistra%22%2C%22_rainbow%22%3A%22effetto%20arcobaleno%22%2C%22_random%20font%22%3A%22scelto%20a%20caso%22%2C%22_reset%20%5BANIMATE%5D%20duration%22%3A%22resetta%20durata%20animazione%20%5BANIMATE%5D%22%2C%22_reset%20text%20width%22%3A%22resetta%20larghezza%20testo%22%2C%22_reset%20typing%20delay%22%3A%22resetta%20intervallo%20effetto%20digitazione%22%2C%22_right%22%3A%22a%20destra%22%2C%22_set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22%3A%22imposta%20durata%20%5BANIMATE%5D%20a%20%5BNUM%5D%20secondi%22%2C%22_set%20font%20to%20%5BFONT%5D%22%3A%22usa%20carattere%20%5BFONT%5D%22%2C%22_set%20text%20color%20to%20%5BCOLOR%5D%22%3A%22imposta%20colore%20del%20testo%20a%20%5BCOLOR%5D%22%2C%22_set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22%3A%22imposta%20intervallo%20effetto%20digitazione%20a%20%5BNUM%5D%20secondi%22%2C%22_set%20width%20to%20%5BWIDTH%5D%22%3A%22imposta%20larghezza%20a%20%5BWIDTH%5D%22%2C%22_set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22%3A%22imposta%20larghezza%20a%20%5BWIDTH%5D%20con%20allineamento%20%5BALIGN%5D%22%2C%22_show%20sprite%22%3A%22mostra%20sprite%22%2C%22_show%20text%20%5BTEXT%5D%22%3A%22mostra%20testo%20%5BTEXT%5D%22%2C%22_start%20%5BANIMATE%5D%20animation%22%3A%22inizia%20animazione%20%5BANIMATE%5D%22%2C%22_text%20%5BATTRIBUTE%5D%22%3A%22%5BATTRIBUTE%5D%20del%20testo%22%2C%22_type%22%3A%22effetto%20digitazione%22%2C%22_typing%20delay%22%3A%22intervallo%20effetto%20digitazione%22%2C%22_zoom%22%3A%22effetto%20zoom%22%7D%2C%22ja%22%3A%7B%22_%23%20of%20lines%22%3A%22%E8%A1%8C%E6%95%B0%22%2C%22_Animated%20Text%22%3A%22%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%22%2C%22_Enable%20Non-Scratch%20Lab%20Features%22%3A%22Scratch%20Lab%E4%BB%A5%E5%A4%96%E3%81%AE%E6%A9%9F%E8%83%BD%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_Hello!%22%3A%22%E3%81%93%E3%82%93%E3%81%AB%E3%81%A1%E3%81%AF!%22%2C%22_Here%20we%20go!%22%3A%22%E3%81%95%E3%81%81%E8%A1%8C%E3%81%93%E3%81%86!%22%2C%22_Incompatible%20with%20Scratch%20Lab%3A%22%3A%22Scratch%20Lab%E3%81%A8%E3%81%AE%E4%BA%92%E6%8F%9B%E6%80%A7%E3%81%AA%E3%81%97%22%2C%22_Welcome%20to%20my%20project!%22%3A%22%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%B8%E3%82%88%E3%81%86%E3%81%93%E3%81%9D!%22%2C%22_%5BANIMATE%5D%20duration%22%3A%22%5BANIMATE%5D%E3%81%AE%E9%95%B7%E3%81%95%22%2C%22_%5BANIMATE%5D%20text%20%5BTEXT%5D%22%3A%22%5BANIMATE%5D%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%5BTEXT%5D%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%22%2C%22_add%20line%20%5BTEXT%5D%22%3A%22%E8%A1%8C%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%5BTEXT%5D%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%22%2C%22_align%20text%20to%20%5BALIGN%5D%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%92%5BALIGN%5D%E5%AF%84%E3%82%8A%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_animate%20%5BANIMATE%5D%20until%20done%22%3A%22%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%5BANIMATE%5D%E3%82%92%E9%96%8B%E5%A7%8B%E3%81%97%E3%81%A6%E5%BE%85%E3%81%A4%22%2C%22_center%22%3A%22%E4%B8%AD%E5%A4%AE%22%2C%22_displayed%20text%22%3A%22%E8%A1%A8%E7%A4%BA%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%22%2C%22_is%20animating%3F%22%3A%22%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%3F%22%2C%22_is%20showing%20text%3F%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%8C%E8%A1%A8%E7%A4%BA%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%3F%22%2C%22_left%22%3A%22%E5%B7%A6%22%2C%22_rainbow%22%3A%22%E3%83%AC%E3%82%A4%E3%83%B3%E3%83%9C%E3%83%BC%22%2C%22_random%20font%22%3A%22%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88%22%2C%22_reset%20%5BANIMATE%5D%20duration%22%3A%22%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%5BANIMATE%5D%E3%81%AE%E9%95%B7%E3%81%95%E3%82%92%E3%83%AA%E3%82%BB%E3%83%83%E3%83%88%E3%81%99%E3%82%8B%22%2C%22_reset%20text%20width%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E5%B9%85%E3%82%92%E3%83%AA%E3%82%BB%E3%83%83%E3%83%88%E3%81%99%E3%82%8B%22%2C%22_reset%20typing%20delay%22%3A%22%E3%82%BF%E3%82%A4%E3%83%94%E3%83%B3%E3%82%B0%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E9%96%93%E9%9A%94%E3%82%92%E3%83%AA%E3%82%BB%E3%83%83%E3%83%88%22%2C%22_right%22%3A%22%E5%8F%B3%22%2C%22_set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22%3A%22%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%5BANIMATE%5D%E3%81%AE%E9%95%B7%E3%81%95%E3%82%92%5BNUM%5D%E7%A7%92%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20font%20to%20%5BFONT%5D%22%3A%22%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88%E3%82%92%5BFONT%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20text%20color%20to%20%5BCOLOR%5D%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E8%89%B2%E3%82%92%5BCOLOR%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22%3A%22%E3%82%BF%E3%82%A4%E3%83%94%E3%83%B3%E3%82%B0%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E9%96%93%E9%9A%94%E3%82%92%5BNUM%5D%E7%A7%92%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20width%20to%20%5BWIDTH%5D%22%3A%22%E5%B9%85%E3%82%92%5BWIDTH%5D%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E5%B9%85%E3%82%92%5BWIDTH%5D%E3%80%81%5BALIGN%5D%E5%AF%84%E3%81%9B%E3%81%AB%E3%81%99%E3%82%8B%22%2C%22_show%20sprite%22%3A%22%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%E3%82%92%E8%A1%A8%E7%A4%BA%22%2C%22_show%20text%20%5BTEXT%5D%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%5BTEXT%5D%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%22%2C%22_start%20%5BANIMATE%5D%20animation%22%3A%22%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%5BANIMATE%5D%E3%82%92%E9%96%8B%E5%A7%8B%E3%81%99%E3%82%8B%22%2C%22_text%20%5BATTRIBUTE%5D%22%3A%22%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%5BATTRIBUTE%5D%22%2C%22_type%22%3A%22%E3%82%BF%E3%82%A4%E3%83%94%E3%83%B3%E3%82%B0%22%2C%22_typing%20delay%22%3A%22%E3%82%BF%E3%82%A4%E3%83%94%E3%83%B3%E3%82%B0%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E9%96%93%E9%9A%94%22%2C%22_zoom%22%3A%22%E3%82%BA%E3%83%BC%E3%83%A0%22%2C%22disableCompatibilityMode%22%3A%22%E3%81%93%E3%82%8C%E3%81%AFScratch%20Lab%E3%81%A7%E3%81%AF%E5%8B%95%E3%81%8B%E3%81%AA%E3%81%84%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%84%E6%A9%9F%E8%83%BD%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%5Cn%5Cn%E7%B6%9A%E8%A1%8C%E3%81%97%E3%81%BE%E3%81%99%E3%81%8B%3F%22%7D%2C%22nb%22%3A%7B%22_%23%20of%20lines%22%3A%22%23%20av%20linjer%22%2C%22_Animated%20Text%22%3A%22Animert%20Tekst%22%2C%22_Enable%20Non-Scratch%20Lab%20Features%22%3A%22Aktiver%20funksjoner%20som%20er%20ikke%20tilgjengelig%20i%20scratch%20lab%22%2C%22_Hello!%22%3A%22Hei!%22%2C%22_Here%20we%20go!%22%3A%22Her%20g%C3%A5r%20vi!%22%2C%22_Incompatible%20with%20Scratch%20Lab%3A%22%3A%22Inkompatibel%20med%20Scratch%20Lab.%22%2C%22_Welcome%20to%20my%20project!%22%3A%22Velkommen%20til%20mitt%20prosjekt!%22%2C%22_%5BANIMATE%5D%20duration%22%3A%22%5BANIMATE%5D%20varighet%22%2C%22_%5BANIMATE%5D%20text%20%5BTEXT%5D%22%3A%22%5BANIMATE%5D%20tekst%20%5BTEXT%5D%22%2C%22_add%20line%20%5BTEXT%5D%22%3A%22legg%20til%20linje%20%5BTEXT%5D%22%2C%22_align%20text%20to%20%5BALIGN%5D%22%3A%22juster%20teksten%20til%20%5BALIGN%5D%22%2C%22_animate%20%5BANIMATE%5D%20until%20done%22%3A%22animere%20%5BANIMATE%5D%20til%20ferdig%22%2C%22_center%22%3A%22senter%22%2C%22_displayed%20text%22%3A%22vist%20tekst%22%2C%22_is%20animating%3F%22%3A%22er%20animerer%3F%22%2C%22_is%20showing%20text%3F%22%3A%22viser%20teksten%3F%22%2C%22_left%22%3A%22venstre%22%2C%22_rainbow%22%3A%22regnbue%22%2C%22_random%20font%22%3A%22tilfeldig%20skrifttype%22%2C%22_reset%20%5BANIMATE%5D%20duration%22%3A%22tilbakestill%20%5BANIMATE%5D%20varighet%22%2C%22_reset%20text%20width%22%3A%22tilbakestill%20tekstbredde%22%2C%22_reset%20typing%20delay%22%3A%22nullstill%20skriveforsinkelse%22%2C%22_right%22%3A%22riktig%22%2C%22_set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22%3A%22sett%20%5BANIMATE%5D%20varighet%20til%20%5BNUM%5D%20sekunder%22%2C%22_set%20font%20to%20%5BFONT%5D%22%3A%22sett%20skrifttype%20til%20%5BFONT%5D%22%2C%22_set%20text%20color%20to%20%5BCOLOR%5D%22%3A%22sett%20tekstfarge%20til%20%5BCOLOR%5D%22%2C%22_set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22%3A%22sett%20skriveforsinkelse%20til%20%5BNUM%5D%20sekunder%22%2C%22_set%20width%20to%20%5BWIDTH%5D%22%3A%22sett%20bredde%20til%20%5BWIDTH%5D%22%2C%22_set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22%3A%22sett%20bredde%20til%20%5BWIDTH%5D%20justert%20%5BALIGN%5D%22%2C%22_show%20sprite%22%3A%22vis%20sprite%22%2C%22_show%20text%20%5BTEXT%5D%22%3A%22vis%20tekst%20%5BTEXT%5D%22%2C%22_start%20%5BANIMATE%5D%20animation%22%3A%22start%20%5BANIMATE%5D%20animasjon%22%2C%22_text%20%5BATTRIBUTE%5D%22%3A%22tekst%20%5BATTRIBUTE%5D%22%2C%22_typing%20delay%22%3A%22skriveforsinkelse%22%2C%22disableCompatibilityMode%22%3A%22Dette%20vil%20aktivere%20nye%20blokker%20og%20funksjoner%20som%20ikke%20vil%20fungere%20i%20den%20offisielle%20Scratch%20Lab.%5Cn%5Cn%C3%98nsker%20du%20%C3%A5%20fortsette%3F%22%7D%2C%22nl%22%3A%7B%22_%23%20of%20lines%22%3A%22aantal%20regels%22%2C%22_Animated%20Text%22%3A%22Geanimeerde%20tekst%22%2C%22_Enable%20Non-Scratch%20Lab%20Features%22%3A%22Niet-Scratch%20Lab%20Functies%20Inschakelen%22%2C%22_Hello!%22%3A%22Hallo!%22%2C%22_Here%20we%20go!%22%3A%22Daar%20gaan%20we!%22%2C%22_Incompatible%20with%20Scratch%20Lab%3A%22%3A%22Incompatibel%20met%20Scratch%20Lab%3A%22%2C%22_Welcome%20to%20my%20project!%22%3A%22Welkom%20bij%20mijn%20project!%22%2C%22_%5BANIMATE%5D%20duration%22%3A%22duur%20van%20%5BANIMATE%5D%22%2C%22_%5BANIMATE%5D%20text%20%5BTEXT%5D%22%3A%22%5BANIMATE%5D%20tekst%20%5BTEXT%5D%22%2C%22_add%20line%20%5BTEXT%5D%22%3A%22voeg%20regel%20%5BTEXT%5D%20toe%22%2C%22_align%20text%20to%20%5BALIGN%5D%22%3A%22tekst%20%5BALIGN%5D%20uitlijnen%22%2C%22_animate%20%5BANIMATE%5D%20until%20done%22%3A%22start%20animatie%20%5BANIMATE%5D%20en%20wacht%22%2C%22_center%22%3A%22midden%22%2C%22_displayed%20text%22%3A%22weergegeven%20tekst%22%2C%22_is%20animating%3F%22%3A%22animatie%20bezig%3F%22%2C%22_is%20showing%20text%3F%22%3A%22tekst%20aan%20het%20tonen%3F%22%2C%22_left%22%3A%22links%22%2C%22_rainbow%22%3A%22regenboog%22%2C%22_random%20font%22%3A%22willekeurig%20lettertype%22%2C%22_reset%20%5BANIMATE%5D%20duration%22%3A%22reset%20duur%20van%20%5BANIMATE%5D%22%2C%22_reset%20text%20width%22%3A%22reset%20tekstbreedte%22%2C%22_reset%20typing%20delay%22%3A%22reset%20wachttijd%20van%20typ-animatie%22%2C%22_right%22%3A%22rechts%22%2C%22_set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22%3A%22maak%20duur%20van%20%5BANIMATE%5D%20%5BNUM%5D%20seconden%22%2C%22_set%20font%20to%20%5BFONT%5D%22%3A%22maak%20lettertype%20%5BFONT%5D%22%2C%22_set%20text%20color%20to%20%5BCOLOR%5D%22%3A%22maak%20tekstkleur%20%5BCOLOR%5D%22%2C%22_set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22%3A%22maak%20wachttijd%20van%20typ-animatie%20%5BNUM%5D%20seconden%22%2C%22_set%20width%20to%20%5BWIDTH%5D%22%3A%22maak%20breedte%20%5BWIDTH%5D%22%2C%22_set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22%3A%22maak%20breedte%20%5BWIDTH%5D%20%5BALIGN%5D%20uitgelijnd%22%2C%22_show%20sprite%22%3A%22toon%20sprite%22%2C%22_show%20text%20%5BTEXT%5D%22%3A%22toon%20tekst%20%5BTEXT%5D%22%2C%22_start%20%5BANIMATE%5D%20animation%22%3A%22start%20animatie%20%5BANIMATE%5D%22%2C%22_text%20%5BATTRIBUTE%5D%22%3A%22%5BATTRIBUTE%5D%20van%20tekst%22%2C%22_type%22%3A%22typen%22%2C%22_typing%20delay%22%3A%22wachttijd%20van%20typ-animatie%22%2C%22disableCompatibilityMode%22%3A%22Dit%20voegt%20nieuwe%20blokken%20en%20functies%20toe%20die%20NIET%20werken%20in%20het%20offici%C3%ABle%20Scratch%20Lab.%5Cn%5CnWil%20je%20verdergaan%3F%22%7D%2C%22ru%22%3A%7B%22_%23%20of%20lines%22%3A%22%D0%BA%D0%BE%D0%BB-%D0%B2%D0%BE%20%D1%81%D1%82%D1%80%D0%BE%D0%BA%22%2C%22_Animated%20Text%22%3A%22%D0%90%D0%BD%D0%B8%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20%D0%A2%D0%B5%D0%BA%D1%81%D1%82%22%2C%22_Enable%20Non-Scratch%20Lab%20Features%22%3A%22%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%20%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8%20%D0%BD%D0%B5%20%D0%B8%D0%B7%20Scratch%20Lab%22%2C%22_Hello!%22%3A%22%D0%9F%D1%80%D0%B8%D0%B2%D0%B5%D1%82!%22%2C%22_Here%20we%20go!%22%3A%22%D0%9F%D0%BE%D0%B5%D1%85%D0%B0%D0%BB%D0%B8!%22%2C%22_Incompatible%20with%20Scratch%20Lab%3A%22%3A%22%D0%9D%D0%B5%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%BE%20%D1%81%D0%BE%20Scratch%20Lab%3A%22%2C%22_Welcome%20to%20my%20project!%22%3A%22%D0%94%D0%BE%D0%B1%D1%80%D0%BE%20%D0%BF%D0%BE%D0%B6%D0%B0%D0%BB%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D0%B2%20%D0%BC%D0%BE%D0%B9%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82!%22%2C%22_%5BANIMATE%5D%20duration%22%3A%22%D0%BF%D1%80%D0%BE%D0%B4%D0%BE%D0%BB%D0%B6%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D1%86%D0%B8%D0%B8%20%5BANIMATE%5D%20%22%2C%22_%5BANIMATE%5D%20text%20%5BTEXT%5D%22%3A%22%5BANIMATE%5D%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%20%5BTEXT%5D%22%2C%22_add%20line%20%5BTEXT%5D%22%3A%22%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D1%82%D1%80%D0%BE%D0%BA%D1%83%20%5BTEXT%5D%22%2C%22_align%20text%20to%20%5BALIGN%5D%22%3A%22%D0%B2%D1%8B%D1%80%D0%BE%D0%B2%D0%BD%D1%8F%D1%82%D1%8C%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%20%D0%BF%D0%BE%20%5BALIGN%5D%22%2C%22_animate%20%5BANIMATE%5D%20until%20done%22%3A%22%D0%B0%D0%BD%D0%B8%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%5BANIMATE%5D%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%20%D0%B4%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%86%D0%B0%22%2C%22_center%22%3A%22%D1%86%D0%B5%D0%BD%D1%82%D1%80%D1%83%22%2C%22_displayed%20text%22%3A%22%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%22%2C%22_is%20animating%3F%22%3A%22%D0%B0%D0%BD%D0%B8%D0%BC%D0%B8%D1%80%D1%83%D0%B5%D1%82%D1%81%D1%8F%3F%22%2C%22_is%20showing%20text%3F%22%3A%22%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%3F%22%2C%22_left%22%3A%22%D0%BB%D0%B5%D0%B2%D0%BE%D0%BC%D1%83%20%D0%BA%D1%80%D0%B0%D1%8E%22%2C%22_rainbow%22%3A%22%D1%80%D0%B0%D0%B4%D1%83%D0%B6%D0%BD%D1%8B%D0%B9%22%2C%22_random%20font%22%3A%22%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B9%D0%BD%D1%8B%D0%B9%20%D1%88%D1%80%D0%B8%D1%84%D1%82%22%2C%22_reset%20%5BANIMATE%5D%20duration%22%3A%22%D1%81%D0%B1%D1%80%D0%BE%D1%81%D0%B8%D1%82%D1%8C%20%D0%BF%D1%80%D0%BE%D0%B4%D0%BE%D0%BB%D0%B6%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D1%86%D0%B8%D0%B8%20%5BANIMATE%5D%22%2C%22_reset%20text%20width%22%3A%22%D1%81%D0%B1%D1%80%D0%BE%D1%81%D0%B8%D1%82%D1%8C%20%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D1%83%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0%22%2C%22_reset%20typing%20delay%22%3A%22%D1%81%D0%B1%D1%80%D0%BE%D1%81%D0%B8%D1%82%D1%8C%20%D0%B7%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D1%83%20%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%BD%D0%B8%D1%8F%22%2C%22_right%22%3A%22%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D0%BC%D1%83%20%D0%BA%D1%80%D0%B0%D1%8E%22%2C%22_set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%BF%D1%80%D0%BE%D0%B4%D0%BE%D0%BB%D0%B6%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D1%86%D0%B8%D0%B8%20%5BANIMATE%5D%20%D0%B2%20%5BNUM%5D%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%22%2C%22_set%20font%20to%20%5BFONT%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%88%D1%80%D0%B8%D1%84%D1%82%20%D0%B2%20%5BFONT%5D%22%2C%22_set%20text%20color%20to%20%5BCOLOR%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%86%D0%B2%D0%B5%D1%82%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0%20%D0%B2%20%5BCOLOR%5D%22%2C%22_set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B7%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D1%83%20%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%B2%20%5BNUM%5D%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%22%2C%22_set%20width%20to%20%5BWIDTH%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D1%83%20%D0%B2%20%5BWIDTH%5D%22%2C%22_set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D1%83%20%D0%B2%20%5BWIDTH%5D%20%D0%B2%D1%8B%D1%80%D0%BE%D0%B2%D0%BD%D0%B5%D0%BD%D0%BD%D1%83%D1%8E%20%D0%BF%D0%BE%20%5BALIGN%5D%22%2C%22_show%20sprite%22%3A%22%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%22%2C%22_show%20text%20%5BTEXT%5D%22%3A%22%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%20%5BTEXT%5D%22%2C%22_start%20%5BANIMATE%5D%20animation%22%3A%22%D0%BD%D0%B0%D1%87%D0%B0%D1%82%D1%8C%20%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D1%86%D0%B8%D1%8E%20%5BANIMATE%5D%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%22%2C%22_text%20%5BATTRIBUTE%5D%22%3A%22%5BATTRIBUTE%5D%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0%22%2C%22_type%22%3A%22%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D1%8E%D1%89%D0%B8%D0%B9%D1%81%D1%8F%22%2C%22_typing%20delay%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0%20%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%BD%D0%B8%D1%8F%22%2C%22_zoom%22%3A%22%D0%B2%D1%8B%D1%80%D0%B0%D1%81%D1%82%D0%B0%D1%8E%D1%89%D0%B8%D0%B9%22%2C%22disableCompatibilityMode%22%3A%22%D0%AD%D1%82%D0%BE%20%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%20%D0%BD%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%20%D0%B8%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8%20%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5%20%D0%9D%D0%95%20%D0%91%D0%A3%D0%94%D0%A3%D0%A2%20%D0%A0%D0%90%D0%91%D0%9E%D0%A2%D0%90%D0%A2%D0%AC%20%D0%B2%20%D0%BE%D1%84%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9%20%D0%BB%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%B8%D0%B8%20Scratch.%5Cn%5Cn%D0%92%D1%8B%20%D0%B6%D0%B5%D0%BB%D0%B0%D0%B5%D1%82%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B4%D0%BE%D0%BB%D0%B6%D0%B8%D1%82%D1%8C%3F%22%7D%2C%22uk%22%3A%7B%22_Animated%20Text%22%3A%22%D0%90%D0%BD%D1%96%D0%BC%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9%20%D0%A2%D0%B5%D0%BA%D1%81%D1%82%22%2C%22_left%22%3A%22%D0%BB%D1%96%D0%B2%D1%83%22%2C%22_right%22%3A%22%D0%BF%D1%80%D0%B0%D0%B2%D1%83%22%7D%2C%22zh-cn%22%3A%7B%22_%23%20of%20lines%22%3A%22%E6%96%87%E6%9C%AC%E8%A1%8C%E6%95%B0%22%2C%22_Animated%20Text%22%3A%22%E8%89%BA%E6%9C%AF%E5%AD%97%22%2C%22_Enable%20Non-Scratch%20Lab%20Features%22%3A%22%E6%98%BE%E7%A4%BA%E4%B8%8EScratch%20Lab%E4%B8%8D%E5%85%BC%E5%AE%B9%E7%9A%84%E7%A7%AF%E6%9C%A8%22%2C%22_Hello!%22%3A%22%E4%BD%A0%E5%A5%BD%EF%BC%81%22%2C%22_Here%20we%20go!%22%3A%22%E7%8E%B0%E5%9C%A8%E5%87%BA%E5%8F%91%EF%BC%81%22%2C%22_Incompatible%20with%20Scratch%20Lab%3A%22%3A%22%E4%BB%A5%E4%B8%8B%E7%A7%AF%E6%9C%A8%E4%B8%8EScratch%20Lab%E4%B8%8D%E5%85%BC%E5%AE%B9%EF%BC%9A%22%2C%22_Welcome%20to%20my%20project!%22%3A%22%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0%E6%88%91%E7%9A%84%E4%BD%9C%E5%93%81%EF%BC%81%22%2C%22_%5BANIMATE%5D%20duration%22%3A%22%E5%8A%A8%E7%94%BB%E6%A0%B7%E5%BC%8F%5BANIMATE%5D%E7%9A%84%E5%AE%8C%E6%88%90%E6%97%B6%E9%97%B4%22%2C%22_%5BANIMATE%5D%20text%20%5BTEXT%5D%22%3A%22%E6%98%BE%E7%A4%BA%E5%8A%A8%E7%94%BB%E6%A0%B7%E5%BC%8F%E6%98%AF%5BANIMATE%5D%E7%9A%84%E6%96%87%E6%9C%AC%5BTEXT%5D%22%2C%22_add%20line%20%5BTEXT%5D%22%3A%22%E5%A2%9E%E5%8A%A0%E4%B8%80%E8%A1%8C%E6%96%87%E6%9C%AC%5BTEXT%5D%22%2C%22_align%20text%20to%20%5BALIGN%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E7%9A%84%E5%B1%95%E7%A4%BA%E6%A0%B7%E5%BC%8F%E4%B8%BA%5BALIGN%5D%22%2C%22_animate%20%5BANIMATE%5D%20until%20done%22%3A%22%E6%98%BE%E7%A4%BA%E5%8A%A8%E7%94%BB%E6%A0%B7%E5%BC%8F%5BANIMATE%5D%E5%B9%B6%E7%AD%89%E5%BE%85%22%2C%22_center%22%3A%22%E5%B1%85%E4%B8%AD%22%2C%22_displayed%20text%22%3A%22%E6%98%BE%E7%A4%BA%E7%9A%84%E6%96%87%E6%9C%AC%22%2C%22_is%20animating%3F%22%3A%22%E6%AD%A3%E5%9C%A8%E6%98%BE%E7%A4%BA%E8%89%BA%E6%9C%AF%E5%AD%97%EF%BC%9F%22%2C%22_is%20showing%20text%3F%22%3A%22%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E4%BA%86%EF%BC%9F%22%2C%22_left%22%3A%22%E5%B1%85%E5%B7%A6%22%2C%22_rainbow%22%3A%22%E5%BD%A9%E8%99%B9%E8%89%B2%22%2C%22_random%20font%22%3A%22%E9%9A%8F%E6%9C%BA%E5%AD%97%E4%BD%93%22%2C%22_reset%20%5BANIMATE%5D%20duration%22%3A%22%E9%87%8D%E7%BD%AE%E5%8A%A8%E7%94%BB%E6%A0%B7%E5%BC%8F%5BANIMATE%5D%E7%9A%84%E5%AE%8C%E6%88%90%E6%97%B6%E9%97%B4%22%2C%22_reset%20text%20width%22%3A%22%E9%87%8D%E7%BD%AE%E6%96%87%E6%9C%AC%E5%AE%BD%E5%BA%A6%22%2C%22_reset%20typing%20delay%22%3A%22%E9%87%8D%E7%BD%AE%E9%80%90%E5%AD%97%E6%98%BE%E7%A4%BA%E9%80%9F%E5%BA%A6%22%2C%22_right%22%3A%22%E5%B1%85%E5%8F%B3%22%2C%22_set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22%3A%22%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E6%A0%B7%E5%BC%8F%5BANIMATE%5D%E7%9A%84%E5%AE%8C%E6%88%90%E6%97%B6%E9%97%B4%E6%98%AF%5BNUM%5D%E7%A7%92%22%2C%22_set%20font%20to%20%5BFONT%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E7%9A%84%E5%AD%97%E4%BD%93%E4%B8%BA%5BFONT%5D%22%2C%22_set%20text%20color%20to%20%5BCOLOR%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E7%9A%84%E9%A2%9C%E8%89%B2%E4%B8%BA%5BCOLOR%5D%22%2C%22_set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22%3A%22%E8%AE%BE%E7%BD%AE%E9%80%90%E5%AD%97%E6%98%BE%E7%A4%BA%E9%80%9F%E5%BA%A6%E4%B8%BA%5BNUM%5D%E7%A7%92%2F%E5%AD%97%22%2C%22_set%20width%20to%20%5BWIDTH%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E7%9A%84%E5%AE%BD%E5%BA%A6%E4%B8%BA%5BWIDTH%5D%22%2C%22_set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22%3A%22%E8%AE%BE%E7%BD%AE%5BALIGN%5D%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%AE%BD%E5%BA%A6%E4%B8%BA%5BWIDTH%5D%22%2C%22_show%20sprite%22%3A%22%E6%98%BE%E7%A4%BA%E8%A7%92%E8%89%B2%22%2C%22_show%20text%20%5BTEXT%5D%22%3A%22%E6%98%BE%E7%A4%BA%E6%96%87%E6%9C%AC%5BTEXT%5D%22%2C%22_start%20%5BANIMATE%5D%20animation%22%3A%22%E6%98%BE%E7%A4%BA%E5%8A%A8%E7%94%BB%E6%A0%B7%E5%BC%8F%5BANIMATE%5D%22%2C%22_text%20%5BATTRIBUTE%5D%22%3A%22%E6%96%87%E6%9C%AC%E7%9A%84%5BATTRIBUTE%5D%22%2C%22_type%22%3A%22%E9%80%90%E5%AD%97%E6%98%BE%E7%A4%BA%22%2C%22_typing%20delay%22%3A%22%E9%80%90%E5%AD%97%E6%98%BE%E7%A4%BA%E9%80%9F%E5%BA%A6%22%2C%22_zoom%22%3A%22%E7%A7%BB%E5%8A%A8%E5%8A%A8%E7%94%BB%22%2C%22disableCompatibilityMode%22%3A%22%E8%BF%99%E5%B0%86%E4%BC%9A%E5%90%AF%E7%94%A8%E6%96%B0%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%A7%AF%E6%9C%A8%E6%98%AF%E4%B8%8D%E5%85%BC%E5%AE%B9Scratch%20Lab%E3%80%82%5Cn%5Cn%E6%98%AF%E5%90%A6%E5%90%AF%E7%94%A8%E6%96%B0%E5%8A%9F%E8%83%BD%EF%BC%9F%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20%2F%2F%20This%20extension%20was%20created%20by%20making%20projects%20with%20https%3A%2F%2Flab.scratch.mit.edu%2Ftext%2F%0D%0A%20%20%2F%2F%20To%20determine%20block%20and%20argument%20IDs%2C%20we%20extracted%20project.json%20and%20examined%20the%20result.%0D%0A%20%20%2F%2F%20To%20determine%20block%20behaviors%20we%20simply%20experiment%20with%20Scratch%20Lab%20and%20made%20sure%20our%0D%0A%20%20%2F%2F%20blocks%20do%20the%20same%20things.%0D%0A%20%20%2F%2F%20This%20extension's%20code%20is%20not%20based%20on%20the%20source%20code%20of%20Scratch%20Lab's.%0D%0A%0D%0A%20%20%2F%2F%20by%20%40LilyMakesThings%0D%0A%20%20const%20blockIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3B%2C%253Csvg%2520xmlns%253D%2522http%253A%252F%252Fwww.w3.org%252F2000%252Fsvg%2522%2520width%253D%2522284.242%2522%2520height%253D%2522284.242%2522%253E%253Cg%2520fill-rule%253D%2522evenodd%2522%2520stroke-miterlimit%253D%252210%2522%2520data-paper-data%253D%2522%257B%2526quot%253BisPaintingLayer%2526quot%253B%253Atrue%257D%2522%2520style%253D%2522mix-blend-mode%253Anormal%2522%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.83%2520522.83%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%252396f%2522%2520stroke%253D%2522%25237240d6%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%252229%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.83%2520522.83%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%2523ffa24d%2522%2520stroke%253D%2522%2523fff%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%25229%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%252396f%2522%2520stroke%253D%2522%25237240d6%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%252229%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%2523ff774d%2522%2520stroke%253D%2522%2523fff%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%25229%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253Cpath%2520fill%253D%2522%252396f%2522%2520stroke%253D%2522%25237240d6%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%252229%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253Cpath%2520fill%253D%2522%2523ff4c4c%2522%2520stroke%253D%2522%2523fff%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%25229%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253C%252Fg%253E%253C%252Fsvg%253E%22%3B%0D%0A%0D%0A%20%20const%20CUSTOM_STATE_KEY%20%3D%20Symbol()%3B%0D%0A%0D%0A%20%20const%20ALIGN_LEFT%20%3D%200%3B%0D%0A%20%20const%20ALIGN_RIGHT%20%3D%201%3B%0D%0A%20%20const%20ALIGN_CENTER%20%3D%202%3B%0D%0A%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%20%20const%20renderer%20%3D%20vm.renderer%3B%0D%0A%20%20const%20gl%20%3D%20renderer.gl%3B%0D%0A%0D%0A%20%20let%20compatibilityMode%20%3D%20true%3B%0D%0A%0D%0A%20%20const%20FONTS%20%3D%20%5B%0D%0A%20%20%20%20%22Sans%20Serif%22%2C%0D%0A%20%20%20%20%22Serif%22%2C%0D%0A%20%20%20%20%22Handwriting%22%2C%0D%0A%20%20%20%20%22Marker%22%2C%0D%0A%20%20%20%20%22Curly%22%2C%0D%0A%20%20%20%20%22Pixel%22%2C%0D%0A%20%20%20%20%22Scratch%22%2C%0D%0A%20%20%5D%3B%0D%0A%0D%0A%20%20const%20DEFAULT_COLOR%20%3D%20%22%23575e75%22%3B%0D%0A%20%20const%20DEFAULT_FONT%20%3D%20%22Handwriting%22%3B%0D%0A%20%20const%20DEFAULT_ALIGN%20%3D%20ALIGN_CENTER%3B%0D%0A%20%20const%20DEFAULT_FONT_SIZE%20%3D%2024%3B%0D%0A%20%20const%20DEFAULT_OUTLINE_WIDTH%20%3D%200%3B%20%2F%2F%200%20%3D%20no%20outline%0D%0A%20%20const%20DEFAULT_OUTLINE_COLOR%20%3D%20%22%23000000%22%3B%0D%0A%0D%0A%20%20const%20DEFAULT_TYPE_DELAY%20%3D%201000%20%2F%2015%3B%0D%0A%0D%0A%20%20const%20RAINBOW_TIME_PER%20%3D%201000%3B%0D%0A%20%20const%20DEFAULT_RAINBOW_DURATION%20%3D%202000%3B%0D%0A%0D%0A%20%20const%20DEFAULT_ZOOM_DURATION%20%3D%20500%3B%0D%0A%0D%0A%20%20const%20DEFAULT_SHAKE_INTENSITY%20%3D%20100%3B%0D%0A%20%20const%20DEFAULT_SHAKE_DURATION%20%3D%20500%3B%0D%0A%0D%0A%20%20let%20globalFrameTime%20%3D%200%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40typedef%20TextState%0D%0A%20%20%20*%20%40property%20%7BTextCostumeSkin%7D%20skin%0D%0A%20%20%20*%2F%0D%0A%0D%0A%20%20%2F%2F%20temporary%0D%0A%20%20if%20(!renderer.exports%20%7C%7C%20!renderer.exports.Skin%20%7C%7C%20!vm.exports)%20%7B%0D%0A%20%20%20%20alert(%22VM%20is%20too%20old%20for%20animated%20text%20extension%22)%3B%0D%0A%20%20%20%20throw%20new%20Error(%22VM%20is%20too%20old%22)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20Skin%20%3D%20renderer.exports.Skin%3B%0D%0A%20%20const%20CanvasMeasurementProvider%20%3D%20renderer.exports.CanvasMeasurementProvider%3B%0D%0A%20%20const%20twgl%20%3D%20renderer.exports.twgl%3B%0D%0A%20%20const%20RenderedTarget%20%3D%20vm.exports.RenderedTarget%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7Bnumber%7D%20c%0D%0A%20%20%20*%20%40returns%20%7Bstring%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20formatComponent%20%3D%20(c)%20%3D%3E%20Math.round(c).toString(16).padStart(2%2C%20%220%22)%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7B%5Bnumber%2C%20number%2C%20number%5D%7D%20color%0D%0A%20%20%20*%20%40returns%20%7Bstring%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20formatColor%20%3D%20(color)%20%3D%3E%0D%0A%20%20%20%20%60%23%24%7BformatComponent(color%5B0%5D)%7D%24%7BformatComponent(color%5B1%5D)%7D%24%7BformatComponent(%0D%0A%20%20%20%20%20%20color%5B2%5D%0D%0A%20%20%20%20)%7D%60%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7Bnumber%7D%20h%20hue%20from%200-1%0D%0A%20%20%20*%20%40param%20%7Bnumber%7D%20s%20saturation%20from%200-1%0D%0A%20%20%20*%20%40param%20%7Bnumber%7D%20v%20value%20from%200-1%0D%0A%20%20%20*%20%40returns%20%7B%5Bnumber%2C%20number%2C%20number%5D%7D%20RGB%20channels%20from%200-255%0D%0A%20%20%20*%2F%0D%0A%20%20const%20hsvToRGB%20%3D%20(h%2C%20s%2C%20v)%20%3D%3E%20%7B%0D%0A%20%20%20%20%2F%2F%20https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FHSL_and_HSV%0D%0A%20%20%20%20var%20r%2C%20g%2C%20b%3B%0D%0A%20%20%20%20var%20i%20%3D%20Math.floor(h%20*%206)%3B%0D%0A%20%20%20%20var%20f%20%3D%20h%20*%206%20-%20i%3B%0D%0A%20%20%20%20var%20p%20%3D%20v%20*%20(1%20-%20s)%3B%0D%0A%20%20%20%20var%20q%20%3D%20v%20*%20(1%20-%20f%20*%20s)%3B%0D%0A%20%20%20%20var%20t%20%3D%20v%20*%20(1%20-%20(1%20-%20f)%20*%20s)%3B%0D%0A%20%20%20%20switch%20(i%20%25%206)%20%7B%0D%0A%20%20%20%20%20%20case%200%3A%0D%0A%20%20%20%20%20%20%20%20(r%20%3D%20v)%2C%20(g%20%3D%20t)%2C%20(b%20%3D%20p)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20(r%20%3D%20q)%2C%20(g%20%3D%20v)%2C%20(b%20%3D%20p)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20(r%20%3D%20p)%2C%20(g%20%3D%20v)%2C%20(b%20%3D%20t)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20case%203%3A%0D%0A%20%20%20%20%20%20%20%20(r%20%3D%20p)%2C%20(g%20%3D%20q)%2C%20(b%20%3D%20v)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20case%204%3A%0D%0A%20%20%20%20%20%20%20%20(r%20%3D%20t)%2C%20(g%20%3D%20p)%2C%20(b%20%3D%20v)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20case%205%3A%0D%0A%20%20%20%20%20%20%20%20(r%20%3D%20v)%2C%20(g%20%3D%20p)%2C%20(b%20%3D%20q)%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20%5B(r%20*%20255)%20%7C%200%2C%20(g%20*%20255)%20%7C%200%2C%20(b%20*%20255)%20%7C%200%5D%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7BCanvasGradient%7D%20gradient%0D%0A%20%20%20*%20%40param%20%7Bnumber%7D%20offset%20number%20of%20cycles%20to%20offset%20by%0D%0A%20%20%20*%2F%0D%0A%20%20const%20addRainbowStops%20%3D%20(gradient%2C%20offset)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20NUMBER_STOPS%20%3D%2020%3B%0D%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20NUMBER_STOPS%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20const%20exactPosition%20%3D%20i%20%2F%20NUMBER_STOPS%3B%0D%0A%20%20%20%20%20%20let%20offsetPosition%20%3D%20(exactPosition%20-%20offset)%20%25%201%3B%0D%0A%20%20%20%20%20%20if%20(offsetPosition%20%3C%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20offsetPosition%20%2B%3D%201%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20rgb%20%3D%20hsvToRGB(offsetPosition%2C%201%2C%201)%3B%0D%0A%20%20%20%20%20%20gradient.addColorStop(exactPosition%2C%20formatColor(rgb))%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20class%20TextCostumeSkin%20extends%20Skin%20%7B%0D%0A%20%20%20%20constructor(id%2C%20drawable)%20%7B%0D%0A%20%20%20%20%20%20super(id%2C%20renderer)%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7BRenderWebGL.Drawable%7D%20*%2F%0D%0A%20%20%20%20%20%20this.drawable%20%3D%20drawable%3B%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7Bnumber%7D%20*%2F%0D%0A%20%20%20%20%20%20this._previousDrawableXScale%20%3D%20100%3B%0D%0A%0D%0A%20%20%20%20%20%20this.canvas%20%3D%20document.createElement(%22canvas%22)%3B%0D%0A%20%20%20%20%20%20this.canvas.width%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.canvas.height%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.ctx%20%3D%20this.canvas.getContext(%222d%22)%3B%0D%0A%0D%0A%20%20%20%20%20%20this.text%20%3D%20%22%22%3B%0D%0A%20%20%20%20%20%20this.color%20%3D%20DEFAULT_COLOR%3B%0D%0A%20%20%20%20%20%20this.textWidth%20%3D%20vm.runtime.stageWidth%3B%0D%0A%20%20%20%20%20%20this.fontFamily%20%3D%20DEFAULT_FONT%3B%0D%0A%20%20%20%20%20%20this.baseFontSize%20%3D%20DEFAULT_FONT_SIZE%3B%0D%0A%20%20%20%20%20%20this.align%20%3D%20DEFAULT_ALIGN%3B%0D%0A%20%20%20%20%20%20this.outlineWidth%20%3D%20DEFAULT_OUTLINE_WIDTH%3B%0D%0A%20%20%20%20%20%20this.outlineColor%20%3D%20DEFAULT_OUTLINE_COLOR%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7BArray%3C%7Btext%3A%20string%3B%20width%3A%20number%3B%7D%3E%7D%20*%2F%0D%0A%20%20%20%20%20%20this.lines%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7B%5Bnumber%2C%20number%5D%7D%20*%2F%0D%0A%20%20%20%20%20%20this._size%20%3D%20%5B0%2C%200%5D%3B%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7B%5Bnumber%2C%20number%5D%7D%20*%2F%0D%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5B0%2C%200%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Updated%20in%20_updateFontDimensions%0D%0A%20%20%20%20%20%20this.calculatedFontSize%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.lineHeight%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.verticalPadding%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.wrapWidth%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20this._textDirty%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this._textureDirty%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this._renderedAtScale%20%3D%201%3B%0D%0A%20%20%20%20%20%20this._renderTime%20%3D%200%3B%0D%0A%20%20%20%20%20%20this._reflowTime%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20%20%20this.isTyping%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.typeAnimationInterval%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.typeDelay%20%3D%20DEFAULT_TYPE_DELAY%3B%0D%0A%0D%0A%20%20%20%20%20%20this.isRainbow%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.rainbowStartTime%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.rainbowTimeout%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.rainbowDuration%20%3D%20DEFAULT_RAINBOW_DURATION%3B%0D%0A%0D%0A%20%20%20%20%20%20this.isZooming%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.zoomStartTime%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.zoomTimeout%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.zoomDuration%20%3D%20DEFAULT_ZOOM_DURATION%3B%0D%0A%0D%0A%20%20%20%20%20%20this.isShaking%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.shakeStartTime%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.shakeTimeout%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.shakeDuration%20%3D%20DEFAULT_SHAKE_DURATION%3B%0D%0A%20%20%20%20%20%20this.shakeIntensity%20%3D%20DEFAULT_SHAKE_INTENSITY%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7B(()%20%3D%3E%20void)%7Cnull%7D%20*%2F%0D%0A%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0D%0A%20%20%20%20dispose()%20%7B%0D%0A%20%20%20%20%20%20if%20(this._texture)%20%7B%0D%0A%20%20%20%20%20%20%20%20gl.deleteTexture(this._texture)%3B%0D%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.canvas%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.ctx%20%3D%20null%3B%0D%0A%20%20%20%20%20%20super.dispose()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0D%0A%20%20%20%20get%20size()%20%7B%0D%0A%20%20%20%20%20%20if%20(this._needsReflow())%20%7B%0D%0A%20%20%20%20%20%20%20%20this._reflowText()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20this._size%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0D%0A%20%20%20%20useNearest()%20%7B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_needsReflow()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20this._textDirty%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20(this.isZooming%20%26%26%20this._reflowTime%20!%3D%3D%20globalFrameTime)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20(this.isShaking%20%26%26%20this._reflowTime%20!%3D%3D%20globalFrameTime)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20this._previousDrawableXScale%20!%3D%3D%20Math.abs(this.drawable.scale%5B0%5D)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_updateFontDimensions()%20%7B%0D%0A%20%20%20%20%20%20this.calculatedFontSize%20%3D%20this.baseFontSize%3B%0D%0A%20%20%20%20%20%20if%20(this.isZooming)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20it%20looks%20like%20Scratch's%20animation%20always%20starts%20at%20least%20a%20little%20visible%0D%0A%20%20%20%20%20%20%20%20const%20time%20%3D%20globalFrameTime%20-%20this.zoomStartTime%3B%0D%0A%20%20%20%20%20%20%20%20const%20progress%20%3D%20Math.max(0%2C%20Math.min(1%2C%20time%20%2F%20this.zoomDuration))%3B%0D%0A%20%20%20%20%20%20%20%20this.calculatedFontSize%20*%3D%20progress%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.lineHeight%20%3D%20(this.baseFontSize%20*%208)%20%2F%207%3B%0D%0A%20%20%20%20%20%20%2F%2F%20Always%20use%20the%20base%20size%20for%20padding.%20This%20makes%20the%20zoom%20animation%20look%20better.%0D%0A%20%20%20%20%20%20this.verticalPadding%20%3D%20this.baseFontSize%20%2F%207%3B%0D%0A%20%20%20%20%20%20%2F%2F%20Only%20use%20horizontal%20scale%20for%20wrap%20width%20for%20compatibility%20with%20stretch%20extension.%0D%0A%20%20%20%20%20%20this.wrapWidth%20%3D%0D%0A%20%20%20%20%20%20%20%20this.textWidth%20%2F%20(Math.abs(this.drawable.scale%5B0%5D)%20%2F%20100)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_getFontStyle()%20%7B%0D%0A%20%20%20%20%20%20return%20%60%24%7Bthis.calculatedFontSize%7Dpx%20%24%7Bthis.fontFamily%7D%2C%20sans-serif%60%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_reflowText()%20%7B%0D%0A%20%20%20%20%20%20this._textDirty%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this._textureDirty%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this._reflowTime%20%3D%20globalFrameTime%3B%0D%0A%20%20%20%20%20%20this._previousDrawableXScale%20%3D%20Math.abs(this.drawable.scale%5B0%5D)%3B%0D%0A%0D%0A%20%20%20%20%20%20this._updateFontDimensions()%3B%0D%0A%20%20%20%20%20%20this.ctx.font%20%3D%20this._getFontStyle()%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20need%20to%20make%20new%20ones%20each%20time%20to%20avoid%20caching%20incorrectly%20across%20fonts%0D%0A%20%20%20%20%20%20const%20measurementProvider%20%3D%20new%20CanvasMeasurementProvider(this.ctx)%3B%0D%0A%20%20%20%20%20%20%2F**%20%40type%20%7BRenderWebGL.TextWrapper%7D%20*%2F%0D%0A%20%20%20%20%20%20const%20textWrapper%20%3D%20renderer.createTextWrapper(measurementProvider)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20lines%20%3D%20textWrapper.wrapText(this.wrapWidth%2C%20this.text)%3B%0D%0A%20%20%20%20%20%20this.lines%20%3D%20lines.map((line)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20trimmed%20%3D%20line.trimEnd()%3B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20text%3A%20trimmed%2C%0D%0A%20%20%20%20%20%20%20%20%20%20width%3A%20measurementProvider.measureText(trimmed)%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20this._size%5B0%5D%20%3D%20this.wrapWidth%20%2B%202%20*%20this.outlineWidth%3B%0D%0A%20%20%20%20%20%20this._size%5B1%5D%20%3D%0D%0A%20%20%20%20%20%20%20%20this.lines.length%20*%20this.lineHeight%20%2B%0D%0A%20%20%20%20%20%20%20%202%20*%20this.verticalPadding%20%2B%0D%0A%20%20%20%20%20%20%20%202%20*%20this.outlineWidth%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Centered%20horizontally%0D%0A%20%20%20%20%20%20this._rotationCenter%5B0%5D%20%3D%20this._size%5B0%5D%20%2F%202%3B%0D%0A%20%20%20%20%20%20%2F%2F%20Vertical%20center%20is%20roughly%20below%20the%20first%20line%20of%20text%0D%0A%20%20%20%20%20%20this._rotationCenter%5B1%5D%20%3D%0D%0A%20%20%20%20%20%20%20%20this.calculatedFontSize%20*%200.9%20%2B%0D%0A%20%20%20%20%20%20%20%20this.verticalPadding%20%2B%0D%0A%20%20%20%20%20%20%20%20this.outlineWidth%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(this.isShaking)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20padding%20%3D%20Math.max(0%2C%20this.shakeIntensity%20%2F%2020)%3B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20offsets%20should%20be%20in%20range%20%5B-padding%2C%20%2Bpadding%5D%0D%0A%20%20%20%20%20%20%20%20this._rotationCenter%5B0%5D%20%2B%3D%202%20*%20Math.random()%20*%20padding%20-%20padding%3B%0D%0A%20%20%20%20%20%20%20%20this._rotationCenter%5B1%5D%20%2B%3D%202%20*%20Math.random()%20*%20padding%20-%20padding%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_renderAtScale(requestedScale)%20%7B%0D%0A%20%20%20%20%20%20this._renderedAtScale%20%3D%20requestedScale%3B%0D%0A%20%20%20%20%20%20this._textureDirty%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this._renderTime%20%3D%20globalFrameTime%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20scratchWidth%20%3D%20this._size%5B0%5D%3B%0D%0A%20%20%20%20%20%20const%20scratchHeight%20%3D%20this._size%5B1%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Renderer's%20requested%20scale%20is%20accounted%20for%20at%20this%20point.%20Do%20not%20touch%20%60requestedScale%60%0D%0A%20%20%20%20%20%20%2F%2F%20ever%20after%20this%20point.%0D%0A%20%20%20%20%20%20this.canvas.width%20%3D%20Math.ceil(scratchWidth%20*%20requestedScale)%3B%0D%0A%20%20%20%20%20%20this.canvas.height%20%3D%20Math.ceil(scratchHeight%20*%20requestedScale)%3B%0D%0A%20%20%20%20%20%20this.ctx.scale(requestedScale%2C%20requestedScale)%3B%0D%0A%0D%0A%20%20%20%20%20%20this.ctx.translate(this.outlineWidth%2C%20this.outlineWidth)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20rainbowOffset%20%3D%20this.isRainbow%0D%0A%20%20%20%20%20%20%20%20%3F%20(globalFrameTime%20-%20this.rainbowStartTime)%20%2F%20RAINBOW_TIME_PER%0D%0A%20%20%20%20%20%20%20%20%3A%200%3B%0D%0A%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20this.color%3B%0D%0A%20%20%20%20%20%20this.ctx.font%20%3D%20this._getFontStyle()%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20this.lines.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20line%20%3D%20this.lines%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20const%20text%20%3D%20line.text%3B%0D%0A%20%20%20%20%20%20%20%20const%20lineWidth%20%3D%20line.width%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20let%20xOffset%3B%0D%0A%20%20%20%20%20%20%20%20const%20yOffset%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.verticalPadding%20%2B%20i%20*%20this.lineHeight%20%2B%20this.baseFontSize%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.align%20%3D%3D%3D%20ALIGN_LEFT)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20xOffset%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.align%20%3D%3D%3D%20ALIGN_CENTER)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20xOffset%20%3D%20(this.wrapWidth%20-%20lineWidth)%20%2F%202%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20xOffset%20%3D%20this.wrapWidth%20-%20lineWidth%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(this.isRainbow)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20gradient%20%3D%20this.ctx.createLinearGradient(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xOffset%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xOffset%20%2B%20lineWidth%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20addRainbowStops(gradient%2C%20rainbowOffset)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gradient%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(this.outlineWidth%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20this.outlineWidth%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20this.outlineColor%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.ctx.lineCap%20%3D%20%22round%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.ctx.lineJoin%20%3D%20%22round%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.ctx.strokeText(text%2C%20xOffset%2C%20yOffset)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20we're%20still%20a%20few%20pixels%20off%20of%20Scratch%20Lab%0D%0A%20%20%20%20%20%20%20%20this.ctx.fillText(text%2C%20xOffset%2C%20yOffset)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20(!this._texture)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20-%20twgl%20not%20typed%20yet%0D%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20twgl.createTexture(gl%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20auto%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20wrap%3A%20gl.CLAMP_TO_EDGE%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this._setTexture(this.canvas)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_invalidateTexture()%20%7B%0D%0A%20%20%20%20%20%20this._textureDirty%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this._renderTime%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_invalidateText()%20%7B%0D%0A%20%20%20%20%20%20this._textDirty%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this._textureDirty%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this._reflowTime%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setText(text)%20%7B%0D%0A%20%20%20%20%20%20if%20(text%20!%3D%3D%20this.text)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.text%20%3D%20text%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setColor(color)%20%7B%0D%0A%20%20%20%20%20%20if%20(color%20!%3D%3D%20this.color)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.color%20%3D%20color%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setOutlineColor(color)%20%7B%0D%0A%20%20%20%20%20%20if%20(color%20!%3D%3D%20this.color)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.outlineColor%20%3D%20color%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setOutlineWidth(width)%20%7B%0D%0A%20%20%20%20%20%20this.outlineWidth%20%3D%20width%3B%0D%0A%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setAlign(align)%20%7B%0D%0A%20%20%20%20%20%20if%20(align%20!%3D%3D%20this.align)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.align%20%3D%20align%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setWidth(width)%20%7B%0D%0A%20%20%20%20%20%20if%20(width%20!%3D%3D%20this.textWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.textWidth%20%3D%20width%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFontFamily(font)%20%7B%0D%0A%20%20%20%20%20%20if%20(font%20!%3D%3D%20this.fontFamily)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.fontFamily%20%3D%20font%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getFontFamily()%20%7B%0D%0A%20%20%20%20%20%20return%20this.fontFamily%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getColor()%20%7B%0D%0A%20%20%20%20%20%20return%20this.color%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getWidth()%20%7B%0D%0A%20%20%20%20%20%20return%20this.textWidth%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getOutlineColor()%20%7B%0D%0A%20%20%20%20%20%20return%20this.outlineColor%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getOutlineWidth()%20%7B%0D%0A%20%20%20%20%20%20return%20this.outlineWidth%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getAlign()%20%7B%0D%0A%20%20%20%20%20%20return%20this.align%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_oneAnimationAtATime(newCallback)%20%7B%0D%0A%20%20%20%20%20%20this.cancelAnimation()%3B%0D%0A%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20newCallback(this.resolveOngoingAnimation)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startTypeAnimation()%20%7B%0D%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this.isTyping%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20const%20originalText%20%3D%20this.text%3B%0D%0A%20%20%20%20%20%20%20%20let%20i%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20const%20update%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.setText(originalText.substring(0%2C%20i))%3B%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20update()%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.typeAnimationInterval%20%3D%20setInterval(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20i%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20update()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(i%20%3E%3D%20originalText.length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(this.typeAnimationInterval)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.isTyping%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20this.typeDelay)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setTypeDelay(delay)%20%7B%0D%0A%20%20%20%20%20%20this.typeDelay%20%3D%20delay%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startRainbowAnimation()%20%7B%0D%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this.isRainbow%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20this.rainbowStartTime%20%3D%20Date.now()%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0D%0A%20%20%20%20%20%20%20%20this.rainbowTimeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.isRainbow%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20this.rainbowDuration)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setRainbowDuration(duration)%20%7B%0D%0A%20%20%20%20%20%20this.rainbowDuration%20%3D%20duration%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startZoomAnimation()%20%7B%0D%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this.isZooming%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20this.zoomStartTime%20%3D%20Date.now()%3B%0D%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%20%20this.zoomTimeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.isZooming%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20this.zoomDuration)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setZoomDuration(duration)%20%7B%0D%0A%20%20%20%20%20%20this.zoomDuration%20%3D%20duration%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startShakeAnimation()%20%7B%0D%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this.isShaking%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20this.shakeStartTime%20%3D%20Date.now()%3B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20_invalidateText()%20is%20not%20smart%20enough%20to%20realize%20that%20we%20don't%20need%20to%20actually%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20do%20a%20full%20reflow%2C%20just%20update%20rotation%20center...%0D%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%20%20this.shakeTimeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.isShaking%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20this.shakeDuration)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setShakeDuration(duration)%20%7B%0D%0A%20%20%20%20%20%20this.shakeDuration%20%3D%20duration%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setShakeIntensity(intensity)%20%7B%0D%0A%20%20%20%20%20%20this.shakeIntensity%20%3D%20intensity%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20cancelAnimation()%20%7B%0D%0A%20%20%20%20%20%20if%20(this.resolveOngoingAnimation)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.resolveOngoingAnimation()%3B%0D%0A%20%20%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.isTyping%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20clearInterval(this.typeAnimationInterval)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.isRainbow%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20clearTimeout(this.rainbowTimeout)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.isZooming%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20clearTimeout(this.zoomTimeout)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.isShaking%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20clearTimeout(this.shakeTimeout)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20sometimes%20we%20only%20need%20to%20invalidate%20the%20texture%20at%20this%20point%0D%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0D%0A%20%20%20%20updateSilhouette(scale)%20%7B%0D%0A%20%20%20%20%20%20this.getTexture(scale)%3B%0D%0A%20%20%20%20%20%20this._silhouette.unlazy()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0D%0A%20%20%20%20getTexture(scale)%20%7B%0D%0A%20%20%20%20%20%20const%20MAX_SCALE%20%3D%2010%3B%0D%0A%20%20%20%20%20%20const%20upperScale%20%3D%20scale%0D%0A%20%20%20%20%20%20%20%20%3F%20Math.max(Math.abs(scale%5B0%5D)%2C%20Math.abs(scale%5B1%5D))%0D%0A%20%20%20%20%20%20%20%20%3A%20100%3B%0D%0A%20%20%20%20%20%20const%20calculatedScale%20%3D%20Math.min(MAX_SCALE%2C%20upperScale%20%2F%20100)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(this._needsReflow())%20%7B%0D%0A%20%20%20%20%20%20%20%20this._reflowText()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20this._textureDirty%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20(this.isRainbow%20%26%26%20this._renderTime%20!%3D%3D%20globalFrameTime)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20calculatedScale%20!%3D%3D%20this._renderedAtScale%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._renderAtScale(calculatedScale)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20this._texture%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20Note%20that%20the%20returned%20skin%20is%20only%20usable%20by%20the%20given%20target.%20Things%20will%20break%20if%20another%0D%0A%20%20%20*%20target%20tries%20to%20use%20it.%0D%0A%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0D%0A%20%20%20*%20%40returns%20%7BTextCostumeSkin%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20createTextCostumeSkin%20%3D%20(target)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20drawable%20%3D%20renderer._allDrawables%5Btarget.drawableID%5D%3B%0D%0A%20%20%20%20const%20id%20%3D%20renderer._nextSkinId%2B%2B%3B%0D%0A%20%20%20%20const%20skin%20%3D%20new%20TextCostumeSkin(id%2C%20drawable)%3B%0D%0A%20%20%20%20renderer._allSkins%5Bid%5D%20%3D%20skin%3B%0D%0A%20%20%20%20return%20skin%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20vm.runtime.on(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20globalFrameTime%20%3D%20Date.now()%3B%0D%0A%0D%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20renderer._allSkins.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allSkins%5Bi%5D%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20skin%20instanceof%20TextCostumeSkin%20%26%26%0D%0A%20%20%20%20%20%20%20%20(skin.isRainbow%20%7C%7C%20skin.isZooming%20%7C%7C%20skin.isShaking)%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20skin.emitWasAltered()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20class%20AnimatedText%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20vm.runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this._hideAllText()%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20vm.runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20this._hideAllText()%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20targetWasCreated%20does%20not%20work%20because%20it%20runs%20before%20the%20Drawable%20is%20set%20up%0D%0A%20%20%20%20%20%20const%20extension%20%3D%20this%3B%0D%0A%20%20%20%20%20%20const%20originalMakeClone%20%3D%20RenderedTarget.prototype.makeClone%3B%0D%0A%20%20%20%20%20%20RenderedTarget.prototype.makeClone%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20newClone%20%3D%20originalMakeClone.call(this)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(extension._hasState(this))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20creates%20much%20unneeded%20state%0D%0A%20%20%20%20%20%20%20%20%20%20const%20originalSkin%20%3D%20extension._getState(this).skin%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20newSkin%20%3D%20extension._getState(newClone).skin%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setAlign(originalSkin.align)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setColor(originalSkin.color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setFontFamily(originalSkin.fontFamily)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setWidth(originalSkin.textWidth)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setText(originalSkin.text)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setRainbowDuration(originalSkin.rainbowDuration)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setZoomDuration(originalSkin.zoomDuration)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newSkin.setTypeDelay(originalSkin.typeDelay)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer._allDrawables%5Bthis.drawableID%5D.skin%20instanceof%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20TextCostumeSkin%0D%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.updateDrawableSkinId(newClone.drawableID%2C%20newSkin.id)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20newClone%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20vm.runtime.on(%22targetWasRemoved%22%2C%20(target)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(this._hasState(target))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20state%20%3D%20this._getState(target)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20renderer.destroySkin(state.skin.id)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22text%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Animated%20Text%22)%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%239966FF%22%2C%0D%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20blockIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setText%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20text%20%5BTEXT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22Welcome%20to%20my%20project!%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22animateText%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BANIMATE%5D%20text%20%5BTEXT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22animate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22Here%20we%20go!%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22animateTextInput%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22animateText%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BANIMATE%5D%20text%20%5BTEXT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAnimate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22Here%20we%20go!%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clearText%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20sprite%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFont%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20font%20to%20%5BFONT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FONT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22font%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFontInput%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setFont%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20font%20to%20%5BFONT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FONT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twFont%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setColor%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20text%20color%20to%20%5BCOLOR%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setWidth%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22200%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ALIGN%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22align%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setWidthInput%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setWidth%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22200%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ALIGN%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAlign%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F**%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20Contributors%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%20-%20LilyMakesThings%0D%0A%20%20%20%20%20%20%20%20%20%20%20*%2F%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22disableCompatibilityMode%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Enable%20Non-Scratch%20Lab%20Features%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20!compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Incompatible%20with%20Scratch%20Lab%3A%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setOutlineWidth%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20outline%20width%20to%20%5BWIDTH%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%223%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setOutlineColor%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20outline%20color%20to%20%5BCOLOR%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22addLine%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22add%20line%20%5BTEXT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%22Hello!%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getLines%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%23%20of%20lines%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setAlignment%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22align%20text%20to%20%5BALIGN%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ALIGN%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAlign%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20why%20is%20the%20other%20block%20called%20%22setWidth%22%20%3A(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setWidthValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20width%20to%20%5BWIDTH%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetWidth%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20text%20width%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22startAnimate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22start%20%5BANIMATE%5D%20animation%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAnimate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22animateUntilDone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22animate%20%5BANIMATE%5D%20until%20done%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAnimate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isAnimating%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20animating%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setAnimateDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BANIMATE%5D%20duration%20to%20%5BNUM%5D%20seconds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAnimateDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetAnimateDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20%5BANIMATE%5D%20duration%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAnimateDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getAnimateDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BANIMATE%5D%20duration%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22twAnimateDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setShakeIntensity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20shake%20intensity%20to%20%5BNUM%5D%25%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTypeDelay%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20typing%20delay%20to%20%5BNUM%5D%20seconds%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20NUM%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200.1%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetTypeDelay%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20typing%20delay%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getTypeDelay%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22typing%20delay%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22textActive%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20showing%20text%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getDisplayedText%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22displayed%20text%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getTextAttribute%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22text%20%5BATTRIBUTE%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATTRIBUTE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22attribute%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20compatibilityMode%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20These%20all%20need%20acceptReporters%3A%20false%20for%20parity%20with%20the%20Scratch%20Labs%20version.%0D%0A%20%20%20%20%20%20%20%20%20%20animate%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22type%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22type%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22rainbow%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22zoom%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22zoom%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20font%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getFonts%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20align%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22left%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22left%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22center%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22center%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22right%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22right%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20attribute%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22font%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22color%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22width%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22outline%20color%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22outline%20width%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22alignment%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20TurboWarp%20menus%20(acceptReporters%3A%20true)%0D%0A%20%20%20%20%20%20%20%20%20%20twAnimate%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22type%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22type%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22rainbow%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22zoom%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22zoom%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22shake%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20twAnimateDuration%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22rainbow%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22rainbow%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22zoom%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22zoom%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22shake%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20twAlign%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22left%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22left%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22center%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22center%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22right%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22right%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20twFont%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getFonts%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getFonts()%20%7B%0D%0A%20%20%20%20%20%20const%20customFonts%20%3D%20this._getFontsMap()%3B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20...FONTS%2C%0D%0A%20%20%20%20%20%20%20%20...customFonts%2C%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22random%20font%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20value%3A%20%22Random%22%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_getFontsMap()%20%7B%0D%0A%20%20%20%20%20%20return%20Scratch.vm.runtime.fontManager%0D%0A%20%20%20%20%20%20%20%20%3F%20Scratch.vm.runtime.fontManager.getFonts().map((i)%20%3D%3E%20(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20i.name%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20i.family%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D))%0D%0A%20%20%20%20%20%20%20%20%3A%20%5B%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0D%0A%20%20%20%20%20*%20%40returns%20%7BTextState%7D%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20_getState(target)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20target%5BCUSTOM_STATE_KEY%5D%3B%0D%0A%20%20%20%20%20%20if%20(!state)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F**%20%40type%20%7BTextState%7D%20*%2F%0D%0A%20%20%20%20%20%20%20%20const%20newState%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20skin%3A%20createTextCostumeSkin(target)%2C%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20target%5BCUSTOM_STATE_KEY%5D%20%3D%20newState%3B%0D%0A%20%20%20%20%20%20%20%20return%20newState%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20state%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0D%0A%20%20%20%20%20*%20%40returns%20%7Bboolean%7D%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20_hasState(target)%20%7B%0D%0A%20%20%20%20%20%20return%20!!target%5BCUSTOM_STATE_KEY%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_hideAllText()%20%7B%0D%0A%20%20%20%20%20%20for%20(const%20target%20of%20vm.runtime.targets)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(this._hasState(target))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this._hideText(target%2C%20this._getState(target))%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0D%0A%20%20%20%20%20*%20%40param%20%7BTextState%7D%20state%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20_renderText(target%2C%20state)%20%7B%0D%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0D%0A%20%20%20%20%20%20renderer.updateDrawableSkinId(target.drawableID%2C%20state.skin.id)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0D%0A%20%20%20%20%20*%20%40param%20%7BTextState%7D%20state%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20_hideText(target%2C%20state)%20%7B%0D%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0D%0A%20%20%20%20%20%20target.setCostume(target.currentCostume)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setText(%7B%20TEXT%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20this._renderText(util.target%2C%20state)%3B%0D%0A%20%20%20%20%20%20state.skin.setText(Scratch.Cast.toString(TEXT))%3B%0D%0A%20%20%20%20%20%20%2F%2F%20Scratch%20forces%201%20frame%20delay%20by%20returning%20promise.%20I%20think%20that's%20silly.%0D%0A%20%20%20%20%20%20util.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20animateText(%7B%20ANIMATE%2C%20TEXT%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20this._renderText(util.target%2C%20state)%3B%0D%0A%0D%0A%20%20%20%20%20%20state.skin.setText(Scratch.Cast.toString(TEXT))%3B%0D%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(ANIMATE%20%3D%3D%3D%20%22type%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startTypeAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(ANIMATE%20%3D%3D%3D%20%22rainbow%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startRainbowAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(ANIMATE%20%3D%3D%3D%20%22zoom%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startZoomAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(ANIMATE%20%3D%3D%3D%20%22shake%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startShakeAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Scratch%20does%20nothing%20here%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20clearText(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20if%20(this._hasState(util.target))%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20%20%20this._hideText(util.target%2C%20state)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20Scratch%20forces%201%20frame%20delay%20by%20returning%20promise.%20I%20think%20that's%20silly.%0D%0A%20%20%20%20%20%20util.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFont(%7B%20FONT%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20font%20%3D%20Scratch.Cast.toString(FONT)%3B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(font%20%3D%3D%3D%20%22Random%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Random%20font%20always%20switches%20to%20a%20new%20font%2C%20never%20the%20same%20one%0D%0A%20%20%20%20%20%20%20%20const%20possibleFonts%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20...FONTS%2C%0D%0A%20%20%20%20%20%20%20%20%20%20...this._getFontsMap().map((i)%20%3D%3E%20i.value)%2C%0D%0A%20%20%20%20%20%20%20%20%5D.filter((i)%20%3D%3E%20i%20!%3D%3D%20state.skin.fontFamily)%3B%0D%0A%20%20%20%20%20%20%20%20state.skin.setFontFamily(%0D%0A%20%20%20%20%20%20%20%20%20%20possibleFonts%5BMath.floor(Math.random()%20*%20possibleFonts.length)%5D%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setFontFamily(font)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setColor(%7B%20COLOR%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.setColor(Scratch.Cast.toString(COLOR))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setWidth(%7B%20WIDTH%2C%20ALIGN%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(ALIGN%20%3D%3D%3D%20%22center%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_CENTER)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(ALIGN%20%3D%3D%3D%20%22right%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_RIGHT)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Scratch%20treats%20unknown%20values%20as%20left%20alignment.%0D%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_LEFT)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20state.skin.setWidth(Scratch.Cast.toNumber(WIDTH))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F*%0D%0A%20%20%20%20%20*%20Extra%20blocks%2C%20not%20compatible%20with%20Scratch%3A%0D%0A%20%20%20%20%20*%2F%0D%0A%0D%0A%20%20%20%20disableCompatibilityMode()%20%7B%0D%0A%20%20%20%20%20%20const%20popup%20%3D%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22disableCompatibilityMode%22%2C%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%22This%20will%20enable%20new%20blocks%20and%20features%20that%20WILL%20NOT%20WORK%20in%20the%20official%20Scratch%20Lab.%5Cn%5CnDo%20you%20wish%20to%20continue%3F%22%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20if%20(confirm(popup))%20%7B%0D%0A%20%20%20%20%20%20%20%20compatibilityMode%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.extensionManager.refreshBlocks()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setOutlineWidth(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20width%20%3D%20Scratch.Cast.toNumber(args.WIDTH)%3B%0D%0A%0D%0A%20%20%20%20%20%20state.skin.setOutlineWidth(width)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setOutlineColor(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20color%20%3D%20Scratch.Cast.toString(args.COLOR)%3B%0D%0A%0D%0A%20%20%20%20%20%20state.skin.setOutlineColor(color)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20addLine(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20this._renderText(util.target%2C%20state)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20originalText%20%3D%20state.skin.text%3B%0D%0A%20%20%20%20%20%20const%20addingText%20%3D%20Scratch.Cast.toString(args.TEXT)%3B%0D%0A%20%20%20%20%20%20state.skin.setText(%0D%0A%20%20%20%20%20%20%20%20originalText%20%3F%20%60%24%7BoriginalText%7D%5Cn%24%7BaddingText%7D%60%20%3A%20addingText%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20util.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getLines(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20drawableID%20%3D%20util.target.drawableID%3B%0D%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allDrawables%5BdrawableID%5D.skin%3B%0D%0A%20%20%20%20%20%20if%20(!(skin%20instanceof%20TextCostumeSkin))%20return%200%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20text%20%3D%20state.skin.text%3B%0D%0A%20%20%20%20%20%20return%20text.split(%22%5Cn%22).length%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setAlignment(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20see%20setWidth%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20if%20(args.ALIGN%20%3D%3D%3D%20%22center%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_CENTER)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ALIGN%20%3D%3D%3D%20%22right%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_RIGHT)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_LEFT)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setWidthValue(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.setWidth(Scratch.Cast.toNumber(args.WIDTH))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20resetWidth(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.setWidth(vm.runtime.stageWidth)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20startAnimate(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20drawableID%20%3D%20util.target.drawableID%3B%0D%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allDrawables%5BdrawableID%5D.skin%3B%0D%0A%20%20%20%20%20%20if%20(!(skin%20instanceof%20TextCostumeSkin))%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Don't%20return%20the%20promise%0D%0A%20%20%20%20%20%20if%20(args.ANIMATE%20%3D%3D%20%22type%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.startTypeAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ANIMATE%20%3D%3D%20%22rainbow%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.startRainbowAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ANIMATE%20%3D%3D%20%22zoom%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.startZoomAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ANIMATE%20%3D%3D%20%22shake%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.startShakeAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Scratch%20does%20nothing%20here%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20animateUntilDone(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20drawableID%20%3D%20util.target.drawableID%3B%0D%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allDrawables%5BdrawableID%5D.skin%3B%0D%0A%20%20%20%20%20%20if%20(!(skin%20instanceof%20TextCostumeSkin))%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(args.ANIMATE%20%3D%3D%20%22type%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startTypeAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ANIMATE%20%3D%3D%20%22rainbow%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startRainbowAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ANIMATE%20%3D%3D%20%22zoom%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startZoomAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(args.ANIMATE%20%3D%3D%20%22shake%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.startShakeAnimation()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Scratch%20does%20nothing%20here%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20isAnimating(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20skin%20%3D%20this._getState(util.target).skin%3B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20skin.isTyping%20%7C%7C%20skin.isRainbow%20%7C%7C%20skin.isZooming%20%7C%7C%20skin.isShaking%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setAnimateDuration(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20animation%20%3D%20args.ANIMATE%3B%0D%0A%20%20%20%20%20%20const%20milliseconds%20%3D%20Scratch.Cast.toNumber(args.NUM)%20*%201000%3B%0D%0A%20%20%20%20%20%20if%20(animation%20%3D%3D%3D%20%22rainbow%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setRainbowDuration(milliseconds)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(animation%20%3D%3D%3D%20%22zoom%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setZoomDuration(milliseconds)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(animation%20%3D%3D%3D%20%22shake%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setShakeDuration(milliseconds)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20resetAnimateDuration(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20animation%20%3D%20args.ANIMATE%3B%0D%0A%20%20%20%20%20%20if%20(animation%20%3D%3D%3D%20%22rainbow%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setRainbowDuration(DEFAULT_RAINBOW_DURATION)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(animation%20%3D%3D%3D%20%22zoom%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setZoomDuration(DEFAULT_ZOOM_DURATION)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(animation%20%3D%3D%3D%20%22shake%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20state.skin.setShakeDuration(DEFAULT_SHAKE_DURATION)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getAnimateDuration(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20animation%20%3D%20args.ANIMATE%3B%0D%0A%20%20%20%20%20%20if%20(animation%20%3D%3D%3D%20%22rainbow%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.rainbowDuration%20%2F%201000%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(animation%20%3D%3D%3D%20%22zoom%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.zoomDuration%20%2F%201000%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(animation%20%3D%3D%3D%20%22shake%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.shakeDuration%20%2F%201000%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20should%20never%20happen%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setShakeIntensity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.setShakeIntensity(Scratch.Cast.toNumber(args.NUM))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setTypeDelay(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.setTypeDelay(Scratch.Cast.toNumber(args.NUM)%20*%201000)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20resetTypeDelay(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20state.skin.setTypeDelay(DEFAULT_TYPE_DELAY)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getTypeDelay(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20TODO%3A%20Should%20we%20round%20this%3F%0D%0A%20%20%20%20%20%20return%20state.skin.typeDelay%20%2F%201000%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20textActive(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20drawableID%20%3D%20util.target.drawableID%3B%0D%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allDrawables%5BdrawableID%5D.skin%3B%0D%0A%20%20%20%20%20%20return%20skin%20instanceof%20TextCostumeSkin%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getDisplayedText(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20return%20state.skin.text%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getTextAttribute(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0D%0A%20%20%20%20%20%20const%20attrib%20%3D%20args.ATTRIBUTE%3B%0D%0A%20%20%20%20%20%20if%20(attrib%20%3D%3D%3D%20%22font%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.getFontFamily()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20%22color%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.getColor()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20%22width%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.getWidth()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20%22outline%20color%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.getOutlineColor()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20%22outline%20width%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20state.skin.getOutlineWidth()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20%22alignment%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20switch%20(state.skin.getAlign())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20ALIGN_LEFT%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22left%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20ALIGN_RIGHT%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22right%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%20ALIGN_CENTER%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22center%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20should%20never%20happen%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20AnimatedText())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20More%20Events%0D%0A%2F%2F%20ID%3A%20lmsMoreEvents%0D%0A%2F%2F%20Description%3A%20Start%20your%20scripts%20in%20new%20ways.%0D%0A%2F%2F%20By%3A%20LilyMakesThings%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FLilyMakesThings%2F%3E%0D%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0D%0A%0D%0A(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0D%0A%0D%0A%20%20const%20stopIcon%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAQlBMVEUAAAC%2FUFC8Q0OzTU24SEi4SEi3SEi4R0e4SEi4SEi4SEi4SEi7SUm8SUnMTk7MT0%2FOT0%2FPT0%2FgVVXiVVXsWVn%2F%2F%2F%2BCoOd2AAAAC3RSTlMAEBMUu7zLz9D8%2FdIXnJwAAAABYktHRBXl2PmjAAAAxklEQVRIx%2B3WwRKDIBAD0JWqVEOtWv7%2FW3twOqKwELzW3N9wYhORMMYiztgZUZMUAKxqmh5Kno%2FMG256nzI59Z2mB%2BBWH%2BXzUt5RhWoyQjFZkTQFkTBFERlCnAwlDoYUgaHFblpaeL86AK0MvNjMIABmT2cGIAAWniw3ucm%2Fk9ovduEjXzgXtUfJmtrTt9VZzYH9FSB%2FxvfKZMsiLFmuko61zBTfucjL9RpXf6nEU2MhPxXS86J%2BkORmjz6V6seViOnG8oT7ApMcjsYZwhXCAAAAAElFTkSuQmCC%22%3B%0D%0A%0D%0A%20%20%2F%2F%20Source%3A%0D%0A%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2FTurboWarp%2Fscratch-vm%2Fblob%2Fdevelop%2Fsrc%2Fio%2Fkeyboard.js%0D%0A%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2FTurboWarp%2Fscratch-blocks%2Fblob%2Fdevelop%2Fblocks_vertical%2Fevent.js%0D%0A%20%20const%20validKeyboardInputs%20%3D%20%5B%0D%0A%20%20%20%20%2F%2F%20Special%20Inputs%0D%0A%20%20%20%20%7B%20text%3A%20%22space%22%2C%20value%3A%20%22space%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22up%20arrow%22%2C%20value%3A%20%22up%20arrow%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22down%20arrow%22%2C%20value%3A%20%22down%20arrow%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22right%20arrow%22%2C%20value%3A%20%22right%20arrow%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22left%20arrow%22%2C%20value%3A%20%22left%20arrow%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22enter%22%2C%20value%3A%20%22enter%22%20%7D%2C%0D%0A%20%20%20%20%2F%2F%20TW%3A%20Extra%20Special%20Inputs%0D%0A%20%20%20%20%7B%20text%3A%20%22backspace%22%2C%20value%3A%20%22backspace%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22delete%22%2C%20value%3A%20%22delete%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22shift%22%2C%20value%3A%20%22shift%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22caps%20lock%22%2C%20value%3A%20%22caps%20lock%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22scroll%20lock%22%2C%20value%3A%20%22scroll%20lock%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22control%22%2C%20value%3A%20%22control%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22escape%22%2C%20value%3A%20%22escape%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22insert%22%2C%20value%3A%20%22insert%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22home%22%2C%20value%3A%20%22home%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22end%22%2C%20value%3A%20%22end%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22page%20up%22%2C%20value%3A%20%22page%20up%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22page%20down%22%2C%20value%3A%20%22page%20down%22%20%7D%2C%0D%0A%20%20%20%20%2F%2F%20Letter%20Keyboard%20Inputs%0D%0A%20%20%20%20%7B%20text%3A%20%22a%22%2C%20value%3A%20%22a%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22b%22%2C%20value%3A%20%22b%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22c%22%2C%20value%3A%20%22c%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22d%22%2C%20value%3A%20%22d%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22e%22%2C%20value%3A%20%22e%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22f%22%2C%20value%3A%20%22f%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22g%22%2C%20value%3A%20%22g%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22h%22%2C%20value%3A%20%22h%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22i%22%2C%20value%3A%20%22i%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22j%22%2C%20value%3A%20%22j%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22k%22%2C%20value%3A%20%22k%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22l%22%2C%20value%3A%20%22l%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22m%22%2C%20value%3A%20%22m%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22n%22%2C%20value%3A%20%22n%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22o%22%2C%20value%3A%20%22o%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22p%22%2C%20value%3A%20%22p%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22q%22%2C%20value%3A%20%22q%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22r%22%2C%20value%3A%20%22r%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22s%22%2C%20value%3A%20%22s%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22t%22%2C%20value%3A%20%22t%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22u%22%2C%20value%3A%20%22u%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22v%22%2C%20value%3A%20%22v%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22w%22%2C%20value%3A%20%22w%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22x%22%2C%20value%3A%20%22x%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22y%22%2C%20value%3A%20%22y%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%22z%22%2C%20value%3A%20%22z%22%20%7D%2C%0D%0A%20%20%20%20%2F%2F%20Number%20Keyboard%20Inputs%0D%0A%20%20%20%20%7B%20text%3A%20%220%22%2C%20value%3A%20%220%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%221%22%2C%20value%3A%20%221%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%222%22%2C%20value%3A%20%222%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%223%22%2C%20value%3A%20%223%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%224%22%2C%20value%3A%20%224%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%225%22%2C%20value%3A%20%225%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%226%22%2C%20value%3A%20%226%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%227%22%2C%20value%3A%20%227%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%228%22%2C%20value%3A%20%228%22%20%7D%2C%0D%0A%20%20%20%20%7B%20text%3A%20%229%22%2C%20value%3A%20%229%22%20%7D%2C%0D%0A%20%20%5D%3B%0D%0A%0D%0A%20%20var%20lastValues%20%3D%20%7B%7D%3B%0D%0A%20%20var%20runTimer%20%3D%200%3B%0D%0A%0D%0A%20%20const%20MAX_BEFORE_SAVE_MS%20%3D%203000%3B%0D%0A%0D%0A%20%20const%20beforeSave%20%3D%20()%20%3D%3E%0D%0A%20%20%20%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20const%20threads%20%3D%20vm.runtime.startHats(%22lmsMoreEvents_beforeSave%22)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(threads.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20startTime%20%3D%20performance.now()%3B%0D%0A%20%20%20%20%20%20const%20checkThreadStatus%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20performance.now()%20-%20startTime%20%3E%20MAX_BEFORE_SAVE_MS%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20threads.every((thread)%20%3D%3E%20!vm.runtime.isActiveThread(thread))%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20vm.runtime.off(%22AFTER_EXECUTE%22%2C%20checkThreadStatus)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20vm.runtime.on(%22AFTER_EXECUTE%22%2C%20checkThreadStatus)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20const%20afterSave%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%2F%2F%20Wait%20until%20the%20next%20frame%20actually%20starts%20so%20that%20the%20actual%20file%0D%0A%20%20%20%20%2F%2F%20saving%20routine%20has%20a%20chance%20to%20finish%20before%20we%20starting%20running%20blocks.%0D%0A%20%20%20%20vm.runtime.once(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20vm.runtime.startHats(%22lmsMoreEvents_afterSave%22)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20originalSaveProjectSb3%20%3D%20vm.saveProjectSb3%3B%0D%0A%20%20vm.saveProjectSb3%20%3D%20async%20function%20(...args)%20%7B%0D%0A%20%20%20%20await%20beforeSave()%3B%0D%0A%20%20%20%20const%20result%20%3D%20await%20originalSaveProjectSb3.apply(this%2C%20args)%3B%0D%0A%20%20%20%20afterSave()%3B%0D%0A%20%20%20%20return%20result%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20originalSaveProjectSb3Stream%20%3D%20vm.saveProjectSb3Stream%3B%0D%0A%20%20vm.saveProjectSb3Stream%20%3D%20function%20(...args)%20%7B%0D%0A%20%20%20%20%2F%2F%20This%20is%20complicated%20because%20we%20need%20to%20return%20a%20stream%20object%20syncronously...%0D%0A%0D%0A%20%20%20%20let%20realStream%20%3D%20null%3B%0D%0A%20%20%20%20const%20queuedCalls%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20const%20whenStreamReady%20%3D%20(methodName%2C%20args)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20if%20(realStream)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20realStream%5BmethodName%5D.apply(realStream%2C%20args)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20queuedCalls.push(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20methodName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20args%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20const%20streamWrapper%20%3D%20%7B%0D%0A%20%20%20%20%20%20on%3A%20(...args)%20%3D%3E%20void%20whenStreamReady(%22on%22%2C%20args)%2C%0D%0A%20%20%20%20%20%20pause%3A%20(...args)%20%3D%3E%20void%20whenStreamReady(%22pause%22%2C%20args)%2C%0D%0A%20%20%20%20%20%20resume%3A%20(...args)%20%3D%3E%20void%20whenStreamReady(%22resume%22%2C%20args)%2C%0D%0A%20%20%20%20%20%20accumulate%3A%20(...args)%20%3D%3E%20whenStreamReady(%22accumulate%22%2C%20args)%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20beforeSave().then(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20realStream%20%3D%20originalSaveProjectSb3Stream.apply(this%2C%20args)%3B%0D%0A%0D%0A%20%20%20%20%20%20realStream.on(%22end%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Not%20sure%20how%20JSZip%20handles%20errors%20here%2C%20so%20we'll%20make%20sure%20not%20to%20break%20anything%20if%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20afterSave%20somehow%20throws%0D%0A%20%20%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20afterSave()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.error(e)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20for%20(const%20queued%20of%20queuedCalls)%20%7B%0D%0A%20%20%20%20%20%20%20%20queued.resolve(%0D%0A%20%20%20%20%20%20%20%20%20%20realStream%5Bqueued.methodName%5D.apply(realStream%2C%20queued.args)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20queuedCalls.length%20%3D%200%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20return%20streamWrapper%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20class%20MoreEvents%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20Stop%20Sign%20Clicked%20contributed%20by%20%40CST1229%0D%0A%20%20%20%20%20%20runtime.shouldExecuteStopClicked%20%3D%20true%3B%0D%0A%20%20%20%20%20%20runtime.on(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20runTimer%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20runtime.shouldExecuteStopClicked%20%3D%20false%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20runtime.startHats(%22lmsMoreEvents_forever%22)%3B%0D%0A%20%20%20%20%20%20%20%20runtime.startHats(%22lmsMoreEvents_whileTrueFalse%22)%3B%0D%0A%20%20%20%20%20%20%20%20runtime.startHats(%22lmsMoreEvents_whenValueChanged%22)%3B%0D%0A%20%20%20%20%20%20%20%20runtime.startHats(%22lmsMoreEvents_everyDuration%22)%3B%0D%0A%20%20%20%20%20%20%20%20runtime.startHats(%22lmsMoreEvents_whileKeyPressed%22)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20runTimer%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20runTimer%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20if%20(runtime.shouldExecuteStopClicked)%0D%0A%20%20%20%20%20%20%20%20%20%20queueMicrotask(()%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runtime.startHats(%22lmsMoreEvents_whenStopClicked%22)%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20runtime.on(%22AFTER_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20runtime.shouldExecuteStopClicked%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20const%20originalGreenFlag%20%3D%20vm.greenFlag%3B%0D%0A%20%20%20%20%20%20vm.greenFlag%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20runtime.shouldExecuteStopClicked%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20originalGreenFlag.call(this)%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22lmsMoreEvents%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22More%20Events%22%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23FFBF00%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23E6AC00%22%2C%0D%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23CC9900%22%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenStopClicked%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20%5BSTOP%5D%20clicked%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STOP%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20stopIcon%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22forever%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22forever%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenTrueFalse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20%5BCONDITION%5D%20becomes%20%5BSTATE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONDITION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22boolean%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whileTrueFalse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22while%20%5BCONDITION%5D%20is%20%5BSTATE%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONDITION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20STATE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22boolean%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenValueChanged%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20%5BINPUT%5D%20is%20changed%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20INPUT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Intentional%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Encourages%20people%20to%20place%20a%20block%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20(as%20opposed%20to%20typing%20a%20value)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22everyDuration%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22every%20%5BDURATION%5D%20frames%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DURATION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whenKeyAction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22when%20%5BKEY_OPTION%5D%20key%20%5BACTION%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22space%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22keyboardButtons%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ACTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22action%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22whileKeyPressed%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.HAT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22while%20%5BKEY_OPTION%5D%20key%20pressed%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22space%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22keyboardButtons%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22broadcastToTarget%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22broadcast%20%5BBROADCAST_OPTION%5D%20to%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22targetMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22broadcastToTargetAndWait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22broadcast%20%5BBROADCAST_OPTION%5D%20to%20%5BTARGET%5D%20and%20wait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22targetMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22broadcastData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22broadcast%20%5BBROADCAST_OPTION%5D%20with%20data%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22broadcastDataAndWait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22broadcast%20%5BBROADCAST_OPTION%5D%20with%20data%20%5BDATA%5D%20and%20wait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.XML%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xml%3A%20'%3Cblock%20type%3D%22lmsMoreEvents_broadcastToTarget%22%3E%3Cvalue%20name%3D%22BROADCAST_OPTION%22%3E%3Cshadow%20type%3D%22event_broadcast_menu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22TARGET%22%3E%3Cshadow%20type%3D%22lmsMoreEvents_menu_targetMenu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3C%2Fblock%3E%3Cblock%20type%3D%22lmsMoreEvents_broadcastToTargetAndWait%22%3E%3Cvalue%20name%3D%22BROADCAST_OPTION%22%3E%3Cshadow%20type%3D%22event_broadcast_menu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22TARGET%22%3E%3Cshadow%20type%3D%22lmsMoreEvents_menu_targetMenu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3C%2Fblock%3E%3Csep%20gap%3D%2236%22%2F%3E%3Cblock%20type%3D%22lmsMoreEvents_broadcastData%22%3E%3Cvalue%20name%3D%22BROADCAST_OPTION%22%3E%3Cshadow%20type%3D%22event_broadcast_menu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22DATA%22%3E%3Cshadow%20type%3D%22text%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3C%2Fblock%3E%3Cblock%20type%3D%22lmsMoreEvents_broadcastDataAndWait%22%3E%3Cvalue%20name%3D%22BROADCAST_OPTION%22%3E%3Cshadow%20type%3D%22event_broadcast_menu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22DATA%22%3E%3Cshadow%20type%3D%22text%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3C%2Fblock%3E'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22receivedData%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22received%20data%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20allowDropAnywhere%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22broadcastDataToTarget%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22broadcast%20%5BBROADCAST_OPTION%5D%20to%20%5BTARGET%5D%20with%20data%20%5BDATA%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22broadcastToTarget%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22targetMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22broadcastDataToTargetAndWait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22broadcast%20%5BBROADCAST_OPTION%5D%20to%20%5BTARGET%5D%20with%20data%20%5BDATA%5D%20and%20wait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22broadcastToTargetAndWait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22targetMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DATA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.XML%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xml%3A%20'%3Cblock%20type%3D%22lmsMoreEvents_broadcastDataToTarget%22%3E%3Cvalue%20name%3D%22BROADCAST_OPTION%22%3E%3Cshadow%20type%3D%22event_broadcast_menu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22TARGET%22%3E%3Cshadow%20type%3D%22lmsMoreEvents_menu_targetMenu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22DATA%22%3E%3Cshadow%20type%3D%22text%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3C%2Fblock%3E%3Cblock%20type%3D%22lmsMoreEvents_broadcastDataToTargetAndWait%22%3E%3Cvalue%20name%3D%22BROADCAST_OPTION%22%3E%3Cshadow%20type%3D%22event_broadcast_menu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22TARGET%22%3E%3Cshadow%20type%3D%22lmsMoreEvents_menu_targetMenu%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3Cvalue%20name%3D%22DATA%22%3E%3Cshadow%20type%3D%22text%22%3E%3C%2Fshadow%3E%3C%2Fvalue%3E%3C%2Fblock%3E'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22beforeSave%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22before%20project%20saves%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20shouldRestartExistingThreads%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.EVENT%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22afterSave%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22after%20project%20saves%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20shouldRestartExistingThreads%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isEdgeActivated%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_event%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Targets%20have%20acceptReporters%3A%20true%0D%0A%20%20%20%20%20%20%20%20%20%20targetMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22_getTargets%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20keyboardButtons%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20validKeyboardInputs%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Attributes%20have%20acceptReporters%3A%20false%0D%0A%20%20%20%20%20%20%20%20%20%20action%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22hit%22%2C%20%22released%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20boolean%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22true%22%2C%20%22false%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20state%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22enabled%22%2C%20%22disabled%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whenTrueFalse(args)%20%7B%0D%0A%20%20%20%20%20%20return%20args.STATE%20%3D%3D%3D%20%22true%22%20%3F%20args.CONDITION%20%3A%20!args.CONDITION%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whileTrueFalse(args)%20%7B%0D%0A%20%20%20%20%20%20return%20args.STATE%20%3D%3D%3D%20%22true%22%20%3F%20args.CONDITION%20%3A%20!args.CONDITION%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whenValueChanged(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20blockId%20%3D%20util.thread.peekStack()%3B%0D%0A%20%20%20%20%20%20if%20(!lastValues%5BblockId%5D)%0D%0A%20%20%20%20%20%20%20%20lastValues%5BblockId%5D%20%3D%20Scratch.Cast.toString(args.INPUT)%3B%0D%0A%20%20%20%20%20%20if%20(lastValues%5BblockId%5D%20!%3D%3D%20Scratch.Cast.toString(args.INPUT))%20%7B%0D%0A%20%20%20%20%20%20%20%20lastValues%5BblockId%5D%20%3D%20Scratch.Cast.toString(args.INPUT)%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20everyDuration(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20duration%20%3D%20Math.max(%0D%0A%20%20%20%20%20%20%20%20Math.round(Scratch.Cast.toNumber(args.DURATION))%2C%0D%0A%20%20%20%20%20%20%20%200%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20!!(runTimer%20%25%20duration%20%3D%3D%3D%200)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whenKeyAction(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20key%20%3D%20Scratch.Cast.toString(args.KEY_OPTION).toLowerCase()%3B%0D%0A%20%20%20%20%20%20const%20pressed%20%3D%20util.ioQuery(%22keyboard%22%2C%20%22getKeyIsDown%22%2C%20%5Bkey%5D)%3B%0D%0A%20%20%20%20%20%20return%20args.ACTION%20%3D%3D%3D%20%22released%22%20%3F%20!pressed%20%3A%20pressed%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20whileKeyPressed(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20key%20%3D%20Scratch.Cast.toString(args.KEY_OPTION).toLowerCase()%3B%0D%0A%20%20%20%20%20%20return%20util.ioQuery(%22keyboard%22%2C%20%22getKeyIsDown%22%2C%20%5Bkey%5D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20broadcastToTarget(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20broadcastOption%20%3D%20Scratch.Cast.toString(args.BROADCAST_OPTION)%3B%0D%0A%20%20%20%20%20%20if%20(!broadcastOption)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20data%20%3D%20Scratch.Cast.toString(args.DATA)%3B%0D%0A%20%20%20%20%20%20console.log(data)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20cloneTargets%20%3D%20this._getTargetFromMenu(args.TARGET).sprite.clones%3B%0D%0A%20%20%20%20%20%20let%20startedThreads%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20for%20(const%20clone%20of%20cloneTargets)%20%7B%0D%0A%20%20%20%20%20%20%20%20startedThreads%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20...startedThreads%2C%0D%0A%20%20%20%20%20%20%20%20%20%20...util.startHats(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22event_whenbroadcastreceived%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20broadcastOption%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clone%0D%0A%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(data)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20startedThreads.forEach((thread)%20%3D%3E%20(thread.receivedData%20%3D%20args.DATA))%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20broadcastToTargetAndWait(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20if%20(!util.stackFrame.broadcastVar)%20%7B%0D%0A%20%20%20%20%20%20%20%20util.stackFrame.broadcastVar%20%3D%20Scratch.Cast.toString(%0D%0A%20%20%20%20%20%20%20%20%20%20args.BROADCAST_OPTION%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20spriteTarget%20%3D%20this._getTargetFromMenu(args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!spriteTarget)%20return%3B%0D%0A%20%20%20%20%20%20const%20cloneTargets%20%3D%20spriteTarget.sprite.clones%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20data%20%3D%20Scratch.Cast.toString(args.DATA)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(util.stackFrame.broadcastVar)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20broadcastOption%20%3D%20util.stackFrame.broadcastVar%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!util.stackFrame.startedThreads)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20clone%20of%20cloneTargets)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20...util.stackFrame.startedThreads%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20...util.startHats(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22event_whenbroadcastreceived%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20broadcastOption%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clone%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(data)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads.forEach(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(thread)%20%3D%3E%20(thread.receivedData%20%3D%20args.DATA)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(util.stackFrame.startedThreads.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20waiting%20%3D%20util.stackFrame.startedThreads.some(%0D%0A%20%20%20%20%20%20%20%20%20%20(thread)%20%3D%3E%20runtime.threads.indexOf(thread)%20!%3D%3D%20-1%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(waiting)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads.every((thread)%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20runtime.isWaitingThread(thread)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.yieldTick()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.yield()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20broadcastData(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20broadcast%20%3D%20Scratch.Cast.toString(args.BROADCAST_OPTION)%3B%0D%0A%20%20%20%20%20%20if%20(!broadcast)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20data%20%3D%20Scratch.Cast.toString(args.DATA)%3B%0D%0A%0D%0A%20%20%20%20%20%20let%20threads%20%3D%20util.startHats(%22event_whenbroadcastreceived%22%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20broadcast%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20threads.forEach((thread)%20%3D%3E%20(thread.receivedData%20%3D%20data))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20broadcastDataAndWait(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20data%20%3D%20Scratch.Cast.toString(args.DATA)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(!util.stackFrame.broadcastVar)%20%7B%0D%0A%20%20%20%20%20%20%20%20util.stackFrame.broadcastVar%20%3D%20Scratch.Cast.toString(%0D%0A%20%20%20%20%20%20%20%20%20%20args.BROADCAST_OPTION%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20(util.stackFrame.broadcastVar)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20broadcastOption%20%3D%20util.stackFrame.broadcastVar%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!util.stackFrame.startedThreads)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads%20%3D%20util.startHats(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22event_whenbroadcastreceived%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BROADCAST_OPTION%3A%20broadcastOption%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(util.stackFrame.startedThreads.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads.forEach(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(thread)%20%3D%3E%20(thread.receivedData%20%3D%20data)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20waiting%20%3D%20util.stackFrame.startedThreads.some(%0D%0A%20%20%20%20%20%20%20%20%20%20(thread)%20%3D%3E%20runtime.threads.indexOf(thread)%20!%3D%3D%20-1%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(waiting)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.stackFrame.startedThreads.every((thread)%20%3D%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20runtime.isWaitingThread(thread)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.yieldTick()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20util.yield()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20receivedData(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20received%20%3D%20util.thread.receivedData%3B%0D%0A%20%20%20%20%20%20return%20received%20%3F%20received%20%3A%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_getTargetFromMenu(targetName)%20%7B%0D%0A%20%20%20%20%20%20let%20target%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(targetName)%3B%0D%0A%20%20%20%20%20%20if%20(targetName%20%3D%3D%3D%20%22_stage_%22)%20target%20%3D%20runtime.getTargetForStage()%3B%0D%0A%20%20%20%20%20%20return%20target%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_getTargets()%20%7B%0D%0A%20%20%20%20%20%20const%20spriteNames%20%3D%20%5B%7B%20text%3A%20%22Stage%22%2C%20value%3A%20%22_stage_%22%20%7D%5D%3B%0D%0A%20%20%20%20%20%20const%20targets%20%3D%20Scratch.vm.runtime.targets%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20targets.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20targets%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(target.isOriginal)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20targetName%20%3D%20target.getName()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20spriteNames.push(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20targetName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20targetName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(spriteNames.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20spriteNames%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%200%20%7D%5D%3B%20%2F%2Fthis%20should%20never%20happen%20but%20it's%20a%20failsafe%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20MoreEvents())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Camera%20Controls%20(Very%20Buggy)%0D%0A%2F%2F%20ID%3A%20DTcameracontrols%0D%0A%2F%2F%20Description%3A%20Move%20the%20visible%20part%20of%20the%20stage.%0D%0A%2F%2F%20By%3A%20DT%0D%0A%2F%2F%20License%3A%20MIT%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22it%22%3A%7B%22_Camera%20(Very%20Buggy)%22%3A%22Camera%20(Presenti%20Diversi%20Bug)%22%2C%22_background%20color%22%3A%22colore%20di%20sfondo%22%2C%22_camera%20direction%22%3A%22direzione%20camera%22%2C%22_camera%20x%22%3A%22x%20camera%22%2C%22_camera%20y%22%3A%22y%20camera%22%2C%22_camera%20zoom%22%3A%22zoom%20camera%22%2C%22_change%20camera%20x%20by%20%5Bval%5D%22%3A%22cambia%20camera%20x%20di%20%5Bval%5D%22%2C%22_change%20camera%20y%20by%20%5Bval%5D%22%3A%22cambia%20camera%20y%20di%20%5Bval%5D%22%2C%22_change%20camera%20zoom%20by%20%5Bval%5D%22%3A%22cambia%20zoom%20camera%20di%20%5Bval%5D%22%2C%22_move%20camera%20%5Bval%5D%20steps%22%3A%22sposta%20camera%20di%20%5Bval%5Dpassi%22%2C%22_move%20camera%20to%20%5Bsprite%5D%22%3A%22sposta%20la%20camera%20dove%20si%20trova%20%5Bsprite%5D%22%2C%22_no%20sprites%20exist%22%3A%22non%20ci%20sono%20sprite%22%2C%22_point%20camera%20towards%20%5Bsprite%5D%22%3A%22punta%20camera%20verso%20%5Bsprite%5D%22%2C%22_set%20background%20color%20to%20%5Bval%5D%22%3A%22usa%20colore%20di%20sfondo%20%5Bval%5D%22%2C%22_set%20camera%20direction%20to%20%5Bval%5D%22%3A%22porta%20direzione%20camera%20a%20%5Bval%5D%22%2C%22_set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%3A%22sposta%20la%20camera%20a%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%2C%22_set%20camera%20x%20to%20%5Bval%5D%22%3A%22porta%20camera%20x%20a%20%5Bval%5D%22%2C%22_set%20camera%20y%20to%20%5Bval%5D%22%3A%22porta%20camera%20y%20a%20%5Bval%5D%22%2C%22_set%20camera%20zoom%20to%20%5Bval%5D%20%25%22%3A%22porta%20zoom%20camera%20a%20%5Bval%5D%20%25%22%2C%22_turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22%3A%22gira%20camera%20%5Bimage%5D%20di%20%5Bval%5D%20gradi%22%7D%2C%22ja%22%3A%7B%22_camera%20direction%22%3A%22%E3%82%AB%E3%83%A1%E3%83%A9%E3%81%AE%E5%90%91%E3%81%8D%22%2C%22_camera%20x%22%3A%22%E3%82%AB%E3%83%A1%E3%83%A9%E3%81%AEx%E5%BA%A7%E6%A8%99%22%2C%22_camera%20y%22%3A%22%E3%82%AB%E3%83%A1%E3%83%A9%E3%81%AEy%E5%BA%A7%E6%A8%99%22%7D%2C%22nb%22%3A%7B%22_Camera%20(Very%20Buggy)%22%3A%22Kamera%20(Veldig%20Ustabil)%22%2C%22_background%20color%22%3A%22Bakgrunnsfarge%22%2C%22_camera%20direction%22%3A%22kamera%20retning%22%2C%22_camera%20x%22%3A%22kamera%20x%22%2C%22_camera%20y%22%3A%22kamera%20y%22%2C%22_camera%20zoom%22%3A%22kamera%20zoom%22%2C%22_change%20camera%20x%20by%20%5Bval%5D%22%3A%22endre%20kamera%20x%20med%20%5Bval%5D%22%2C%22_change%20camera%20y%20by%20%5Bval%5D%22%3A%22endre%20kamera%20y%20med%20%5Bval%5D%22%2C%22_change%20camera%20zoom%20by%20%5Bval%5D%22%3A%22endre%20kamera%20zoom%20med%20%5Bval%5D%22%2C%22_move%20camera%20%5Bval%5D%20steps%22%3A%22flytt%20kamera%20%5Bval%5D%20trinn%22%2C%22_move%20camera%20to%20%5Bsprite%5D%22%3A%22flytt%20kamera%20til%20%5Bsprite%5D%22%2C%22_no%20sprites%20exist%22%3A%22ingen%20sprites%20eksisterer%22%2C%22_point%20camera%20towards%20%5Bsprite%5D%22%3A%22peker%20kameraet%20mot%20%5Bsprite%5D%22%2C%22_set%20background%20color%20to%20%5Bval%5D%22%3A%22sett%20bakgrunnsfarge%20til%20%5Bval%5D%22%2C%22_set%20camera%20direction%20to%20%5Bval%5D%22%3A%22sett%20kamera%20retning%20til%20%5Bval%5D%22%2C%22_set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%3A%22sett%20kamera%20til%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%2C%22_set%20camera%20x%20to%20%5Bval%5D%22%3A%22sett%20kamera%20x%20til%20%5Bval%5D%22%2C%22_set%20camera%20y%20to%20%5Bval%5D%22%3A%22sett%20kamera%20y%20til%20%5Bval%5D%22%2C%22_set%20camera%20zoom%20to%20%5Bval%5D%20%25%22%3A%22sett%20kamera%20zoom%20til%20%5Bval%5D%20%25%22%2C%22_turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22%3A%22snu%20kamera%20%5Bimage%5D%20%5Bval%5D%20grader%22%7D%2C%22nl%22%3A%7B%22_Camera%20(Very%20Buggy)%22%3A%22Camera%20(veel%20bugs)%22%2C%22_background%20color%22%3A%22achtergrondkleur%22%2C%22_camera%20direction%22%3A%22camera-richting%22%2C%22_camera%20x%22%3A%22camera-x%22%2C%22_camera%20y%22%3A%22camera-y%22%2C%22_camera%20zoom%22%3A%22camera-zoom%22%2C%22_change%20camera%20x%20by%20%5Bval%5D%22%3A%22verander%20camera-x%20met%20%5Bval%5D%22%2C%22_change%20camera%20y%20by%20%5Bval%5D%22%3A%22verander%20camera-y%20%5Bval%5D%22%2C%22_change%20camera%20zoom%20by%20%5Bval%5D%22%3A%22verander%20camera-zoom%20met%20%5Bval%5D%22%2C%22_move%20camera%20%5Bval%5D%20steps%22%3A%22verplaats%20camera%20%5Bval%5D%20stappen%22%2C%22_move%20camera%20to%20%5Bsprite%5D%22%3A%22verplaats%20camera%20naar%20%5Bsprite%5D%22%2C%22_no%20sprites%20exist%22%3A%22...%22%2C%22_point%20camera%20towards%20%5Bsprite%5D%22%3A%22richt%20camera%20naar%20%5Bsprite%5D%22%2C%22_set%20background%20color%20to%20%5Bval%5D%22%3A%22maak%20achtergrondkleur%20%5Bval%5D%22%2C%22_set%20camera%20direction%20to%20%5Bval%5D%22%3A%22richt%20camera%20naar%20%5Bval%5D%20graden%22%2C%22_set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%3A%22verplaats%20camera%20naar%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%2C%22_set%20camera%20x%20to%20%5Bval%5D%22%3A%22maak%20camera-x%20%5Bval%5D%22%2C%22_set%20camera%20y%20to%20%5Bval%5D%22%3A%22maak%20camera-y%20%5Bval%5D%22%2C%22_set%20camera%20zoom%20to%20%5Bval%5D%20%25%22%3A%22maak%20camera-zoom%20%5Bval%5D%20%25%22%2C%22_turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22%3A%22draai%20camera%20%5Bimage%5D%20%5Bval%5D%20graden%22%7D%2C%22ru%22%3A%7B%22_Camera%20(Very%20Buggy)%22%3A%22%D0%9A%D0%B0%D0%BC%D0%B5%D1%80%D0%B0%20(%D0%9E%D1%87%D0%B5%D0%BD%D1%8C%20%D0%91%D0%B0%D0%B3%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5)%22%2C%22_background%20color%22%3A%22%D1%86%D0%B2%D0%B5%D1%82%20%D0%B7%D0%B0%D0%B4%D0%BD%D0%B5%D0%B3%D0%BE%20%D1%84%D0%BE%D0%BD%D0%B0%22%2C%22_camera%20direction%22%3A%22%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%22%2C%22_camera%20x%22%3A%22x%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%22%2C%22_camera%20y%22%3A%22y%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%22%2C%22_camera%20zoom%22%3A%22%D0%BF%D1%80%D0%B8%D0%B1%D0%BB%D0%B8%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%22%2C%22_change%20camera%20x%20by%20%5Bval%5D%22%3A%22%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20x%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_change%20camera%20y%20by%20%5Bval%5D%22%3A%22%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20y%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_change%20camera%20zoom%20by%20%5Bval%5D%22%3A%22%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%B1%D0%BB%D0%B8%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_move%20camera%20%5Bval%5D%20steps%22%3A%22%D0%BF%D0%BE%D0%B9%D1%82%D0%B8%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%83%20%D0%BD%D0%B0%20%5Bval%5D%20%D1%88%D0%B0%D0%B3%D0%BE%D0%B2%22%2C%22_move%20camera%20to%20%5Bsprite%5D%22%3A%22%D0%B4%D0%B2%D0%B8%D0%BD%D1%83%D1%82%D1%8C%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%83%20%D0%BD%D0%B0%20%5Bsprite%5D%22%2C%22_no%20sprites%20exist%22%3A%22%D0%BD%D0%B8%D0%BA%D0%B0%D0%BA%D0%B8%D1%85%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%20%D0%BD%D0%B5%20%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82%22%2C%22_point%20camera%20towards%20%5Bsprite%5D%22%3A%22%D0%BD%D0%B0%D0%B2%D0%B5%D1%81%D1%82%D0%B8%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%83%20%D0%BD%D0%B0%20%5Bsprite%5D%22%2C%22_set%20background%20color%20to%20%5Bval%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%86%D0%B2%D0%B5%D1%82%20%D0%B7%D0%B0%D0%B4%D0%BD%D0%B5%D0%B3%D0%BE%20%D1%84%D0%BE%D0%BD%D0%B0%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_set%20camera%20direction%20to%20%5Bval%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%83%20%D0%BD%D0%B0%20%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D0%B8%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%2C%22_set%20camera%20x%20to%20%5Bval%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20x%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_set%20camera%20y%20to%20%5Bval%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20y%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B%20%D0%BD%D0%B0%20%5Bval%5D%22%2C%22_set%20camera%20zoom%20to%20%5Bval%5D%20%25%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%B1%D0%BB%D0%B8%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D0%BC%D0%B5%D0%BD%D1%8B%20%D0%B2%20%5Bval%5D%25%22%2C%22_turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22%3A%22%D0%BF%D0%BE%D0%B2%D0%B5%D1%80%D0%BD%D1%83%D1%82%D1%8C%20%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%83%20%5Bimage%5D%20%D0%BD%D0%B0%20%5Bval%5D%20%D0%B3%D1%80%D0%B0%D0%B4%D1%83%D1%81%D0%BE%D0%B2%22%7D%2C%22zh-cn%22%3A%7B%22_Camera%20(Very%20Buggy)%22%3A%22%E8%88%9E%E5%8F%B0%E6%91%84%E5%83%8F%E6%9C%BA(%E6%9C%89Bug)%22%2C%22_background%20color%22%3A%22%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%22%2C%22_camera%20direction%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84%E6%96%B9%E5%90%91%22%2C%22_camera%20x%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BAx%E5%9D%90%E6%A0%87%22%2C%22_camera%20y%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BAy%E5%9D%90%E6%A0%87%22%2C%22_camera%20zoom%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E8%A7%86%E9%87%8E%22%2C%22_change%20camera%20x%20by%20%5Bval%5D%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84x%E5%9D%90%E6%A0%87%E5%A2%9E%E5%8A%A0%5Bval%5D%22%2C%22_change%20camera%20y%20by%20%5Bval%5D%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84y%E5%9D%90%E6%A0%87%E5%A2%9E%E5%8A%A0%5Bval%5D%22%2C%22_change%20camera%20zoom%20by%20%5Bval%5D%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E6%8B%89%E8%BF%91%5Bval%5D%22%2C%22_move%20camera%20%5Bval%5D%20steps%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E7%A7%BB%E5%8A%A8%5Bval%5D%E6%AD%A5%22%2C%22_move%20camera%20to%20%5Bsprite%5D%22%3A%22%E7%A7%BB%E5%8A%A8%E6%91%84%E5%83%8F%E6%9C%BA%E5%88%B0%E8%A7%92%E8%89%B2%5Bsprite%5D%22%2C%22_no%20sprites%20exist%22%3A%22%E6%B2%A1%E6%9C%89%E8%A7%92%E8%89%B2%22%2C%22_point%20camera%20towards%20%5Bsprite%5D%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%E9%9D%A2%E5%90%91%5Bsprite%5D%22%2C%22_set%20background%20color%20to%20%5Bval%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%E4%B8%BA%5Bval%5D%22%2C%22_set%20camera%20direction%20to%20%5Bval%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84%E6%96%B9%E5%90%91%E4%B8%BA%5Bval%5D%22%2C%22_set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84%E5%9D%90%E6%A0%87%E4%B8%BAx%5Bx%5D%20y%5By%5D%22%2C%22_set%20camera%20x%20to%20%5Bval%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84x%E5%9D%90%E6%A0%87%E4%B8%BA%5Bval%5D%22%2C%22_set%20camera%20y%20to%20%5Bval%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%84%E5%83%8F%E6%9C%BA%E7%9A%84y%E5%9D%90%E6%A0%87%E4%B8%BA%5Bval%5D%22%2C%22_set%20camera%20zoom%20to%20%5Bval%5D%20%25%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%84%E5%83%8F%E6%9C%BA%E8%A7%86%E9%87%8E%E4%B8%BA%5Bval%5D%25%22%2C%22_turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22%3A%22%E6%91%84%E5%83%8F%E6%9C%BA%5Bimage%5D%5Bval%5D%E5%BA%A6%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F((Scratch)%20%3D%3E%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0D%0A%20%20%20%20throw%20new%20Error(%22Camera%20extension%20must%20be%20run%20unsandboxed%22)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20icon%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMjUuMzU0OCIgaGVpZ2h0PSIyMjUuMzU0OCIgdmlld0JveD0iMCwwLDIyNS4zNTQ4LDIyNS4zNTQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTg3LjMyMjkzLC0zNy4zMjI1OSkiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMTg3LjMyMjk0LDE1MGMwLC02Mi4yMzAwMSA1MC40NDczOSwtMTEyLjY3NzQgMTEyLjY3NzQsLTExMi42Nzc0YzYyLjIzMDAxLDAgMTEyLjY3NzQsNTAuNDQ3MzkgMTEyLjY3NzQsMTEyLjY3NzRjMCw2Mi4yMzAwMSAtNTAuNDQ3MzksMTEyLjY3NzQgLTExMi42Nzc0LDExMi42Nzc0Yy02Mi4yMzAwMSwwIC0xMTIuNjc3NCwtNTAuNDQ3MzkgLTExMi42Nzc0LC0xMTIuNjc3NHoiIGZpbGw9IiNmZjRkYTciIHN0cm9rZS13aWR0aD0iMCIvPjxnPjxwYXRoIGQ9Ik0zMTcuMTAyOSw4MC44MTA4N2MyMS44OTI0LDAgMzkuNjYyMDcsMTcuNzM3MjMgMzkuNjYyMDcsMzkuNjM0NGMwLDEyLjMwNTE3IC01LjYxMTQ4LDIzLjI5NjIyIC0xNC40MDA4OCwzMC41NjgyNGg4Ljc3MDMydjY4LjE3NTYzaC0xMTQuMTMzMjV2LTU1Ljc5ODg5Yy0xNC4zMzQwOCwtMy41MjgxNyAtMjQuOTYxNTMsLTE2LjQ1NzQ3IC0yNC45NjE1MywtMzEuODgwNDRjMCwtMTguMTM5IDE0LjY5NjczLC0zMi44MzQ3OCAzMi44MzQ3OCwtMzIuODM0NzhjMTIuMDM3OTUsMCAyMi41NTY2MSw2LjQ3ODAxIDI4LjI3MjExLDE2LjEzMzk1bDQuODYxMzcsLTAuOTI0NzVjMy4xMjkyNiwtMTguNzY2OTYgMTkuNDM5NzYsLTMzLjA3MzM2IDM5LjA5OTAyLC0zMy4wNzMzNnpNMjc2LjIxODUxLDE0MS4yOTE3MWMtMS4xMDAzNSwzLjUzMzg5IC0yLjc2OTQ3LDYuODEyMDMgLTQuOTIwNTQsOS43MjE3OWgyMC41NDc3NGMtMy42ODc1NCwtMy4wNDgxNCAtNi44MDI0OCwtNi43NjUyNyAtOS4xODU0NSwtMTAuOTQ0Mjl6IiBmaWxsPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNMzM2LjU3NTI5LDExOS41MjgxNWMwLDExLjA2ODM1IC04Ljk3MjY0LDIwLjA0MDk5IC0yMC4wNDA5OSwyMC4wNDA5OWMtMTEuMDY4MzUsMCAtMjAuMDQwOTksLTguOTcyNjQgLTIwLjA0MDk5LC0yMC4wNDA5OWMwLC0xMS4wNjgzNSA4Ljk3MjY0LC0yMC4wNDA5OSAyMC4wNDA5OSwtMjAuMDQwOTljMTEuMDY4MzUsMCAyMC4wNDA5OSw4Ljk3MjY0IDIwLjA0MDk5LDIwLjA0MDk5eiIgZmlsbD0iI2ZmNGRhNyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz48cGF0aCBkPSJNMjYxLjE4MywxMzAuMDI1ODFjMCw4Ljk2MDA0IC03LjI2MzYyLDE2LjIyMzY2IC0xNi4yMjM2NiwxNi4yMjM2NmMtOC45NjAwNCwwIC0xNi4yMjM2NiwtNy4yNjM2MiAtMTYuMjIzNjYsLTE2LjIyMzY2YzAsLTguOTYwMDQgNy4yNjM2MiwtMTYuMjIzNjYgMTYuMjIzNjYsLTE2LjIyMzY2YzguOTYwMDQsMCAxNi4yMjM2Niw3LjI2MzYyIDE2LjIyMzY2LDE2LjIyMzY2eiIgZmlsbD0iI2ZmNGRhNyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz48cGF0aCBkPSJNMzg3Ljk2MDM5LDE0NS44NTcyNHY2MC41MTA0M2wtMjEuNjAzMjYsLTEzLjQ3MjE3aC0xNi44OTgzNHYtMzMuNTY2MDdoMTYuODk4MzRsMjEuNTk5MTcsLTEzLjQ3MTEyeiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8%2BPC9nPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjExMi42NzcwNjU6MTEyLjY3NzQwNS0tPg%3D%3D%22%3B%0D%0A%20%20const%20CW%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAIUAAAB%2BCAYAAAAKj9LmAAAAAXNSR0IArs4c6QAABqdJREFUeF7tneuV1DAMhZdSoBWoB2qBeqAVKAWOOQRCNvHV27Kt%2Fbsex7r6ciV7MjNvXupvWgW%2Bv%2F%2F8sy3%2B3bdPbyyDMJ3McmHauQ7BqPNYC0u9LnccissijumhQCJxRb8bbyG0dh3cODVrng4KrjjaZGSARBqzFIz0UEgF8YDhaU6p%2BJQ1auOXrC0tFFoxKIJ7jJEk4WkdVhpw15QKCisRPJLNnZObiOv8llpw15ICCksBKMl7%2B%2FXj72E%2FPnyhDFeN4SbkuBjS5IjhGN%2BLhbuGoVCgwKnZuApEfR0aZwkNJzFIl6d4rcAYAgUKGiXLCwJ0XQt3QXAgbXqxTwkFCriXlJEgPK1L4yR3cCB9KBo8rQnBeI4xzClQwHfCU0Sg3N0RY6SAHMlC%2BlC1sHCLEChQwNekUQWISDb3GhI4GhhII6om6aFAga4Ewx08EkC0jpkaCg4Q1LuAe9dmGa%2BBQ6KNtq9wKR9UICQBZ0k0dx0SMKT6pIKCCkMTVBowNxnZxlPh0OijLSFmTkEFQhNstgRr1oPg0OiUAooCQobHU%2FI0QKBjb8p5hdopKEBYBCmTPf%2BrrmBYaaXpK1RQFBB20LUkWgGBjuORW4ihKCDsgPCYSdNXuEFhSb2HaDvMKS0hIiiQSxQQOZALg6KAyJFwyiqkJYTlFAUEJRV5xgyHokpGHhjQWUX7f28HQnaKcol8SaesSNJXkKAoICjy5xwzBIoqGzlh0JQQ6BQ9lyggcgMhPdnsQjFL2UDvOFJStzLg3BIihmK0iBYg9GAZHR8FZOoYMyiylg1vGK5CrwAH97zi0SmyQRENw0pwmECRCYjRMKwCB6eE3DpFFiiyAXEGZLayooJiBSDQQyTn5KId1irNKKeEvHKKDFBwHYIDQS%2FJEkBmcQwXKCKCHwXDHShcQCL0oW5Bn8ZRS8h%2FTjHSJThAWDkDRWQOHNnBMIUiIlgKFJEwXIFBcERoRIG4N2YqKLID0YReGYrr8xV%2Fy8eo0lFAaO9%2F3uspbgGh8LTFAoKXUIvR00MxsodYpWRcQSJDMaJ0IJcYDQSCwtNBLRyBuy099xW%2Fy0c0FLMD0TTbFgqvwDmna553zdPcK%2Bw0NFvTrlPsCMXqQDRYUF8RDkVml9gBiB4UR1%2FR%2Fao%2BD6eYFQoPLUaURhUUHiLMCsTMjSV3F9J2fY9OUVD8k9NDi1EucVy311ekgCLzmcSKQKBms6AYcE4z2iVQXxEGxYz9xKouUVAQbsunrejKUPTAGO4UmfuJFXcdqNFs%2Fy8o%2FqgU%2Ff4PwcDchqBSXlAQoDiyM3s5QW9EwhNNawHQebvbbUGcGB1xE6eZfljo4VV2KFo2dwfj6O%2BqfFzu7V3BODf8BcWN4e8GxnUHWFA8dAG7gHF3JFBQEFrD1QBBZ0MFBQGK3YYUFLtlnBBvQUEQabchw6E4TtF2Ez5zvKHPaM5wgJU5WVFrC32au6CISqvuOgWFTr8lX50CiuorcrEV%2FlnSKiG5ALhbTfj3UxQUBcUrBdBTP%2FklW3%2BF4U7RJC23yA0WhKItP%2BoprGo4c8BC%2Bh5Nayh6blFgjAejoBifg3QrIEHhUULKLdKx8HdB5C9sjy4hVUbGQUOGotxiXJKirzwciioj0SnH10vxy0Dok0vomUIcZo3gKJACCuQW1V9wUqofm%2BrXBssx9Am1mCEVFOUYFinVz5HyF4yRY1Q50Se%2BN0NKKCiOUWD4gdGFol125Jd5lGP4JV7sFAgKrwOt84IpYJRr2MIDnQKB4XH8fQ2RCsbxujrX0EFCgmJGMMo95GCYQBFRRo4Qua5R7sGHgwwFcosZwLiTp0rNa1VYUCAwIvoLSRPKuVcKkpcXUygi3aLg4KDOG8uGArnFKDDadaX9Rk%2ByHZ1DBEVmMLQNafUdgvJxFg19F1R0j9G747UuspNjiJ3iSMBMYNxBw4FlFzDcoRjZY%2FDaK1pPsgMYaigo%2FcVMYKCGtaBg3GqojBQYDDEHDzVxCmp%2FcYzL1IA%2B6b%2Fzp%2BNNoaCWkllcY9dPx5tDsRIYBYVDHaP0Gdld4w6M1ZtNF6fgHHBl7zMKCge34JSTjK5RUDhBwQUjCxzVUzgCISknGcpKQREEhcQ1RjlHQREIBfew67q0iMOvOrwaAISmpJxf6wHIzkA0bd23pFTeqGcaaD4tJOit9NXPKFJBYeUcT9AgWBAMbd4dgEgLhbbnQG4i%2Bf8uQKSHIgscOwExDRTepaXnHLsBMSUUkYDsCMT0UNzd4Ra7mF1hOPRMsyWVNH%2Fc1%2FSA2R2Es5a%2FACFtcn%2FxxMQMAAAAAElFTkSuQmCC%22%3B%0D%0A%20%20const%20CCW%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAIYAAAB9CAYAAABnLBtLAAAAAXNSR0IArs4c6QAABotJREFUeF7tnWuW5TQMhJmlwFZgPcNaYD3DVmApzAmHzEmnY%2BthvRxV%2F01iy6XPJSU3fe%2BXnwz%2B%2Fv71j3%2BpYX756%2Fcv1DkVjnPWcsS5y3q0mi4liyviGVwVMaVxS8Wtsk5p3Nfz1WBoxY0WTRvniqj3a6PXbBG7CoxVsT2FWo3NQlRqDM%2F1U3Nzj6eA4VGjdwBiJycRg2GZgNWdYxkLdyd5nbeqhXVcpmD8%2FO3rh%2Fj%2B%2Be3PabxaMd4ERFUXEYExS8gdinPBlnBYAjGKd3XnUevljq%2FdNNzxqfPcwTgCoMSiRFgFwgsCSlzO2qkxKG2o67XHTcDgCK%2BBYwUITkxa0bTXURrMxo0GJAwMzu65Ll4DRUUYRsnWQBIJBxsMTX9xF4US41j424GQapLVnIaCwXENiU3v5BDUuqhNEw3IMhia5EhFuIuimZNKTJXjEm08S0sKGFrneDMQKyXGA5AtwOgExBWQTPdggWHReD5ZNbXwrkBo3cPSOZbAsEjcCA6Lsav0DRZxUJvonMMKjnQwnvoNQPGMUiQcJcA44QAQPG%2FhALLqHCQYXv0FTwKctfLkdAUOgLExe5RzpIAB269BlBccascAGDXA4Dws1DjHFAz0F3WST0Vi7RwAg1J8o%2BOWcKjAQBmpSQvAqJmXElFZwQHHKJFO2yBmcHAb0SEYaDxtkxU92iocYjA69BeUHT8luZou1Boo52gPBiWgdqdXAGXFNdqC4QXEHaRsQLRwPILx5v4iCogqgACMiednwVClF9HAIXKMbFvU1PtKUFzjj9QSYFyUXwGC6tjvgGr%2BSeoYozIcnxzjDf2FBgopDDP3koASBYfUNV4HhgQKSxieQOECkg3Hkw5sMKKC1%2FQRnHcSruN6A6EpNRH6SlzjNWBw4IgGQgpIJhx3bQCG1qKU11HlxRsOrmt8AKND45ntGgdPmXCYguFNsXLzDS%2BjGlDA8fyleVddWI6xGxg79BuUc3hqPto4LcAAHGMf5pSTH47xhv7iLgVKihyO0zVeDQZcwxEMz1pn3XSOxqvuHBl3KVSfQTrGG8DYwTmiSznVZ%2FwHRnRQUU4h6Tkq38J6bE6AIfgoPhuO6A06KydTx%2FAgNcstznmpnZIZH8DIVJ%2F40vuqruGxSeEYDyBSXXkWu5GuMQUjMpAssZ%2FmBRjjnws5XLNdj0H1GlVLyRG3dTlBKdmolMweH5QBw4PSCuWk8p3JNmCcibSmNQOQ6o%2FGT01GfZ91DshSQj39zEhixpzZ%2FUUVMI44yM9KMhKUMWcVKCqUkg9gdHcNgPFxO7LfEs%2FYxRFzVgKiZCm5J4F6RyAiad5zVISiQin58YBrloC3AVIVhmsOSt2VeO9OjM9XAGDwtWp1JsBolW7%2BYgEGX6s2Z0Z%2B2s168tlG%2BeILBRjFE5QVXhQY1AeJ5A%2FZZAnUdd4K%2FcWnR%2BJdk1Fp3QCjUjaKxBJVRo7lUq82opQUgSLyUTjAKJR0KpQKbnHE%2BOm%2F3anAcdxXgQpgDL84xXfpGH2kQCQUnDKCu5IirEaCQT2%2FOCVB85kMRyQUXLeAYxSG4gjN%2Bq1wgJGccO70VdziejeCUsLNntN50VBI3AKlxCnp1LDU65KRJeTJLQAGlUGH4xlQzNwCYDgkWTrkLlDAMaSZXTifgsLrLkTjFgBjIdGSS3eDAmBIsqs4lwOEp1No3QJgKJLNvWRnKAAGN8vC86pDMboTuS4Tn5UIkz47nQuEd%2FlYKSHn%2BgCGARgSIHaAAqVkAQopDBFAUE7BKSFwDAUUGhjOaTwecz8tgfu%2BBbV8lJKBQisQXIeMAoJyC%2BnXPwAMxs9dUrtrdLwKFJISglLyEiAop9BA0bb5tCoTWSXjOq%2FXd5e2KyXWUESWC89m8z52KzAsoMgGIcItWpUSKRSVAJA6hbavuM7TxjEoMKqDcCaN6iksoGjjGIBCfsPdwjEy3siWp2J%2BRZRTtHmOASh0iL7eMaK%2BoUYnP31VtFO0d4zqzSYHCKtG8wlPOAa9acPPyIaixV3JTqWEC4SnU6CUfPsa7gSjCSsBATCKgFERCpSSJM%2BQwHCGKH3RZnVpbZvPQ7joO5MdgGhTSo6FZjegOwEBMP5XwMs1NDBklY2WzzFmjnEVZBWQFRAqAdHKMbhwcPoOCwDuOzS6seQ0pq9vPq8iUB%2B%2FcwSzPKciEO0c41xwNhyVYbhC38oxMuHYBYi2jhEFx24g3EtkS8fw6Dt2BwFgTLpHTv%2FxNgBGcnwHa6xrfvicCcEAAAAASUVORK5CYII%3D%22%3B%0D%0A%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%0D%0A%20%20let%20cameraX%20%3D%200%3B%0D%0A%20%20let%20cameraY%20%3D%200%3B%0D%0A%20%20let%20cameraZoom%20%3D%20100%3B%0D%0A%20%20let%20cameraDirection%20%3D%2090%3B%0D%0A%20%20let%20cameraBG%20%3D%20%22%23ffffff%22%3B%0D%0A%0D%0A%20%20vm.runtime.runtimeOptions.fencing%20%3D%20false%3B%0D%0A%20%20vm.renderer.offscreenTouching%20%3D%20true%3B%0D%0A%20%20vm.setInterpolation(false)%3B%0D%0A%0D%0A%20%20function%20updateCamera(%0D%0A%20%20%20%20x%20%3D%20cameraX%2C%0D%0A%20%20%20%20y%20%3D%20cameraY%2C%0D%0A%20%20%20%20scale%20%3D%20cameraZoom%20%2F%20100%2C%0D%0A%20%20%20%20rot%20%3D%20-cameraDirection%20%2B%2090%0D%0A%20%20)%20%7B%0D%0A%20%20%20%20rot%20%3D%20(rot%20%2F%20180)%20*%20Math.PI%3B%0D%0A%20%20%20%20const%20s%20%3D%20Math.sin(rot)%20*%20scale%3B%0D%0A%20%20%20%20const%20c%20%3D%20Math.cos(rot)%20*%20scale%3B%0D%0A%20%20%20%20const%20w%20%3D%20vm.runtime.stageWidth%20%2F%202%3B%0D%0A%20%20%20%20const%20h%20%3D%20vm.runtime.stageHeight%20%2F%202%3B%0D%0A%20%20%20%20vm.renderer._projection%20%3D%20%5B%0D%0A%20%20%20%20%20%20c%20%2F%20w%2C%0D%0A%20%20%20%20%20%20-s%20%2F%20h%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20s%20%2F%20w%2C%0D%0A%20%20%20%20%20%20c%20%2F%20h%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20-1%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20(c%20*%20-x%20%2B%20s%20*%20-y)%20%2F%20w%2C%0D%0A%20%20%20%20%20%20(c%20*%20-y%20-%20s%20*%20-x)%20%2F%20h%2C%0D%0A%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%201%2C%0D%0A%20%20%20%20%5D%3B%0D%0A%20%20%20%20vm.renderer.dirty%20%3D%20true%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20updateCameraBG(color%20%3D%20cameraBG)%20%7B%0D%0A%20%20%20%20const%20rgb%20%3D%20Scratch.Cast.toRgbColorList(color)%3B%0D%0A%20%20%20%20Scratch.vm.renderer.setBackgroundColor(%0D%0A%20%20%20%20%20%20rgb%5B0%5D%20%2F%20255%2C%0D%0A%20%20%20%20%20%20rgb%5B1%5D%20%2F%20255%2C%0D%0A%20%20%20%20%20%20rgb%5B2%5D%20%2F%20255%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20tell%20resize%20to%20update%20camera%20as%20well%0D%0A%20%20vm.runtime.on(%22STAGE_SIZE_CHANGED%22%2C%20(_)%20%3D%3E%20updateCamera())%3B%0D%0A%0D%0A%20%20vm.runtime.on(%22RUNTIME_DISPOSED%22%2C%20(_)%20%3D%3E%20%7B%0D%0A%20%20%20%20cameraX%20%3D%200%3B%0D%0A%20%20%20%20cameraY%20%3D%200%3B%0D%0A%20%20%20%20cameraZoom%20%3D%20100%3B%0D%0A%20%20%20%20cameraDirection%20%3D%2090%3B%0D%0A%20%20%20%20cameraBG%20%3D%20%22%23ffffff%22%3B%0D%0A%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20updateCameraBG()%3B%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20function%20_translateX(x%2C%20fromTopLeft%20%3D%20false%2C%20multiplier%20%3D%201%2C%20doZoom%20%3D%20true)%20%7B%0D%0A%20%20%20%20const%20w%20%3D%20fromTopLeft%20%3F%20vm.runtime.stageWidth%20%2F%202%20%3A%200%3B%0D%0A%20%20%20%20return%20(x%20-%20w)%20%2F%20(doZoom%20%3F%20cameraZoom%20%2F%20100%20%3A%201)%20%2B%20w%20%2B%20cameraX%20*%20multiplier%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20_translateY(y%2C%20fromTopLeft%20%3D%20false%2C%20multiplier%20%3D%201%2C%20doZoom%20%3D%20true)%20%7B%0D%0A%20%20%20%20const%20h%20%3D%20fromTopLeft%20%3F%20vm.runtime.stageHeight%20%2F%202%20%3A%200%3B%0D%0A%20%20%20%20return%20(y%20-%20h)%20%2F%20(doZoom%20%3F%20cameraZoom%20%2F%20100%20%3A%201)%20%2B%20h%20%2B%20cameraY%20*%20multiplier%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20rotate(cx%2C%20cy%2C%20x%2C%20y%2C%20radians)%20%7B%0D%0A%20%20%20%20const%20cos%20%3D%20Math.cos(radians)%2C%0D%0A%20%20%20%20%20%20sin%20%3D%20Math.sin(radians)%2C%0D%0A%20%20%20%20%20%20nx%20%3D%20cos%20*%20(x%20-%20cx)%20%2B%20sin%20*%20(y%20-%20cy)%20%2B%20cx%2C%0D%0A%20%20%20%20%20%20ny%20%3D%20cos%20*%20(y%20-%20cy)%20-%20sin%20*%20(x%20-%20cx)%20%2B%20cy%3B%0D%0A%20%20%20%20return%20%5Bnx%2C%20ny%5D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20rotation%20hell%0D%0A%20%20function%20translateX(%0D%0A%20%20%20%20x%2C%0D%0A%20%20%20%20fromTopLeft%20%3D%20false%2C%0D%0A%20%20%20%20xMult%20%3D%201%2C%0D%0A%20%20%20%20doZoom%20%3D%20true%2C%0D%0A%20%20%20%20y%20%3D%200%2C%0D%0A%20%20%20%20yMult%20%3D%20xMult%0D%0A%20%20)%20%7B%0D%0A%20%20%20%20if%20((cameraDirection%20-%2090)%20%25%20360%20%3D%3D%3D%200%20%7C%7C%20!doZoom)%20%7B%0D%0A%20%20%20%20%20%20return%20_translateX(x%2C%20fromTopLeft%2C%20xMult%2C%20doZoom)%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20const%20w%20%3D%20fromTopLeft%20%3F%20vm.runtime.stageWidth%20%2F%202%20%3A%200%3B%0D%0A%20%20%20%20%20%20const%20h%20%3D%20fromTopLeft%20%3F%20vm.runtime.stageHeight%20%2F%202%20%3A%200%3B%0D%0A%20%20%20%20%20%20const%20rotated%20%3D%20rotate(%0D%0A%20%20%20%20%20%20%20%20cameraX%20%2B%20w%2C%0D%0A%20%20%20%20%20%20%20%20cameraY%20%2B%20h%2C%0D%0A%20%20%20%20%20%20%20%20_translateX(x%2C%20fromTopLeft%2C%20xMult%2C%20doZoom)%2C%0D%0A%20%20%20%20%20%20%20%20_translateY(y%2C%20fromTopLeft%2C%20yMult%2C%20doZoom)%2C%0D%0A%20%20%20%20%20%20%20%20((-cameraDirection%20%2B%2090)%20%2F%20180)%20*%20Math.PI%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20rotated%5B0%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20function%20translateY(%0D%0A%20%20%20%20y%2C%0D%0A%20%20%20%20fromTopLeft%20%3D%20false%2C%0D%0A%20%20%20%20yMult%20%3D%201%2C%0D%0A%20%20%20%20doZoom%20%3D%20true%2C%0D%0A%20%20%20%20x%20%3D%200%2C%0D%0A%20%20%20%20xMult%20%3D%20yMult%0D%0A%20%20)%20%7B%0D%0A%20%20%20%20if%20((cameraDirection%20-%2090)%20%25%20360%20%3D%3D%3D%200%20%7C%7C%20!doZoom)%20%7B%0D%0A%20%20%20%20%20%20return%20_translateY(y%2C%20fromTopLeft%2C%20yMult%2C%20doZoom)%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20const%20w%20%3D%20fromTopLeft%20%3F%20vm.runtime.stageWidth%20%2F%202%20%3A%200%3B%0D%0A%20%20%20%20%20%20const%20h%20%3D%20fromTopLeft%20%3F%20vm.runtime.stageHeight%20%2F%202%20%3A%200%3B%0D%0A%20%20%20%20%20%20const%20rotated%20%3D%20rotate(%0D%0A%20%20%20%20%20%20%20%20cameraX%20%2B%20w%2C%0D%0A%20%20%20%20%20%20%20%20cameraY%20%2B%20h%2C%0D%0A%20%20%20%20%20%20%20%20_translateX(x%2C%20fromTopLeft%2C%20xMult%2C%20doZoom)%2C%0D%0A%20%20%20%20%20%20%20%20_translateY(y%2C%20fromTopLeft%2C%20yMult%2C%20doZoom)%2C%0D%0A%20%20%20%20%20%20%20%20((-cameraDirection%20%2B%2090)%20%2F%20180)%20*%20Math.PI%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20rotated%5B1%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20fix%20mouse%20positions%0D%0A%20%20const%20oldSX%20%3D%20vm.runtime.ioDevices.mouse.getScratchX%3B%0D%0A%20%20const%20oldSY%20%3D%20vm.runtime.ioDevices.mouse.getScratchY%3B%0D%0A%20%20vm.runtime.ioDevices.mouse.getScratchX%20%3D%20function%20(...a)%20%7B%0D%0A%20%20%20%20return%20translateX(%0D%0A%20%20%20%20%20%20oldSX.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%20false%2C%0D%0A%20%20%20%20%20%201%2C%0D%0A%20%20%20%20%20%20true%2C%0D%0A%20%20%20%20%20%20oldSY.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%201%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D%3B%0D%0A%20%20vm.runtime.ioDevices.mouse.getScratchY%20%3D%20function%20(...a)%20%7B%0D%0A%20%20%20%20return%20translateY(%0D%0A%20%20%20%20%20%20oldSY.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%20false%2C%0D%0A%20%20%20%20%20%201%2C%0D%0A%20%20%20%20%20%20true%2C%0D%0A%20%20%20%20%20%20oldSX.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%201%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D%3B%0D%0A%20%20const%20oldCX%20%3D%20vm.runtime.ioDevices.mouse.getClientX%3B%0D%0A%20%20const%20oldCY%20%3D%20vm.runtime.ioDevices.mouse.getClientY%3B%0D%0A%20%20vm.runtime.ioDevices.mouse.getClientX%20%3D%20function%20(...a)%20%7B%0D%0A%20%20%20%20return%20translateX(%0D%0A%20%20%20%20%20%20oldCX.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%20true%2C%0D%0A%20%20%20%20%20%201%2C%0D%0A%20%20%20%20%20%20true%2C%0D%0A%20%20%20%20%20%20oldCY.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%20-1%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D%3B%0D%0A%20%20vm.runtime.ioDevices.mouse.getClientY%20%3D%20function%20(...a)%20%7B%0D%0A%20%20%20%20return%20translateY(%0D%0A%20%20%20%20%20%20oldCY.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%20true%2C%0D%0A%20%20%20%20%20%20-1%2C%0D%0A%20%20%20%20%20%20true%2C%0D%0A%20%20%20%20%20%20oldCX.apply(this%2C%20a)%2C%0D%0A%20%20%20%20%20%201%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20oldPick%20%3D%20vm.renderer.pick%3B%0D%0A%20%20vm.renderer.pick%20%3D%20function%20(x%2C%20y)%20%7B%0D%0A%20%20%20%20return%20oldPick.call(%0D%0A%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20translateX(x%2C%20true%2C%201%2C%20true%2C%20y%2C%20-1)%2C%0D%0A%20%20%20%20%20%20translateY(y%2C%20true%2C%20-1%2C%20true%2C%20x%2C%201)%0D%0A%20%20%20%20)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20oldExtract%20%3D%20vm.renderer.extractDrawableScreenSpace%3B%0D%0A%20%20vm.renderer.extractDrawableScreenSpace%20%3D%20function%20(...args)%20%7B%0D%0A%20%20%20%20const%20extracted%20%3D%20oldExtract.apply(this%2C%20args)%3B%0D%0A%20%20%20%20extracted.x%20%3D%20translateX(extracted.x%2C%20false%2C%20-1%2C%20false%2C%20extracted.y%2C%201)%3B%0D%0A%20%20%20%20extracted.y%20%3D%20translateY(extracted.y%2C%20false%2C%201%2C%20false%2C%20extracted.x%2C%20-1)%3B%0D%0A%20%20%20%20return%20extracted%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F%2F%20%40ts-expect-error%0D%0A%20%20if%20(vm.runtime.ext_scratch3_looks)%20%7B%0D%0A%20%20%20%20%2F%2F%20%40ts-expect-error%0D%0A%20%20%20%20const%20oldPosBubble%20%3D%20vm.runtime.ext_scratch3_looks._positionBubble%3B%0D%0A%20%20%20%20%2F%2F%20%40ts-expect-error%0D%0A%20%20%20%20vm.runtime.ext_scratch3_looks._positionBubble%20%3D%20function%20(target)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20it's%20harder%20to%20limit%20speech%20bubbles%20to%20the%20camera%20region...%0D%0A%20%20%20%20%20%20%2F%2F%20it's%20easier%20to%20just%20remove%20speech%20bubble%20bounds%20entirely%0D%0A%20%20%20%20%20%20const%20oldGetNativeSize%20%3D%20this.runtime.renderer.getNativeSize%3B%0D%0A%20%20%20%20%20%20this.runtime.renderer.getNativeSize%20%3D%20()%20%3D%3E%20%5BInfinity%2C%20Infinity%5D%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20oldPosBubble.call(this%2C%20target)%3B%0D%0A%20%20%20%20%20%20%7D%20finally%20%7B%0D%0A%20%20%20%20%20%20%20%20this.runtime.renderer.getNativeSize%20%3D%20oldGetNativeSize%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20class%20Camera%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22DTcameracontrols%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Camera%20(Very%20Buggy)%22)%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23ff4da7%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23de4391%22%2C%0D%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23c83c82%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20icon%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moveSteps%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22move%20camera%20%5Bval%5D%20steps%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rotateCW%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20CW%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22rotateCCW%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20CCW%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22goTo%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22move%20camera%20to%20%5Bsprite%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sprite%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22sprites%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setBoth%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDirection%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20camera%20direction%20to%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2090%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22pointTowards%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22point%20camera%20towards%20%5Bsprite%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sprite%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22sprites%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22change%20camera%20x%20by%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20camera%20x%20to%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22change%20camera%20y%20by%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20camera%20y%20to%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20x%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20y%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getDirection%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20direction%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F*%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20debugging%20blocks%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getCX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22client%20x%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getCY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22client%20y%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20*%2F%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeZoom%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22change%20camera%20zoom%20by%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setZoom%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20camera%20zoom%20to%20%5Bval%5D%20%25%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getZoom%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22camera%20zoom%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setCol%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20background%20color%20to%20%5Bval%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getCol%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22background%20color%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20sprites%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getSprites%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getCX()%20%7B%0D%0A%20%20%20%20%20%20return%20vm.runtime.ioDevices.mouse.getClientX()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getCY()%20%7B%0D%0A%20%20%20%20%20%20return%20vm.runtime.ioDevices.mouse.getClientY()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getSprites()%20%7B%0D%0A%20%20%20%20%20%20const%20sprites%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20Scratch.vm.runtime.targets.forEach((e)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(e.isOriginal%20%26%26%20!e.isStage)%20sprites.push(e.sprite.name)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20if%20(sprites.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20sprites.push(Scratch.translate(%22no%20sprites%20exist%22))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20sprites%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setBoth(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraX%20%3D%20%2Bargs.x%3B%0D%0A%20%20%20%20%20%20cameraY%20%3D%20%2Bargs.y%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20changeZoom(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraZoom%20%2B%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setZoom(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraZoom%20%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20changeX(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraX%20%2B%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setX(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraX%20%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20changeY(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraY%20%2B%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setY(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraY%20%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setDirection(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraDirection%20%3D%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20rotateCW(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraDirection%20%3D%20cameraDirection%20%2B%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20rotateCCW(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraDirection%20%3D%20cameraDirection%20-%20%2Bargs.val%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getX()%20%7B%0D%0A%20%20%20%20%20%20return%20cameraX%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getY()%20%7B%0D%0A%20%20%20%20%20%20return%20cameraY%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getZoom()%20%7B%0D%0A%20%20%20%20%20%20return%20cameraZoom%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getDirection()%20%7B%0D%0A%20%20%20%20%20%20return%20cameraDirection%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setCol(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20cameraBG%20%3D%20args.val%3B%0D%0A%20%20%20%20%20%20updateCameraBG()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20getCol()%20%7B%0D%0A%20%20%20%20%20%20return%20cameraBG%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20moveSteps(args)%20%7B%0D%0A%20%20%20%20%20%20const%20dir%20%3D%20((-cameraDirection%20%2B%2090)%20*%20Math.PI)%20%2F%20180%3B%0D%0A%20%20%20%20%20%20cameraX%20%2B%3D%20args.val%20*%20Math.cos(dir)%3B%0D%0A%20%20%20%20%20%20cameraY%20%2B%3D%20args.val%20*%20Math.sin(dir)%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20goTo(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.Cast.toString(args.sprite)%3B%0D%0A%20%20%20%20%20%20const%20sprite%20%3D%20vm.runtime.getSpriteTargetByName(target)%3B%0D%0A%20%20%20%20%20%20if%20(!sprite)%20return%3B%0D%0A%20%20%20%20%20%20cameraX%20%3D%20Math.round(sprite.x)%3B%0D%0A%20%20%20%20%20%20cameraY%20%3D%20Math.round(sprite.y)%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20pointTowards(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.Cast.toString(args.sprite)%3B%0D%0A%20%20%20%20%20%20const%20sprite%20%3D%20vm.runtime.getSpriteTargetByName(target)%3B%0D%0A%20%20%20%20%20%20if%20(!sprite)%20return%3B%0D%0A%20%20%20%20%20%20const%20targetX%20%3D%20sprite.x%3B%0D%0A%20%20%20%20%20%20const%20targetY%20%3D%20sprite.y%3B%0D%0A%20%20%20%20%20%20const%20dx%20%3D%20targetX%20-%20cameraX%3B%0D%0A%20%20%20%20%20%20const%20dy%20%3D%20targetY%20-%20cameraY%3B%0D%0A%20%20%20%20%20%20cameraDirection%20%3D%2090%20-%20this.radToDeg(Math.atan2(dy%2C%20dx))%3B%0D%0A%20%20%20%20%20%20updateCamera()%3B%0D%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20radToDeg(rad)%20%7B%0D%0A%20%20%20%20%20%20return%20(rad%20*%20180)%20%2F%20Math.PI%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20Camera())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Box2D%20Physics%0D%0A%2F%2F%20ID%3A%20griffpatch%0D%0A%2F%2F%20Description%3A%20Two%20dimensional%20physics.%0D%0A%2F%2F%20Original%3A%20griffpatch%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2Fgriffpatch%2F%3E%0D%0A%2F%2F%20License%3A%20BSD-3-Clause%20AND%20MIT%20AND%20Zlib%0D%0A%0D%0A%2F*!%0D%0A%20*%20This%20is%20based%20on%20https%3A%2F%2Fgithub.com%2Fgriffpatch%2Fscratch-vm%2Ftree%2Fbox2d%2Fsrc%2Fextensions%2Fscratch3_griffpatch%0D%0A%20*%20by%20griffpatch%2C%20which%20has%20this%20license%20attached%3A%0D%0A%20*%0D%0A%20*%20Copyright%20(c)%202016%2C%20Massachusetts%20Institute%20of%20Technology%0D%0A%20*%20All%20rights%20reserved.%0D%0A%20*%0D%0A%20*%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0D%0A%20*%0D%0A%20*%201.%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer.%0D%0A%20*%0D%0A%20*%202.%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%20and%2For%20other%20materials%20provided%20with%20the%20distribution.%0D%0A%20*%0D%0A%20*%203.%20Neither%20the%20name%20of%20the%20copyright%20holder%20nor%20the%20names%20of%20its%20contributors%20may%20be%20used%20to%20endorse%20or%20promote%20products%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission.%0D%0A%20*%0D%0A%20*%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%20DISCLAIMED.%20IN%20NO%20EVENT%20SHALL%20THE%20COPYRIGHT%20HOLDER%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20(INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION)%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20(INCLUDING%20NEGLIGENCE%20OR%20OTHERWISE)%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE.%0D%0A%20*%2F%0D%0A%0D%0A%2F*%20eslint-disable%20*%2F%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22it%22%3A%7B%22griffpatch.applyAngForce%22%3A%22ruota%20con%20forza%20%5Bforce%5D%22%2C%22griffpatch.applyForce%22%3A%22spingi%20con%20forza%20%5Bforce%5D%20in%20direzione%20%5Bdir%5D%22%2C%22griffpatch.categoryName%22%3A%22Fisica%22%2C%22griffpatch.changeScroll%22%3A%22cambia%20scorrimento%20di%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%22griffpatch.changeVelocity%22%3A%22cambia%20velocit%C3%A0%20di%20vx%3A%20%5Bsx%5D%20vy%3A%20%5Bsy%5D%22%2C%22griffpatch.disablePhysics%22%3A%22disattiva%20gestione%20della%20fisica%20per%20questo%20sprite%22%2C%22griffpatch.doTick%22%3A%22esegui%20un%20passo%20della%20simulazione%22%2C%22griffpatch.getAngVelocity%22%3A%22velocit%C3%A0%20angolare%22%2C%22griffpatch.getDensity%22%3A%22densit%C3%A0%22%2C%22griffpatch.getFriction%22%3A%22attrito%22%2C%22griffpatch.getGravityX%22%3A%22gravit%C3%A0%20x%22%2C%22griffpatch.getGravityY%22%3A%22gravit%C3%A0%20y%22%2C%22griffpatch.getRestitution%22%3A%22elasticit%C3%A0%22%2C%22griffpatch.getScrollX%22%3A%22scorrimento%20x%22%2C%22griffpatch.getScrollY%22%3A%22scorrimento%20y%22%2C%22griffpatch.getStatic%22%3A%22fisso%22%2C%22griffpatch.getTickRate%22%3A%22passi%20simulazione%22%2C%22griffpatch.getTouching%22%3A%22sprite%20a%20contatto%20con%20%5Bwhere%5D%22%2C%22griffpatch.getVelocityX%22%3A%22velocit%C3%A0%20x%22%2C%22griffpatch.getVelocityY%22%3A%22velocit%C3%A0%20y%22%2C%22griffpatch.setAngVelocity%22%3A%22porta%20velocit%C3%A0%20angolare%20a%20%5Bforce%5D%22%2C%22griffpatch.setDensity%22%3A%22imposta%20densit%C3%A0%20a%20%5Bdensity%5D%22%2C%22griffpatch.setDensityValue%22%3A%22imposta%20densit%C3%A0%20a%20%5Bdensity%5D%22%2C%22griffpatch.setFriction%22%3A%22imposta%20attrito%20a%20%5Bfriction%5D%22%2C%22griffpatch.setFrictionValue%22%3A%22imposta%20attrito%20a%20%5Bfriction%5D%22%2C%22griffpatch.setGravity%22%3A%22imposta%20gravit%C3%A0%20a%20x%3A%20%5Bgx%5D%20y%3A%20%5Bgy%5D%22%2C%22griffpatch.setPhysics%22%3A%22abilita%20modalit%C3%A0%20%5Bmode%5D%20per%20le%20forme%20%5Bshape%5D%22%2C%22griffpatch.setPosition%22%3A%22vai%20a%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%20di%20%5Bspace%5D%22%2C%22griffpatch.setProperties%22%3A%22imposta%20densit%C3%A0%20%5Bdensity%5D%20attrito%20%5Bfriction%5D%20elasticit%C3%A0%20%5Brestitution%5D%22%2C%22griffpatch.setRestitution%22%3A%22imposta%20elasticit%C3%A0%20a%20%5Brestitution%5D%22%2C%22griffpatch.setRestitutionValue%22%3A%22imposta%20elasticit%C3%A0%20a%20%5Brestitution%5D%22%2C%22griffpatch.setScroll%22%3A%22imposta%20scorrimento%20a%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%22griffpatch.setStage%22%3A%22imposta%20i%20bordi%20dello%20stage%20a%20%5BstageType%5D%22%2C%22griffpatch.setStatic%22%3A%22usa%20modalit%C3%A0%20%5Bstatic%5D%22%2C%22griffpatch.setTickRate%22%3A%22imposta%20passi%20simulazione%20a%20%5Brate%5D%2Fs%22%2C%22griffpatch.setVelocity%22%3A%22porta%20velocit%C3%A0%20a%20vx%3A%20%5Bsx%5D%20vy%3A%20%5Bsy%5D%22%7D%2C%22nb%22%3A%7B%22griffpatch.applyAngForce%22%3A%22spinn%20med%20kraft%20%5Bforce%5D%22%2C%22griffpatch.applyForce%22%3A%22skyv%20med%20kraft%20%5Bforce%5D%20i%20retning%20%5Bdir%5D%22%2C%22griffpatch.categoryName%22%3A%22Fysikk%22%2C%22griffpatch.changeScroll%22%3A%22endre%20rulling%20med%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%22griffpatch.changeVelocity%22%3A%22endre%20hastighet%20med%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%2C%22griffpatch.disablePhysics%22%3A%22deaktiver%20fysikk%20for%20denne%20figuren%22%2C%22griffpatch.doTick%22%3A%22trinn%20simulering%22%2C%22griffpatch.getAngVelocity%22%3A%22vinkelhastighet%22%2C%22griffpatch.getDensity%22%3A%22tetthet%22%2C%22griffpatch.getFriction%22%3A%22friksjon%22%2C%22griffpatch.getGravityX%22%3A%22tyngdekraft%20x%22%2C%22griffpatch.getGravityY%22%3A%22tyngdekraft%20y%22%2C%22griffpatch.getRestitution%22%3A%22sprette%22%2C%22griffpatch.getScrollX%22%3A%22x%20rulle%22%2C%22griffpatch.getScrollY%22%3A%22y%20rulle%22%2C%22griffpatch.getStatic%22%3A%22fikset%3F%22%2C%22griffpatch.getTickRate%22%3A%22simuleringshastighet%22%2C%22griffpatch.getVelocityX%22%3A%22x%20hastighet%22%2C%22griffpatch.getVelocityY%22%3A%22y%20hastighet%22%2C%22griffpatch.setAngVelocity%22%3A%22sett%20angul%C3%A6r%20hastighet%20til%20%5Bforce%5D%22%2C%22griffpatch.setDensity%22%3A%22sett%20tettheten%20til%20%5Bdensity%5D%22%2C%22griffpatch.setDensityValue%22%3A%22sett%20tettheten%20til%20%5Bdensity%5D%22%2C%22griffpatch.setFriction%22%3A%22sett%20friksjon%20til%20%5Bfriction%5D%22%2C%22griffpatch.setFrictionValue%22%3A%22sett%20friksjon%20til%20%5Bfriction%5D%22%2C%22griffpatch.setGravity%22%3A%22sett%20tyngdekraften%20til%20x%3A%20%5Bgx%5D%20y%3A%20%5Bgy%5D%22%2C%22griffpatch.setPhysics%22%3A%22aktiver%20for%20%5Bshape%5D%20modus%20%5Bmode%5D%22%2C%22griffpatch.setPosition%22%3A%22g%C3%A5%20til%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%20%5Bspace%5D%22%2C%22griffpatch.setProperties%22%3A%22sett%20tetthet%20%5Bdensity%5D%20ruhet%20%5Bfriction%5D%20sprett%20%5Brestitution%5D%22%2C%22griffpatch.setRestitution%22%3A%22sett%20sprett%20til%20%5Brestitution%5D%22%2C%22griffpatch.setRestitutionValue%22%3A%22sett%20sprett%20til%20%5Brestitution%5D%22%2C%22griffpatch.setScroll%22%3A%22sett%20rulle%20til%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%22griffpatch.setStage%22%3A%22sett%20scenegrensene%20til%20%5BstageType%5D%22%2C%22griffpatch.setStatic%22%3A%22set%20fikset%20til%20%5Bstatic%5D%22%2C%22griffpatch.setTickRate%22%3A%22sett%20simuleringstakten%20til%20%5Brate%5D%2Fs%22%2C%22griffpatch.setVelocity%22%3A%22sett%20hastighet%20til%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%7D%2C%22nl%22%3A%7B%22griffpatch.applyAngForce%22%3A%22draai%20met%20kracht%20%5Bforce%5D%22%2C%22griffpatch.applyForce%22%3A%22duw%20met%20kracht%20%5Bforce%5D%20in%20richting%20%5Bdir%5D%22%2C%22griffpatch.categoryName%22%3A%22Fysica-simulatie%22%2C%22griffpatch.changeScroll%22%3A%22verander%20scroll%20met%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%22griffpatch.changeVelocity%22%3A%22verander%20snelheid%20met%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%2C%22griffpatch.disablePhysics%22%3A%22zet%20simulatie%20uit%20voor%20deze%20sprite%22%2C%22griffpatch.doTick%22%3A%22voer%20simulatie%20%C3%A9%C3%A9n%20keer%20uit%22%2C%22griffpatch.getAngVelocity%22%3A%22hoeksnelheid%22%2C%22griffpatch.getDensity%22%3A%22dichtheid%22%2C%22griffpatch.getFriction%22%3A%22wrijving%22%2C%22griffpatch.getGravityX%22%3A%22zwaartekracht%20x%22%2C%22griffpatch.getGravityY%22%3A%22zwaartekracht%20y%22%2C%22griffpatch.getRestitution%22%3A%22stuiterkracht%22%2C%22griffpatch.getScrollX%22%3A%22x-scroll%22%2C%22griffpatch.getScrollY%22%3A%22y-scroll%22%2C%22griffpatch.getStatic%22%3A%22vastgezet%3F%22%2C%22griffpatch.getTickRate%22%3A%22simulatiefrequentie%22%2C%22griffpatch.getTouching%22%3A%22alle%20sprites%20die%20%5Bwhere%5D%20aanraken%22%2C%22griffpatch.getVelocityX%22%3A%22snelheid%20x%22%2C%22griffpatch.getVelocityY%22%3A%22snelheid%20y%22%2C%22griffpatch.setAngVelocity%22%3A%22maak%20hoeksnelheid%20%5Bforce%5D%22%2C%22griffpatch.setDensity%22%3A%22maak%20dichtheid%20%5Bdensity%5D%22%2C%22griffpatch.setDensityValue%22%3A%22maak%20dichtheid%20%5Bdensity%5D%22%2C%22griffpatch.setFriction%22%3A%22maak%20wrijving%20%5Bfriction%5D%22%2C%22griffpatch.setFrictionValue%22%3A%22maak%20wrijving%20%5Bfriction%5D%22%2C%22griffpatch.setGravity%22%3A%22stel%20zwaartekracht%20in%20op%20x%3A%20%5Bgx%5D%20y%3A%20%5Bgy%5D%22%2C%22griffpatch.setPhysics%22%3A%22schakel%20voor%20%5Bshape%5D%20de%20stand%20%5Bmode%5D%20in%22%2C%22griffpatch.setPosition%22%3A%22ga%20naar%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%20%5Bspace%5D%22%2C%22griffpatch.setProperties%22%3A%22maak%20dichtheid%20%5Bdensity%5D%2C%20wrijving%20%5Bfriction%5D%20en%20stuiterkracht%20%5Brestitution%5D%22%2C%22griffpatch.setRestitution%22%3A%22maak%20stuiterkracht%20%5Brestitution%5D%22%2C%22griffpatch.setRestitutionValue%22%3A%22maak%20stuiterkracht%20%5Brestitution%5D%22%2C%22griffpatch.setScroll%22%3A%22stel%20scroll%20in%20op%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%22griffpatch.setStage%22%3A%22maak%20grenstype%20%5BstageType%5D%22%2C%22griffpatch.setStatic%22%3A%22maak%20vastzettype%20%5Bstatic%5D%22%2C%22griffpatch.setTickRate%22%3A%22maak%20simulatiefrequentie%20%5Brate%5D%20%2F%20sec%22%2C%22griffpatch.setVelocity%22%3A%22stel%20snelheid%20in%20op%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%7D%2C%22ru%22%3A%7B%22griffpatch.applyAngForce%22%3A%22%D0%BA%D1%80%D1%83%D1%82%D0%B8%D1%82%D1%8C%20%D1%81%20%D1%81%D0%B8%D0%BB%D0%BE%D0%B9%20%5Bforce%5D%22%2C%22griffpatch.applyForce%22%3A%22%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B8%D1%82%D1%8C%20%D1%81%D0%B8%D0%BB%D1%83%20%5Bforce%5D%20%D0%B2%20%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B8%20%5Bdir%5D%22%2C%22griffpatch.categoryName%22%3A%22%D0%A4%D0%B8%D0%B7%D0%B8%D0%BA%D0%B0%22%2C%22griffpatch.changeScroll%22%3A%22%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D1%80%D0%BE%D0%BB%D0%BB%20%D0%BD%D0%B0%20x%3A%5Box%5D%20y%3A%5Boy%5D%22%2C%22griffpatch.changeVelocity%22%3A%22%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D0%BD%D0%B0%20sx%3A%5Bsx%5Dsy%3A%5Bsy%5D%20%22%2C%22griffpatch.disablePhysics%22%3A%22%D0%B2%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA%D1%83%20%D0%B4%D0%BB%D1%8F%20%D1%8D%D1%82%D0%BE%D0%B3%D0%BE%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%22%2C%22griffpatch.doTick%22%3A%22%D1%88%D0%B0%D0%B3%D0%BD%D1%83%D1%82%D1%8C%20%D1%81%D0%B8%D0%BC%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D1%8E%22%2C%22griffpatch.getAngVelocity%22%3A%22%D1%83%D0%B3%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%22%2C%22griffpatch.getDensity%22%3A%22%D0%BF%D0%BB%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%22%2C%22griffpatch.getFriction%22%3A%22%D1%82%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%22%2C%22griffpatch.getGravityX%22%3A%22%D0%B3%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D0%B0%D1%86%D0%B8%D1%8F%20x%22%2C%22griffpatch.getGravityY%22%3A%22%D0%B3%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D0%B0%D1%86%D0%B8%D1%8F%20y%22%2C%22griffpatch.getRestitution%22%3A%22%D1%83%D0%BF%D1%80%D1%83%D0%B3%D0%BE%D1%81%D1%82%D1%8C%22%2C%22griffpatch.getScrollX%22%3A%22%D1%81%D0%BA%D1%80%D0%BE%D0%BB%D0%BB%20x%22%2C%22griffpatch.getScrollY%22%3A%22%D1%81%D0%BA%D1%80%D0%BE%D0%BB%D0%BB%20y%22%2C%22griffpatch.getStatic%22%3A%22%D0%B7%D0%B0%D1%84%D0%B8%D0%BA%D1%81%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%3F%22%2C%22griffpatch.getTickRate%22%3A%22%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D1%81%D0%B8%D0%BC%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D0%B8%22%2C%22griffpatch.getTouching%22%3A%22%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%20%D0%BA%D0%B0%D1%81%D0%B0%D1%8E%D1%89%D0%B8%D1%85%D1%81%D1%8F%20%5Bwhere%5D%22%2C%22griffpatch.getVelocityX%22%3A%22%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20x%22%2C%22griffpatch.getVelocityY%22%3A%22%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20y%22%2C%22griffpatch.setAngVelocity%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%83%D0%B3%D0%BB%D0%BE%D0%B2%D1%83%D1%8E%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D0%B2%20%5Bforce%5D%22%2C%22griffpatch.setDensity%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D0%BB%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B2%20%5Bdensity%5D%22%2C%22griffpatch.setDensityValue%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D0%BB%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B2%20%5Bdensity%5D%22%2C%22griffpatch.setFriction%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%82%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%20%5Bfriction%5D%22%2C%22griffpatch.setFrictionValue%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%82%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%20%5Bfriction%5D%22%2C%22griffpatch.setGravity%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B3%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D0%B0%D1%86%D0%B8%D1%8E%20%D0%B2%20x%3A%5Bgx%5D%20y%3A%5Bgy%5D%22%2C%22griffpatch.setPhysics%22%3A%22%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20%5Bshape%5D%20%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%20%5Bmode%5D%22%2C%22griffpatch.setPosition%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8%20%D0%B2%20x%3A%5Bx%5D%20y%3A%5By%5D%20%5Bspace%5D%22%2C%22griffpatch.setProperties%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D0%BB%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%5Bdensity%5D%20%D1%82%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%20%5Bfriction%5D%20%D1%83%D0%BF%D1%80%D1%83%D0%B3%D0%BE%D1%81%D1%82%D1%8C%20%5Brestitution%5D%22%2C%22griffpatch.setRestitution%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%83%D0%BF%D1%80%D1%83%D0%B3%D0%BE%D1%81%D1%82%D1%8C%20%D0%B2%20%5Brestitution%5D%22%2C%22griffpatch.setRestitutionValue%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%83%D0%BF%D1%80%D1%83%D0%B3%D0%BE%D1%81%D1%82%D1%8C%20%D0%B2%20%5Brestitution%5D%22%2C%22griffpatch.setScroll%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D1%80%D0%BE%D0%BB%D0%BB%20%D0%B2%20x%3A%5Box%5D%20y%3A%5Boy%5D%22%2C%22griffpatch.setStage%22%3A%22%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%8B%20%D1%81%D1%86%D0%B5%D0%BD%D1%8B%20%D0%BA%D0%B0%D0%BA%20%5BstageType%5D%22%2C%22griffpatch.setStatic%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%82%D0%B8%D0%BF%20%D1%84%D0%B8%D0%BA%D1%81%D0%B0%D1%86%D0%B8%D0%B8%20%D0%BA%D0%B0%D0%BA%20%5Bstatic%5D%22%2C%22griffpatch.setTickRate%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D1%81%D0%B8%D0%BC%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D0%B8%20%D0%B2%20%5Brate%5D%2F%D1%81%D0%B5%D0%BA%22%2C%22griffpatch.setVelocity%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D0%B2%20sx%3A%5Bsx%5Dsy%3A%5Bsy%5D%22%7D%2C%22zh-cn%22%3A%7B%22griffpatch.applyAngForce%22%3A%22%E6%97%8B%E8%BD%AC%5Bforce%5D%E5%BA%A6%22%2C%22griffpatch.applyForce%22%3A%22%E5%9C%A8%E6%96%B9%E5%90%91%5Bdir%5D%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%A4%A7%E5%B0%8F%E4%B8%BA%5Bforce%5D%E7%9A%84%E5%8A%9B%22%2C%22griffpatch.categoryName%22%3A%22%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E%22%2C%22griffpatch.changeScroll%22%3A%22%E8%BE%B9%E7%95%8Cx%E5%A2%9E%E5%8A%A0%5Box%5D%20y%E5%A2%9E%E5%8A%A0%5Boy%5D%22%2C%22griffpatch.changeVelocity%22%3A%22%E8%A7%92%E8%89%B2%E9%87%8D%E5%8A%9B%E6%96%B9%E5%90%91%E5%A2%9E%E5%8A%A0%20sx%5Bsx%5D%20sy%5Bsy%5D%22%2C%22griffpatch.disablePhysics%22%3A%22%E5%8F%96%E6%B6%88%E8%BF%99%E4%B8%AA%E8%A7%92%E8%89%B2%E7%9A%84%E7%89%A9%E7%90%86%E6%95%88%E6%9E%9C%22%2C%22griffpatch.doTick%22%3A%22%E9%80%90%E6%AD%A5%E6%A8%A1%E6%8B%9F%22%2C%22griffpatch.getAngVelocity%22%3A%22%E8%A7%92%E9%80%9F%E5%BA%A6%22%2C%22griffpatch.getDensity%22%3A%22%E5%AF%86%E5%BA%A6%22%2C%22griffpatch.getFriction%22%3A%22%E6%91%A9%E6%93%A6%E5%8A%9B%22%2C%22griffpatch.getGravityX%22%3A%22%E9%87%8D%E5%8A%9B%E6%96%B9%E5%90%91x%E5%9D%90%E6%A0%87%22%2C%22griffpatch.getGravityY%22%3A%22%E9%87%8D%E5%8A%9B%E6%96%B9%E5%90%91y%E5%9D%90%E6%A0%87%22%2C%22griffpatch.getRestitution%22%3A%22%E5%BC%B9%E6%80%A7%22%2C%22griffpatch.getScrollX%22%3A%22x%E8%BE%B9%E7%95%8C%22%2C%22griffpatch.getScrollY%22%3A%22y%E8%BE%B9%E7%95%8C%22%2C%22griffpatch.getStatic%22%3A%22%E4%B8%8D%E8%83%BD%E7%A7%BB%E5%8A%A8%EF%BC%9F%22%2C%22griffpatch.getTickRate%22%3A%22%E6%AF%8F%E7%A7%92%E6%A8%A1%E6%8B%9F%E6%AC%A1%E6%95%B0%22%2C%22griffpatch.getTouching%22%3A%22%E8%A7%92%E8%89%B2%5Bwhere%5D%E6%89%80%E6%8E%A5%E8%A7%A6%E7%9A%84%E5%85%B6%E4%BB%96%E8%A7%92%E8%89%B2%22%2C%22griffpatch.getVelocityX%22%3A%22%E8%A7%92%E8%89%B2%E9%87%8D%E5%8A%9Bx%E6%96%B9%E5%90%91%22%2C%22griffpatch.getVelocityY%22%3A%22%E8%A7%92%E8%89%B2%E9%87%8D%E5%8A%9By%E6%96%B9%E5%90%91%22%2C%22griffpatch.setAngVelocity%22%3A%22%E8%AE%BE%E7%BD%AE%E8%A7%92%E8%89%B2%E8%A7%92%E9%80%9F%E5%BA%A6%E4%B8%BA%5Bforce%5D%22%2C%22griffpatch.setDensity%22%3A%22%E8%AE%BE%E7%BD%AE%E5%AF%86%E5%BA%A6%E4%B8%BA%5Bdensity%5D%22%2C%22griffpatch.setDensityValue%22%3A%22%E8%AE%BE%E7%BD%AE%E5%AF%86%E5%BA%A6%E4%B8%BA%5Bdensity%5D%20%22%2C%22griffpatch.setFriction%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%A9%E6%93%A6%E5%8A%9B%E4%B8%BA%5Bfriction%5D%22%2C%22griffpatch.setFrictionValue%22%3A%22%E8%AE%BE%E7%BD%AE%E6%91%A9%E6%93%A6%E5%8A%9B%E4%B8%BA%5Bfriction%5D%20%22%2C%22griffpatch.setGravity%22%3A%22%E8%AE%BE%E7%BD%AE%E9%87%8D%E5%8A%9B%E6%96%B9%E5%90%91%E4%B8%BAx%5Bgx%5D%20y%5Bgy%5D%22%2C%22griffpatch.setPhysics%22%3A%22%E8%AE%BE%E7%BD%AE%5Bshape%5D%E7%9A%84%E7%89%A9%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B8%BA%5Bmode%5D%22%2C%22griffpatch.setPosition%22%3A%22%E5%9C%A8%5Bspace%5D%E5%89%8D%E5%BE%80x%5Bx%5D%20y%5By%5D%22%2C%22griffpatch.setProperties%22%3A%22%E8%AE%BE%E7%BD%AE%E5%AF%86%E5%BA%A6%E4%B8%BA%5Bdensity%5D%20%E6%91%A9%E6%93%A6%E5%8A%9B%E4%B8%BA%5Bfriction%5D%20%E5%BC%B9%E6%80%A7%E4%B8%BA%5Brestitution%5D%22%2C%22griffpatch.setRestitution%22%3A%22%E8%AE%BE%E7%BD%AE%E5%BC%B9%E6%80%A7%E4%B8%BA%5Brestitution%5D%22%2C%22griffpatch.setRestitutionValue%22%3A%22%E8%AE%BE%E7%BD%AE%E5%BC%B9%E6%80%A7%E4%B8%BA%5Brestitution%5D%20%22%2C%22griffpatch.setScroll%22%3A%22%E8%AE%BE%E7%BD%AE%E8%BE%B9%E7%95%8C%E4%B8%BA%20x%5Box%5D%20y%5Boy%5D%22%2C%22griffpatch.setStage%22%3A%22%E8%AE%BE%E7%BD%AE%E8%88%9E%E5%8F%B0%E7%B1%BB%E5%9E%8B%E4%B8%BA%5BstageType%5D%22%2C%22griffpatch.setStatic%22%3A%22%E8%AE%BE%E7%BD%AE%E7%A7%BB%E5%8A%A8%E6%A8%A1%E5%BC%8F%E4%B8%BA%5Bstatic%5D%22%2C%22griffpatch.setTickRate%22%3A%22%E8%AE%BE%E7%BD%AE%E6%AF%8F%E7%A7%92%E6%A8%A1%E6%8B%9F%E6%AC%A1%E6%95%B0%E4%B8%BA%5Brate%5D%22%2C%22griffpatch.setVelocity%22%3A%22%E8%AE%BE%E7%BD%AE%E8%A7%92%E8%89%B2%E9%87%8D%E5%8A%9B%E6%96%B9%E5%90%91%E4%B8%BA%20sx%5Bsx%5D%20sy%20%5Bsy%5D%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0D%0A%20%20%20%20throw%20new%20Error(%22Box2D%20must%20be%20run%20unsandboxed%22)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20First%20we%20need%20to%20load%20the%20Box2D%20physics%20library%20that%20this%20extension%20uses.%0D%0A%20%20%2F%2F%20It's%20not%20currently%20advised%20to%20load%20more%20scripts%20in%20custom%20extensions%2C%20so%20we%20copied%20and%20pasted%0D%0A%20%20%2F%2F%20the%20source%20code%20below.%20Yes%2C%20this%20is%20really%20ugly.%0D%0A%0D%0A%20%20%2F*!%0D%0A%20%20%20*%20Copyright%20(c)%202006-2007%20Erin%20Catto%20http%3A%2F%2Fwww.gphysics.com%0D%0A%20%20%20*%0D%0A%20%20%20*%20This%20software%20is%20provided%20'as-is'%2C%20without%20any%20express%20or%20implied%0D%0A%20%20%20*%20warranty.%20%20In%20no%20event%20will%20the%20authors%20be%20held%20liable%20for%20any%20damages%0D%0A%20%20%20*%20arising%20from%20the%20use%20of%20this%20software.%0D%0A%20%20%20*%20Permission%20is%20granted%20to%20anyone%20to%20use%20this%20software%20for%20any%20purpose%2C%0D%0A%20%20%20*%20including%20commercial%20applications%2C%20and%20to%20alter%20it%20and%20redistribute%20it%0D%0A%20%20%20*%20freely%2C%20subject%20to%20the%20following%20restrictions%3A%0D%0A%20%20%20*%201.%20The%20origin%20of%20this%20software%20must%20not%20be%20misrepresented%3B%20you%20must%20not%0D%0A%20%20%20*%20claim%20that%20you%20wrote%20the%20original%20software.%20If%20you%20use%20this%20software%0D%0A%20%20%20*%20in%20a%20product%2C%20an%20acknowledgment%20in%20the%20product%20documentation%20would%20be%0D%0A%20%20%20*%20appreciated%20but%20is%20not%20required.%0D%0A%20%20%20*%202.%20Altered%20source%20versions%20must%20be%20plainly%20marked%20as%20such%2C%20and%20must%20not%20be%0D%0A%20%20%20*%20misrepresented%20as%20being%20the%20original%20software.%0D%0A%20%20%20*%203.%20This%20notice%20may%20not%20be%20removed%20or%20altered%20from%20any%20source%20distribution.%0D%0A%20%20%20*%2F%0D%0A%0D%0A%20%20var%20Box2D%20%3D%20%7B%7D%3B%0D%0A%20%20(function%20(a2j%2C%20undefined)%20%7B%0D%0A%20%20%20%20function%20emptyFn()%20%7B%7D%0D%0A%20%20%20%20a2j.inherit%20%3D%20function%20(cls%2C%20base)%20%7B%0D%0A%20%20%20%20%20%20var%20tmpCtr%20%3D%20cls%3B%0D%0A%20%20%20%20%20%20emptyFn.prototype%20%3D%20base.prototype%3B%0D%0A%20%20%20%20%20%20cls.prototype%20%3D%20new%20emptyFn()%3B%0D%0A%20%20%20%20%20%20cls.prototype.constructor%20%3D%20tmpCtr%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20a2j.generateCallback%20%3D%20function%20generateCallback(context%2C%20cb)%20%7B%0D%0A%20%20%20%20%20%20return%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20cb.apply(context%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20a2j.NVector%20%3D%20function%20NVector(length)%20%7B%0D%0A%20%20%20%20%20%20if%20(length%20%3D%3D%3D%20undefined)%20length%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tmp%20%3D%20new%20Array(length%20%7C%7C%200)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20length%3B%20%2B%2Bi)%20tmp%5Bi%5D%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20tmp%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20a2j.is%20%3D%20function%20is(o1%2C%20o2)%20%7B%0D%0A%20%20%20%20%20%20if%20(o1%20%3D%3D%3D%20null)%20return%20false%3B%0D%0A%20%20%20%20%20%20if%20(o2%20instanceof%20Function%20%26%26%20o1%20instanceof%20o2)%20return%20true%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20o1.constructor.__implements%20!%3D%20undefined%20%26%26%0D%0A%20%20%20%20%20%20%20%20o1.constructor.__implements%5Bo2%5D%0D%0A%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20a2j.parseUInt%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20return%20Math.abs(parseInt(v))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D)(Box2D)%3B%0D%0A%0D%0A%20%20%2F%2F%23TODO%20remove%20assignments%20from%20global%20namespace%0D%0A%20%20var%20Vector%20%3D%20Array%3B%0D%0A%20%20var%20Vector_a2j_Number%20%3D%20Box2D.NVector%3B%0D%0A%20%20%2F%2Fpackage%20structure%0D%0A%20%20if%20(typeof%20Box2D%20%3D%3D%3D%20%22undefined%22)%20Box2D%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Collision%20%3D%3D%3D%20%22undefined%22)%20Box2D.Collision%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Collision.Shapes%20%3D%3D%3D%20%22undefined%22)%0D%0A%20%20%20%20Box2D.Collision.Shapes%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Common%20%3D%3D%3D%20%22undefined%22)%20Box2D.Common%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Common.Math%20%3D%3D%3D%20%22undefined%22)%20Box2D.Common.Math%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Dynamics%20%3D%3D%3D%20%22undefined%22)%20Box2D.Dynamics%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Dynamics.Contacts%20%3D%3D%3D%20%22undefined%22)%0D%0A%20%20%20%20Box2D.Dynamics.Contacts%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Dynamics.Controllers%20%3D%3D%3D%20%22undefined%22)%0D%0A%20%20%20%20Box2D.Dynamics.Controllers%20%3D%20%7B%7D%3B%0D%0A%20%20if%20(typeof%20Box2D.Dynamics.Joints%20%3D%3D%3D%20%22undefined%22)%20Box2D.Dynamics.Joints%20%3D%20%7B%7D%3B%0D%0A%20%20%2F%2Fpre-definitions%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20Box2D.Collision.IBroadPhase%20%3D%20%22Box2D.Collision.IBroadPhase%22%3B%0D%0A%0D%0A%20%20%20%20function%20b2AABB()%20%7B%0D%0A%20%20%20%20%20%20b2AABB.b2AABB.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2AABB%20%3D%20b2AABB%3B%0D%0A%0D%0A%20%20%20%20function%20b2Bound()%20%7B%0D%0A%20%20%20%20%20%20b2Bound.b2Bound.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Bound%20%3D%20b2Bound%3B%0D%0A%0D%0A%20%20%20%20function%20b2BoundValues()%20%7B%0D%0A%20%20%20%20%20%20b2BoundValues.b2BoundValues.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2BoundValues)%0D%0A%20%20%20%20%20%20%20%20this.b2BoundValues.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2BoundValues%20%3D%20b2BoundValues%3B%0D%0A%0D%0A%20%20%20%20function%20b2Collision()%20%7B%0D%0A%20%20%20%20%20%20b2Collision.b2Collision.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Collision%20%3D%20b2Collision%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactID()%20%7B%0D%0A%20%20%20%20%20%20b2ContactID.b2ContactID.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactID)%0D%0A%20%20%20%20%20%20%20%20this.b2ContactID.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2ContactID%20%3D%20b2ContactID%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactPoint()%20%7B%0D%0A%20%20%20%20%20%20b2ContactPoint.b2ContactPoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2ContactPoint%20%3D%20b2ContactPoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2Distance()%20%7B%0D%0A%20%20%20%20%20%20b2Distance.b2Distance.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Distance%20%3D%20b2Distance%3B%0D%0A%0D%0A%20%20%20%20function%20b2DistanceInput()%20%7B%0D%0A%20%20%20%20%20%20b2DistanceInput.b2DistanceInput.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DistanceInput%20%3D%20b2DistanceInput%3B%0D%0A%0D%0A%20%20%20%20function%20b2DistanceOutput()%20%7B%0D%0A%20%20%20%20%20%20b2DistanceOutput.b2DistanceOutput.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DistanceOutput%20%3D%20b2DistanceOutput%3B%0D%0A%0D%0A%20%20%20%20function%20b2DistanceProxy()%20%7B%0D%0A%20%20%20%20%20%20b2DistanceProxy.b2DistanceProxy.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DistanceProxy%20%3D%20b2DistanceProxy%3B%0D%0A%0D%0A%20%20%20%20function%20b2DynamicTree()%20%7B%0D%0A%20%20%20%20%20%20b2DynamicTree.b2DynamicTree.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DynamicTree)%0D%0A%20%20%20%20%20%20%20%20this.b2DynamicTree.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DynamicTree%20%3D%20b2DynamicTree%3B%0D%0A%0D%0A%20%20%20%20function%20b2DynamicTreeBroadPhase()%20%7B%0D%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase.b2DynamicTreeBroadPhase.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DynamicTreeBroadPhase%20%3D%20b2DynamicTreeBroadPhase%3B%0D%0A%0D%0A%20%20%20%20function%20b2DynamicTreeNode()%20%7B%0D%0A%20%20%20%20%20%20b2DynamicTreeNode.b2DynamicTreeNode.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DynamicTreeNode%20%3D%20b2DynamicTreeNode%3B%0D%0A%0D%0A%20%20%20%20function%20b2DynamicTreePair()%20%7B%0D%0A%20%20%20%20%20%20b2DynamicTreePair.b2DynamicTreePair.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2DynamicTreePair%20%3D%20b2DynamicTreePair%3B%0D%0A%0D%0A%20%20%20%20function%20b2Manifold()%20%7B%0D%0A%20%20%20%20%20%20b2Manifold.b2Manifold.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Manifold)%0D%0A%20%20%20%20%20%20%20%20this.b2Manifold.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Manifold%20%3D%20b2Manifold%3B%0D%0A%0D%0A%20%20%20%20function%20b2ManifoldPoint()%20%7B%0D%0A%20%20%20%20%20%20b2ManifoldPoint.b2ManifoldPoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ManifoldPoint)%0D%0A%20%20%20%20%20%20%20%20this.b2ManifoldPoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2ManifoldPoint%20%3D%20b2ManifoldPoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2Point()%20%7B%0D%0A%20%20%20%20%20%20b2Point.b2Point.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Point%20%3D%20b2Point%3B%0D%0A%0D%0A%20%20%20%20function%20b2RayCastInput()%20%7B%0D%0A%20%20%20%20%20%20b2RayCastInput.b2RayCastInput.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2RayCastInput)%0D%0A%20%20%20%20%20%20%20%20this.b2RayCastInput.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2RayCastInput%20%3D%20b2RayCastInput%3B%0D%0A%0D%0A%20%20%20%20function%20b2RayCastOutput()%20%7B%0D%0A%20%20%20%20%20%20b2RayCastOutput.b2RayCastOutput.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2RayCastOutput%20%3D%20b2RayCastOutput%3B%0D%0A%0D%0A%20%20%20%20function%20b2Segment()%20%7B%0D%0A%20%20%20%20%20%20b2Segment.b2Segment.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Segment%20%3D%20b2Segment%3B%0D%0A%0D%0A%20%20%20%20function%20b2SeparationFunction()%20%7B%0D%0A%20%20%20%20%20%20b2SeparationFunction.b2SeparationFunction.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2SeparationFunction%20%3D%20b2SeparationFunction%3B%0D%0A%0D%0A%20%20%20%20function%20b2Simplex()%20%7B%0D%0A%20%20%20%20%20%20b2Simplex.b2Simplex.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Simplex)%20this.b2Simplex.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2Simplex%20%3D%20b2Simplex%3B%0D%0A%0D%0A%20%20%20%20function%20b2SimplexCache()%20%7B%0D%0A%20%20%20%20%20%20b2SimplexCache.b2SimplexCache.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2SimplexCache%20%3D%20b2SimplexCache%3B%0D%0A%0D%0A%20%20%20%20function%20b2SimplexVertex()%20%7B%0D%0A%20%20%20%20%20%20b2SimplexVertex.b2SimplexVertex.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2SimplexVertex%20%3D%20b2SimplexVertex%3B%0D%0A%0D%0A%20%20%20%20function%20b2TimeOfImpact()%20%7B%0D%0A%20%20%20%20%20%20b2TimeOfImpact.b2TimeOfImpact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2TimeOfImpact%20%3D%20b2TimeOfImpact%3B%0D%0A%0D%0A%20%20%20%20function%20b2TOIInput()%20%7B%0D%0A%20%20%20%20%20%20b2TOIInput.b2TOIInput.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2TOIInput%20%3D%20b2TOIInput%3B%0D%0A%0D%0A%20%20%20%20function%20b2WorldManifold()%20%7B%0D%0A%20%20%20%20%20%20b2WorldManifold.b2WorldManifold.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2WorldManifold)%0D%0A%20%20%20%20%20%20%20%20this.b2WorldManifold.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.b2WorldManifold%20%3D%20b2WorldManifold%3B%0D%0A%0D%0A%20%20%20%20function%20ClipVertex()%20%7B%0D%0A%20%20%20%20%20%20ClipVertex.ClipVertex.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.ClipVertex%20%3D%20ClipVertex%3B%0D%0A%0D%0A%20%20%20%20function%20Features()%20%7B%0D%0A%20%20%20%20%20%20Features.Features.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Features%20%3D%20Features%3B%0D%0A%0D%0A%20%20%20%20function%20b2CircleShape()%20%7B%0D%0A%20%20%20%20%20%20b2CircleShape.b2CircleShape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2CircleShape)%0D%0A%20%20%20%20%20%20%20%20this.b2CircleShape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Shapes.b2CircleShape%20%3D%20b2CircleShape%3B%0D%0A%0D%0A%20%20%20%20function%20b2EdgeChainDef()%20%7B%0D%0A%20%20%20%20%20%20b2EdgeChainDef.b2EdgeChainDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2EdgeChainDef)%0D%0A%20%20%20%20%20%20%20%20this.b2EdgeChainDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Shapes.b2EdgeChainDef%20%3D%20b2EdgeChainDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2EdgeShape()%20%7B%0D%0A%20%20%20%20%20%20b2EdgeShape.b2EdgeShape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2EdgeShape)%0D%0A%20%20%20%20%20%20%20%20this.b2EdgeShape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Shapes.b2EdgeShape%20%3D%20b2EdgeShape%3B%0D%0A%0D%0A%20%20%20%20function%20b2MassData()%20%7B%0D%0A%20%20%20%20%20%20b2MassData.b2MassData.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Shapes.b2MassData%20%3D%20b2MassData%3B%0D%0A%0D%0A%20%20%20%20function%20b2PolygonShape()%20%7B%0D%0A%20%20%20%20%20%20b2PolygonShape.b2PolygonShape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PolygonShape)%0D%0A%20%20%20%20%20%20%20%20this.b2PolygonShape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Shapes.b2PolygonShape%20%3D%20b2PolygonShape%3B%0D%0A%0D%0A%20%20%20%20function%20b2Shape()%20%7B%0D%0A%20%20%20%20%20%20b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Shape)%20this.b2Shape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Collision.Shapes.b2Shape%20%3D%20b2Shape%3B%0D%0A%20%20%20%20Box2D.Common.b2internal%20%3D%20%22Box2D.Common.b2internal%22%3B%0D%0A%0D%0A%20%20%20%20function%20b2Color()%20%7B%0D%0A%20%20%20%20%20%20b2Color.b2Color.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Color)%20this.b2Color.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.b2Color%20%3D%20b2Color%3B%0D%0A%0D%0A%20%20%20%20function%20b2Settings()%20%7B%0D%0A%20%20%20%20%20%20b2Settings.b2Settings.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.b2Settings%20%3D%20b2Settings%3B%0D%0A%0D%0A%20%20%20%20function%20b2Mat22()%20%7B%0D%0A%20%20%20%20%20%20b2Mat22.b2Mat22.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Mat22)%20this.b2Mat22.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Mat22%20%3D%20b2Mat22%3B%0D%0A%0D%0A%20%20%20%20function%20b2Mat33()%20%7B%0D%0A%20%20%20%20%20%20b2Mat33.b2Mat33.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Mat33)%20this.b2Mat33.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Mat33%20%3D%20b2Mat33%3B%0D%0A%0D%0A%20%20%20%20function%20b2Math()%20%7B%0D%0A%20%20%20%20%20%20b2Math.b2Math.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Math%20%3D%20b2Math%3B%0D%0A%0D%0A%20%20%20%20function%20b2Sweep()%20%7B%0D%0A%20%20%20%20%20%20b2Sweep.b2Sweep.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Sweep%20%3D%20b2Sweep%3B%0D%0A%0D%0A%20%20%20%20function%20b2Transform()%20%7B%0D%0A%20%20%20%20%20%20b2Transform.b2Transform.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Transform)%0D%0A%20%20%20%20%20%20%20%20this.b2Transform.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Transform%20%3D%20b2Transform%3B%0D%0A%0D%0A%20%20%20%20function%20b2Vec2()%20%7B%0D%0A%20%20%20%20%20%20b2Vec2.b2Vec2.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Vec2)%20this.b2Vec2.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Vec2%20%3D%20b2Vec2%3B%0D%0A%0D%0A%20%20%20%20function%20b2Vec3()%20%7B%0D%0A%20%20%20%20%20%20b2Vec3.b2Vec3.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Vec3)%20this.b2Vec3.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Common.Math.b2Vec3%20%3D%20b2Vec3%3B%0D%0A%0D%0A%20%20%20%20function%20b2Body()%20%7B%0D%0A%20%20%20%20%20%20b2Body.b2Body.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Body)%20this.b2Body.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2Body%20%3D%20b2Body%3B%0D%0A%0D%0A%20%20%20%20function%20b2BodyDef()%20%7B%0D%0A%20%20%20%20%20%20b2BodyDef.b2BodyDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2BodyDef)%20this.b2BodyDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2BodyDef%20%3D%20b2BodyDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactFilter()%20%7B%0D%0A%20%20%20%20%20%20b2ContactFilter.b2ContactFilter.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2ContactFilter%20%3D%20b2ContactFilter%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactImpulse()%20%7B%0D%0A%20%20%20%20%20%20b2ContactImpulse.b2ContactImpulse.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2ContactImpulse%20%3D%20b2ContactImpulse%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactListener()%20%7B%0D%0A%20%20%20%20%20%20b2ContactListener.b2ContactListener.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2ContactListener%20%3D%20b2ContactListener%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactManager()%20%7B%0D%0A%20%20%20%20%20%20b2ContactManager.b2ContactManager.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactManager)%0D%0A%20%20%20%20%20%20%20%20this.b2ContactManager.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2ContactManager%20%3D%20b2ContactManager%3B%0D%0A%0D%0A%20%20%20%20function%20b2DebugDraw()%20%7B%0D%0A%20%20%20%20%20%20b2DebugDraw.b2DebugDraw.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DebugDraw)%0D%0A%20%20%20%20%20%20%20%20this.b2DebugDraw.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2DebugDraw%20%3D%20b2DebugDraw%3B%0D%0A%0D%0A%20%20%20%20function%20b2DestructionListener()%20%7B%0D%0A%20%20%20%20%20%20b2DestructionListener.b2DestructionListener.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2DestructionListener%20%3D%20b2DestructionListener%3B%0D%0A%0D%0A%20%20%20%20function%20b2FilterData()%20%7B%0D%0A%20%20%20%20%20%20b2FilterData.b2FilterData.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2FilterData%20%3D%20b2FilterData%3B%0D%0A%0D%0A%20%20%20%20function%20b2Fixture()%20%7B%0D%0A%20%20%20%20%20%20b2Fixture.b2Fixture.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Fixture)%20this.b2Fixture.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2Fixture%20%3D%20b2Fixture%3B%0D%0A%0D%0A%20%20%20%20function%20b2FixtureDef()%20%7B%0D%0A%20%20%20%20%20%20b2FixtureDef.b2FixtureDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2FixtureDef)%0D%0A%20%20%20%20%20%20%20%20this.b2FixtureDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2FixtureDef%20%3D%20b2FixtureDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2Island()%20%7B%0D%0A%20%20%20%20%20%20b2Island.b2Island.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Island)%20this.b2Island.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2Island%20%3D%20b2Island%3B%0D%0A%0D%0A%20%20%20%20function%20b2TimeStep()%20%7B%0D%0A%20%20%20%20%20%20b2TimeStep.b2TimeStep.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2TimeStep%20%3D%20b2TimeStep%3B%0D%0A%0D%0A%20%20%20%20function%20b2World()%20%7B%0D%0A%20%20%20%20%20%20b2World.b2World.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2World)%20this.b2World.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.b2World%20%3D%20b2World%3B%0D%0A%0D%0A%20%20%20%20function%20b2CircleContact()%20%7B%0D%0A%20%20%20%20%20%20b2CircleContact.b2CircleContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2CircleContact%20%3D%20b2CircleContact%3B%0D%0A%0D%0A%20%20%20%20function%20b2Contact()%20%7B%0D%0A%20%20%20%20%20%20b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Contact)%20this.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2Contact%20%3D%20b2Contact%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactConstraint()%20%7B%0D%0A%20%20%20%20%20%20b2ContactConstraint.b2ContactConstraint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactConstraint)%0D%0A%20%20%20%20%20%20%20%20this.b2ContactConstraint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactConstraint%20%3D%20b2ContactConstraint%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactConstraintPoint()%20%7B%0D%0A%20%20%20%20%20%20b2ContactConstraintPoint.b2ContactConstraintPoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactConstraintPoint%20%3D%20b2ContactConstraintPoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactEdge()%20%7B%0D%0A%20%20%20%20%20%20b2ContactEdge.b2ContactEdge.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactEdge%20%3D%20b2ContactEdge%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactFactory()%20%7B%0D%0A%20%20%20%20%20%20b2ContactFactory.b2ContactFactory.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactFactory)%0D%0A%20%20%20%20%20%20%20%20this.b2ContactFactory.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactFactory%20%3D%20b2ContactFactory%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactRegister()%20%7B%0D%0A%20%20%20%20%20%20b2ContactRegister.b2ContactRegister.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactRegister%20%3D%20b2ContactRegister%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactResult()%20%7B%0D%0A%20%20%20%20%20%20b2ContactResult.b2ContactResult.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactResult%20%3D%20b2ContactResult%3B%0D%0A%0D%0A%20%20%20%20function%20b2ContactSolver()%20%7B%0D%0A%20%20%20%20%20%20b2ContactSolver.b2ContactSolver.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactSolver)%0D%0A%20%20%20%20%20%20%20%20this.b2ContactSolver.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactSolver%20%3D%20b2ContactSolver%3B%0D%0A%0D%0A%20%20%20%20function%20b2EdgeAndCircleContact()%20%7B%0D%0A%20%20%20%20%20%20b2EdgeAndCircleContact.b2EdgeAndCircleContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2EdgeAndCircleContact%20%3D%20b2EdgeAndCircleContact%3B%0D%0A%0D%0A%20%20%20%20function%20b2NullContact()%20%7B%0D%0A%20%20%20%20%20%20b2NullContact.b2NullContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2NullContact)%0D%0A%20%20%20%20%20%20%20%20this.b2NullContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2NullContact%20%3D%20b2NullContact%3B%0D%0A%0D%0A%20%20%20%20function%20b2PolyAndCircleContact()%20%7B%0D%0A%20%20%20%20%20%20b2PolyAndCircleContact.b2PolyAndCircleContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PolyAndCircleContact%20%3D%20b2PolyAndCircleContact%3B%0D%0A%0D%0A%20%20%20%20function%20b2PolyAndEdgeContact()%20%7B%0D%0A%20%20%20%20%20%20b2PolyAndEdgeContact.b2PolyAndEdgeContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PolyAndEdgeContact%20%3D%20b2PolyAndEdgeContact%3B%0D%0A%0D%0A%20%20%20%20function%20b2PolygonContact()%20%7B%0D%0A%20%20%20%20%20%20b2PolygonContact.b2PolygonContact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PolygonContact%20%3D%20b2PolygonContact%3B%0D%0A%0D%0A%20%20%20%20function%20b2PositionSolverManifold()%20%7B%0D%0A%20%20%20%20%20%20b2PositionSolverManifold.b2PositionSolverManifold.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PositionSolverManifold)%0D%0A%20%20%20%20%20%20%20%20this.b2PositionSolverManifold.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold%20%3D%20b2PositionSolverManifold%3B%0D%0A%0D%0A%20%20%20%20function%20b2BuoyancyController()%20%7B%0D%0A%20%20%20%20%20%20b2BuoyancyController.b2BuoyancyController.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2BuoyancyController%20%3D%20b2BuoyancyController%3B%0D%0A%0D%0A%20%20%20%20function%20b2ConstantAccelController()%20%7B%0D%0A%20%20%20%20%20%20b2ConstantAccelController.b2ConstantAccelController.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantAccelController%20%3D%0D%0A%20%20%20%20%20%20b2ConstantAccelController%3B%0D%0A%0D%0A%20%20%20%20function%20b2ConstantForceController()%20%7B%0D%0A%20%20%20%20%20%20b2ConstantForceController.b2ConstantForceController.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantForceController%20%3D%0D%0A%20%20%20%20%20%20b2ConstantForceController%3B%0D%0A%0D%0A%20%20%20%20function%20b2Controller()%20%7B%0D%0A%20%20%20%20%20%20b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%20%3D%20b2Controller%3B%0D%0A%0D%0A%20%20%20%20function%20b2ControllerEdge()%20%7B%0D%0A%20%20%20%20%20%20b2ControllerEdge.b2ControllerEdge.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2ControllerEdge%20%3D%20b2ControllerEdge%3B%0D%0A%0D%0A%20%20%20%20function%20b2GravityController()%20%7B%0D%0A%20%20%20%20%20%20b2GravityController.b2GravityController.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2GravityController%20%3D%20b2GravityController%3B%0D%0A%0D%0A%20%20%20%20function%20b2TensorDampingController()%20%7B%0D%0A%20%20%20%20%20%20b2TensorDampingController.b2TensorDampingController.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2TensorDampingController%20%3D%0D%0A%20%20%20%20%20%20b2TensorDampingController%3B%0D%0A%0D%0A%20%20%20%20function%20b2DistanceJoint()%20%7B%0D%0A%20%20%20%20%20%20b2DistanceJoint.b2DistanceJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DistanceJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2DistanceJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2DistanceJoint%20%3D%20b2DistanceJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2DistanceJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2DistanceJointDef.b2DistanceJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DistanceJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2DistanceJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2DistanceJointDef%20%3D%20b2DistanceJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2FrictionJoint()%20%7B%0D%0A%20%20%20%20%20%20b2FrictionJoint.b2FrictionJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2FrictionJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2FrictionJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2FrictionJoint%20%3D%20b2FrictionJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2FrictionJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2FrictionJointDef.b2FrictionJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2FrictionJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2FrictionJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2FrictionJointDef%20%3D%20b2FrictionJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2GearJoint()%20%7B%0D%0A%20%20%20%20%20%20b2GearJoint.b2GearJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2GearJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2GearJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2GearJoint%20%3D%20b2GearJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2GearJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2GearJointDef.b2GearJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2GearJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2GearJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2GearJointDef%20%3D%20b2GearJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2Jacobian()%20%7B%0D%0A%20%20%20%20%20%20b2Jacobian.b2Jacobian.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2Jacobian%20%3D%20b2Jacobian%3B%0D%0A%0D%0A%20%20%20%20function%20b2Joint()%20%7B%0D%0A%20%20%20%20%20%20b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Joint)%20this.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2Joint%20%3D%20b2Joint%3B%0D%0A%0D%0A%20%20%20%20function%20b2JointDef()%20%7B%0D%0A%20%20%20%20%20%20b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2JointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2JointDef%20%3D%20b2JointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2JointEdge()%20%7B%0D%0A%20%20%20%20%20%20b2JointEdge.b2JointEdge.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2JointEdge%20%3D%20b2JointEdge%3B%0D%0A%0D%0A%20%20%20%20function%20b2LineJoint()%20%7B%0D%0A%20%20%20%20%20%20b2LineJoint.b2LineJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2LineJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2LineJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2LineJoint%20%3D%20b2LineJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2LineJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2LineJointDef.b2LineJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2LineJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2LineJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2LineJointDef%20%3D%20b2LineJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2MouseJoint()%20%7B%0D%0A%20%20%20%20%20%20b2MouseJoint.b2MouseJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2MouseJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2MouseJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2MouseJoint%20%3D%20b2MouseJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2MouseJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2MouseJointDef.b2MouseJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2MouseJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2MouseJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2MouseJointDef%20%3D%20b2MouseJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2PrismaticJoint()%20%7B%0D%0A%20%20%20%20%20%20b2PrismaticJoint.b2PrismaticJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PrismaticJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2PrismaticJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PrismaticJoint%20%3D%20b2PrismaticJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2PrismaticJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2PrismaticJointDef.b2PrismaticJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PrismaticJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2PrismaticJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PrismaticJointDef%20%3D%20b2PrismaticJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2PulleyJoint()%20%7B%0D%0A%20%20%20%20%20%20b2PulleyJoint.b2PulleyJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PulleyJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2PulleyJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PulleyJoint%20%3D%20b2PulleyJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2PulleyJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2PulleyJointDef.b2PulleyJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PulleyJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2PulleyJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PulleyJointDef%20%3D%20b2PulleyJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2RevoluteJoint()%20%7B%0D%0A%20%20%20%20%20%20b2RevoluteJoint.b2RevoluteJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2RevoluteJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2RevoluteJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2RevoluteJoint%20%3D%20b2RevoluteJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2RevoluteJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2RevoluteJointDef.b2RevoluteJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2RevoluteJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2RevoluteJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2RevoluteJointDef%20%3D%20b2RevoluteJointDef%3B%0D%0A%0D%0A%20%20%20%20function%20b2WeldJoint()%20%7B%0D%0A%20%20%20%20%20%20b2WeldJoint.b2WeldJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2WeldJoint)%0D%0A%20%20%20%20%20%20%20%20this.b2WeldJoint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2WeldJoint%20%3D%20b2WeldJoint%3B%0D%0A%0D%0A%20%20%20%20function%20b2WeldJointDef()%20%7B%0D%0A%20%20%20%20%20%20b2WeldJointDef.b2WeldJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2WeldJointDef)%0D%0A%20%20%20%20%20%20%20%20this.b2WeldJointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20Box2D.Dynamics.Joints.b2WeldJointDef%20%3D%20b2WeldJointDef%3B%0D%0A%20%20%7D)()%3B%20%2F%2Fdefinitions%0D%0A%20%20Box2D.postDefs%20%3D%20%5B%5D%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0D%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0D%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0D%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0D%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0D%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0D%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0D%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0D%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0D%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0D%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0D%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0D%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0D%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0D%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0D%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0D%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0D%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0D%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0D%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0D%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0D%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0D%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0D%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0D%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0D%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0D%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0D%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0D%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0D%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0D%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0D%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0D%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0D%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0D%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%3B%0D%0A%0D%0A%20%20%20%20b2AABB.b2AABB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.lowerBound%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.upperBound%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.IsValid%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20this.upperBound.x%20-%20this.lowerBound.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20this.upperBound.y%20-%20this.lowerBound.y%3B%0D%0A%20%20%20%20%20%20var%20valid%20%3D%20dX%20%3E%3D%200.0%20%26%26%20dY%20%3E%3D%200.0%3B%0D%0A%20%20%20%20%20%20valid%20%3D%20valid%20%26%26%20this.lowerBound.IsValid()%20%26%26%20this.upperBound.IsValid()%3B%0D%0A%20%20%20%20%20%20return%20valid%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.GetCenter%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20(this.lowerBound.x%20%2B%20this.upperBound.x)%20%2F%202%2C%0D%0A%20%20%20%20%20%20%20%20(this.lowerBound.y%20%2B%20this.upperBound.y)%20%2F%202%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.GetExtents%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20(this.upperBound.x%20-%20this.lowerBound.x)%20%2F%202%2C%0D%0A%20%20%20%20%20%20%20%20(this.upperBound.y%20-%20this.lowerBound.y)%20%2F%202%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.Contains%20%3D%20function%20(aabb)%20%7B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20true%3B%0D%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20this.lowerBound.x%20%3C%3D%20aabb.lowerBound.x%3B%0D%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20this.lowerBound.y%20%3C%3D%20aabb.lowerBound.y%3B%0D%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20aabb.upperBound.x%20%3C%3D%20this.upperBound.x%3B%0D%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20aabb.upperBound.y%20%3C%3D%20this.upperBound.y%3B%0D%0A%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.RayCast%20%3D%20function%20(output%2C%20input)%20%7B%0D%0A%20%20%20%20%20%20var%20tmin%20%3D%20-Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20var%20tmax%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20var%20pX%20%3D%20input.p1.x%3B%0D%0A%20%20%20%20%20%20var%20pY%20%3D%20input.p1.y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20input.p2.x%20-%20input.p1.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20input.p2.y%20-%20input.p1.y%3B%0D%0A%20%20%20%20%20%20var%20absDX%20%3D%20Math.abs(dX)%3B%0D%0A%20%20%20%20%20%20var%20absDY%20%3D%20Math.abs(dY)%3B%0D%0A%20%20%20%20%20%20var%20normal%20%3D%20output.normal%3B%0D%0A%20%20%20%20%20%20var%20inv_d%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20t1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20t2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20t3%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(absDX%20%3C%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(pX%20%3C%20this.lowerBound.x%20%7C%7C%20this.upperBound.x%20%3C%20pX)%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20inv_d%20%3D%201.0%20%2F%20dX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20t1%20%3D%20(this.lowerBound.x%20-%20pX)%20*%20inv_d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20t2%20%3D%20(this.upperBound.x%20-%20pX)%20*%20inv_d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20-1.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20t2)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t3%20%3D%20t1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t1%20%3D%20t2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t2%20%3D%20t3%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20tmin)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.x%20%3D%20s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.y%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tmin%20%3D%20t1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20tmax%20%3D%20Math.min(tmax%2C%20t2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(tmin%20%3E%20tmax)%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(absDY%20%3C%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(pY%20%3C%20this.lowerBound.y%20%7C%7C%20this.upperBound.y%20%3C%20pY)%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20inv_d%20%3D%201.0%20%2F%20dY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20t1%20%3D%20(this.lowerBound.y%20-%20pY)%20*%20inv_d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20t2%20%3D%20(this.upperBound.y%20-%20pY)%20*%20inv_d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20-1.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20t2)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t3%20%3D%20t1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t1%20%3D%20t2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t2%20%3D%20t3%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20tmin)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.y%20%3D%20s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.x%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tmin%20%3D%20t1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20tmax%20%3D%20Math.min(tmax%2C%20t2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(tmin%20%3E%20tmax)%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20output.fraction%20%3D%20tmin%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.TestOverlap%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20var%20d1X%20%3D%20other.lowerBound.x%20-%20this.upperBound.x%3B%0D%0A%20%20%20%20%20%20var%20d1Y%20%3D%20other.lowerBound.y%20-%20this.upperBound.y%3B%0D%0A%20%20%20%20%20%20var%20d2X%20%3D%20this.lowerBound.x%20-%20other.upperBound.x%3B%0D%0A%20%20%20%20%20%20var%20d2Y%20%3D%20this.lowerBound.y%20-%20other.upperBound.y%3B%0D%0A%20%20%20%20%20%20if%20(d1X%20%3E%200.0%20%7C%7C%20d1Y%20%3E%200.0)%20return%20false%3B%0D%0A%20%20%20%20%20%20if%20(d2X%20%3E%200.0%20%7C%7C%20d2Y%20%3E%200.0)%20return%20false%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.Combine%20%3D%20function%20(aabb1%2C%20aabb2)%20%7B%0D%0A%20%20%20%20%20%20var%20aabb%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20aabb.Combine(aabb1%2C%20aabb2)%3B%0D%0A%20%20%20%20%20%20return%20aabb%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2AABB.prototype.Combine%20%3D%20function%20(aabb1%2C%20aabb2)%20%7B%0D%0A%20%20%20%20%20%20this.lowerBound.x%20%3D%20Math.min(aabb1.lowerBound.x%2C%20aabb2.lowerBound.x)%3B%0D%0A%20%20%20%20%20%20this.lowerBound.y%20%3D%20Math.min(aabb1.lowerBound.y%2C%20aabb2.lowerBound.y)%3B%0D%0A%20%20%20%20%20%20this.upperBound.x%20%3D%20Math.max(aabb1.upperBound.x%2C%20aabb2.upperBound.x)%3B%0D%0A%20%20%20%20%20%20this.upperBound.y%20%3D%20Math.max(aabb1.upperBound.y%2C%20aabb2.upperBound.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Bound.b2Bound%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Bound.prototype.IsLower%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.value%20%26%201)%20%3D%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Bound.prototype.IsUpper%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.value%20%26%201)%20%3D%3D%201%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Bound.prototype.Swap%20%3D%20function%20(b)%20%7B%0D%0A%20%20%20%20%20%20var%20tempValue%20%3D%20this.value%3B%0D%0A%20%20%20%20%20%20var%20tempProxy%20%3D%20this.proxy%3B%0D%0A%20%20%20%20%20%20var%20tempStabbingCount%20%3D%20this.stabbingCount%3B%0D%0A%20%20%20%20%20%20this.value%20%3D%20b.value%3B%0D%0A%20%20%20%20%20%20this.proxy%20%3D%20b.proxy%3B%0D%0A%20%20%20%20%20%20this.stabbingCount%20%3D%20b.stabbingCount%3B%0D%0A%20%20%20%20%20%20b.value%20%3D%20tempValue%3B%0D%0A%20%20%20%20%20%20b.proxy%20%3D%20tempProxy%3B%0D%0A%20%20%20%20%20%20b.stabbingCount%20%3D%20tempStabbingCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2BoundValues.b2BoundValues%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2BoundValues.prototype.b2BoundValues%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.lowerValues%20%3D%20new%20Vector_a2j_Number()%3B%0D%0A%20%20%20%20%20%20this.lowerValues%5B0%5D%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.lowerValues%5B1%5D%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.upperValues%20%3D%20new%20Vector_a2j_Number()%3B%0D%0A%20%20%20%20%20%20this.upperValues%5B0%5D%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.upperValues%5B1%5D%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.b2Collision%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Collision.ClipSegmentToLine%20%3D%20function%20(vOut%2C%20vIn%2C%20normal%2C%20offset)%20%7B%0D%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20cv%3B%0D%0A%20%20%20%20%20%20var%20numOut%20%3D%200%3B%0D%0A%20%20%20%20%20%20cv%20%3D%20vIn%5B0%5D%3B%0D%0A%20%20%20%20%20%20var%20vIn0%20%3D%20cv.v%3B%0D%0A%20%20%20%20%20%20cv%20%3D%20vIn%5B1%5D%3B%0D%0A%20%20%20%20%20%20var%20vIn1%20%3D%20cv.v%3B%0D%0A%20%20%20%20%20%20var%20distance0%20%3D%20normal.x%20*%20vIn0.x%20%2B%20normal.y%20*%20vIn0.y%20-%20offset%3B%0D%0A%20%20%20%20%20%20var%20distance1%20%3D%20normal.x%20*%20vIn1.x%20%2B%20normal.y%20*%20vIn1.y%20-%20offset%3B%0D%0A%20%20%20%20%20%20if%20(distance0%20%3C%3D%200.0)%20vOut%5BnumOut%2B%2B%5D.Set(vIn%5B0%5D)%3B%0D%0A%20%20%20%20%20%20if%20(distance1%20%3C%3D%200.0)%20vOut%5BnumOut%2B%2B%5D.Set(vIn%5B1%5D)%3B%0D%0A%20%20%20%20%20%20if%20(distance0%20*%20distance1%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20interp%20%3D%20distance0%20%2F%20(distance0%20-%20distance1)%3B%0D%0A%20%20%20%20%20%20%20%20cv%20%3D%20vOut%5BnumOut%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20tVec%20%3D%20cv.v%3B%0D%0A%20%20%20%20%20%20%20%20tVec.x%20%3D%20vIn0.x%20%2B%20interp%20*%20(vIn1.x%20-%20vIn0.x)%3B%0D%0A%20%20%20%20%20%20%20%20tVec.y%20%3D%20vIn0.y%20%2B%20interp%20*%20(vIn1.y%20-%20vIn0.y)%3B%0D%0A%20%20%20%20%20%20%20%20cv%20%3D%20vOut%5BnumOut%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20cv2%3B%0D%0A%20%20%20%20%20%20%20%20if%20(distance0%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20cv2%20%3D%20vIn%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cv.id%20%3D%20cv2.id%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20cv2%20%3D%20vIn%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cv.id%20%3D%20cv2.id%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%2B%2BnumOut%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20numOut%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.EdgeSeparation%20%3D%20function%20(poly1%2C%20xf1%2C%20edge1%2C%20poly2%2C%20xf2)%20%7B%0D%0A%20%20%20%20%20%20if%20(edge1%20%3D%3D%3D%20undefined)%20edge1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20vertices1%20%3D%20poly1.m_vertices%3B%0D%0A%20%20%20%20%20%20var%20normals1%20%3D%20poly1.m_normals%3B%0D%0A%20%20%20%20%20%20var%20count2%20%3D%20parseInt(poly2.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20vertices2%20%3D%20poly2.m_vertices%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20normals1%5Bedge1%5D%3B%0D%0A%20%20%20%20%20%20var%20normal1WorldX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20var%20normal1WorldY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20var%20normal1X%20%3D%20tMat.col1.x%20*%20normal1WorldX%20%2B%20tMat.col1.y%20*%20normal1WorldY%3B%0D%0A%20%20%20%20%20%20var%20normal1Y%20%3D%20tMat.col2.x%20*%20normal1WorldX%20%2B%20tMat.col2.y%20*%20normal1WorldY%3B%0D%0A%20%20%20%20%20%20var%20index%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20minDot%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count2%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20tVec.x%20*%20normal1X%20%2B%20tVec.y%20*%20normal1Y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(dot%20%3C%20minDot)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20minDot%20%3D%20dot%3B%0D%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20tVec%20%3D%20vertices1%5Bedge1%5D%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20var%20v1X%20%3D%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20v1Y%20%3D%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20var%20v2X%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20v2Y%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20v2X%20-%3D%20v1X%3B%0D%0A%20%20%20%20%20%20v2Y%20-%3D%20v1Y%3B%0D%0A%20%20%20%20%20%20var%20separation%20%3D%20v2X%20*%20normal1WorldX%20%2B%20v2Y%20*%20normal1WorldY%3B%0D%0A%20%20%20%20%20%20return%20separation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.FindMaxSeparation%20%3D%20function%20(%0D%0A%20%20%20%20%20%20edgeIndex%2C%0D%0A%20%20%20%20%20%20poly1%2C%0D%0A%20%20%20%20%20%20xf1%2C%0D%0A%20%20%20%20%20%20poly2%2C%0D%0A%20%20%20%20%20%20xf2%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20normals1%20%3D%20poly1.m_normals%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20poly2.m_centroid%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20poly1.m_centroid%3B%0D%0A%20%20%20%20%20%20dX%20-%3D%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20dY%20-%3D%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20dLocal1X%20%3D%20dX%20*%20xf1.R.col1.x%20%2B%20dY%20*%20xf1.R.col1.y%3B%0D%0A%20%20%20%20%20%20var%20dLocal1Y%20%3D%20dX%20*%20xf1.R.col2.x%20%2B%20dY%20*%20xf1.R.col2.y%3B%0D%0A%20%20%20%20%20%20var%20edge%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20maxDot%20%3D%20-Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count1%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20normals1%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20tVec.x%20*%20dLocal1X%20%2B%20tVec.y%20*%20dLocal1Y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(dot%20%3E%20maxDot)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20maxDot%20%3D%20dot%3B%0D%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20s%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20edge%2C%20poly2%2C%20xf2)%3B%0D%0A%20%20%20%20%20%20var%20prevEdge%20%3D%20parseInt(edge%20-%201%20%3E%3D%200%20%3F%20edge%20-%201%20%3A%20count1%20-%201)%3B%0D%0A%20%20%20%20%20%20var%20sPrev%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20prevEdge%2C%20poly2%2C%20xf2)%3B%0D%0A%20%20%20%20%20%20var%20nextEdge%20%3D%20parseInt(edge%20%2B%201%20%3C%20count1%20%3F%20edge%20%2B%201%20%3A%200)%3B%0D%0A%20%20%20%20%20%20var%20sNext%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20nextEdge%2C%20poly2%2C%20xf2)%3B%0D%0A%20%20%20%20%20%20var%20bestEdge%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bestSeparation%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20increment%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(sPrev%20%3E%20s%20%26%26%20sPrev%20%3E%20sNext)%20%7B%0D%0A%20%20%20%20%20%20%20%20increment%20%3D%20-1%3B%0D%0A%20%20%20%20%20%20%20%20bestEdge%20%3D%20prevEdge%3B%0D%0A%20%20%20%20%20%20%20%20bestSeparation%20%3D%20sPrev%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(sNext%20%3E%20s)%20%7B%0D%0A%20%20%20%20%20%20%20%20increment%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20bestEdge%20%3D%20nextEdge%3B%0D%0A%20%20%20%20%20%20%20%20bestSeparation%20%3D%20sNext%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20edgeIndex%5B0%5D%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20%20%20return%20s%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20while%20(true)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(increment%20%3D%3D%20-1)%0D%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20bestEdge%20-%201%20%3E%3D%200%20%3F%20bestEdge%20-%201%20%3A%20count1%20-%201%3B%0D%0A%20%20%20%20%20%20%20%20else%20edge%20%3D%20bestEdge%20%2B%201%20%3C%20count1%20%3F%20bestEdge%20%2B%201%20%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20s%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20edge%2C%20poly2%2C%20xf2)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(s%20%3E%20bestSeparation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bestEdge%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bestSeparation%20%3D%20s%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20edgeIndex%5B0%5D%20%3D%20bestEdge%3B%0D%0A%20%20%20%20%20%20return%20bestSeparation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.FindIncidentEdge%20%3D%20function%20(c%2C%20poly1%2C%20xf1%2C%20edge1%2C%20poly2%2C%20xf2)%20%7B%0D%0A%20%20%20%20%20%20if%20(edge1%20%3D%3D%3D%20undefined)%20edge1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20normals1%20%3D%20poly1.m_normals%3B%0D%0A%20%20%20%20%20%20var%20count2%20%3D%20parseInt(poly2.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20vertices2%20%3D%20poly2.m_vertices%3B%0D%0A%20%20%20%20%20%20var%20normals2%20%3D%20poly2.m_normals%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20normals1%5Bedge1%5D%3B%0D%0A%20%20%20%20%20%20var%20normal1X%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20var%20normal1Y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20normal1X%20%2B%20tMat.col1.y%20*%20normal1Y%3B%0D%0A%20%20%20%20%20%20normal1Y%20%3D%20tMat.col2.x%20*%20normal1X%20%2B%20tMat.col2.y%20*%20normal1Y%3B%0D%0A%20%20%20%20%20%20normal1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20index%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20minDot%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count2%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20normals2%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20normal1X%20*%20tVec.x%20%2B%20normal1Y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(dot%20%3C%20minDot)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20minDot%20%3D%20dot%3B%0D%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20tClip%3B%0D%0A%20%20%20%20%20%20var%20i1%20%3D%20parseInt(index)%3B%0D%0A%20%20%20%20%20%20var%20i2%20%3D%20parseInt(i1%20%2B%201%20%3C%20count2%20%3F%20i1%20%2B%201%20%3A%200)%3B%0D%0A%20%20%20%20%20%20tClip%20%3D%20c%5B0%5D%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bi1%5D%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20tClip.v.x%20%3D%0D%0A%20%20%20%20%20%20%20%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tClip.v.y%20%3D%0D%0A%20%20%20%20%20%20%20%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tClip.id.features.referenceEdge%20%3D%20edge1%3B%0D%0A%20%20%20%20%20%20tClip.id.features.incidentEdge%20%3D%20i1%3B%0D%0A%20%20%20%20%20%20tClip.id.features.incidentVertex%20%3D%200%3B%0D%0A%20%20%20%20%20%20tClip%20%3D%20c%5B1%5D%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bi2%5D%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20tClip.v.x%20%3D%0D%0A%20%20%20%20%20%20%20%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tClip.v.y%20%3D%0D%0A%20%20%20%20%20%20%20%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tClip.id.features.referenceEdge%20%3D%20edge1%3B%0D%0A%20%20%20%20%20%20tClip.id.features.incidentEdge%20%3D%20i2%3B%0D%0A%20%20%20%20%20%20tClip.id.features.incidentVertex%20%3D%201%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.MakeClipPointVector%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20r%20%3D%20new%20Vector(2)%3B%0D%0A%20%20%20%20%20%20r%5B0%5D%20%3D%20new%20ClipVertex()%3B%0D%0A%20%20%20%20%20%20r%5B1%5D%20%3D%20new%20ClipVertex()%3B%0D%0A%20%20%20%20%20%20return%20r%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.CollidePolygons%20%3D%20function%20(manifold%2C%20polyA%2C%20xfA%2C%20polyB%2C%20xfB)%20%7B%0D%0A%20%20%20%20%20%20var%20cv%3B%0D%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20totalRadius%20%3D%20polyA.m_radius%20%2B%20polyB.m_radius%3B%0D%0A%20%20%20%20%20%20var%20edgeA%20%3D%200%3B%0D%0A%20%20%20%20%20%20b2Collision.s_edgeAO%5B0%5D%20%3D%20edgeA%3B%0D%0A%20%20%20%20%20%20var%20separationA%20%3D%20b2Collision.FindMaxSeparation(%0D%0A%20%20%20%20%20%20%20%20b2Collision.s_edgeAO%2C%0D%0A%20%20%20%20%20%20%20%20polyA%2C%0D%0A%20%20%20%20%20%20%20%20xfA%2C%0D%0A%20%20%20%20%20%20%20%20polyB%2C%0D%0A%20%20%20%20%20%20%20%20xfB%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20edgeA%20%3D%20b2Collision.s_edgeAO%5B0%5D%3B%0D%0A%20%20%20%20%20%20if%20(separationA%20%3E%20totalRadius)%20return%3B%0D%0A%20%20%20%20%20%20var%20edgeB%20%3D%200%3B%0D%0A%20%20%20%20%20%20b2Collision.s_edgeBO%5B0%5D%20%3D%20edgeB%3B%0D%0A%20%20%20%20%20%20var%20separationB%20%3D%20b2Collision.FindMaxSeparation(%0D%0A%20%20%20%20%20%20%20%20b2Collision.s_edgeBO%2C%0D%0A%20%20%20%20%20%20%20%20polyB%2C%0D%0A%20%20%20%20%20%20%20%20xfB%2C%0D%0A%20%20%20%20%20%20%20%20polyA%2C%0D%0A%20%20%20%20%20%20%20%20xfA%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20edgeB%20%3D%20b2Collision.s_edgeBO%5B0%5D%3B%0D%0A%20%20%20%20%20%20if%20(separationB%20%3E%20totalRadius)%20return%3B%0D%0A%20%20%20%20%20%20var%20poly1%3B%0D%0A%20%20%20%20%20%20var%20poly2%3B%0D%0A%20%20%20%20%20%20var%20xf1%3B%0D%0A%20%20%20%20%20%20var%20xf2%3B%0D%0A%20%20%20%20%20%20var%20edge1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20flip%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20k_relativeTol%20%3D%200.98%3B%0D%0A%20%20%20%20%20%20var%20k_absoluteTol%20%3D%200.001%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20if%20(separationB%20%3E%20k_relativeTol%20*%20separationA%20%2B%20k_absoluteTol)%20%7B%0D%0A%20%20%20%20%20%20%20%20poly1%20%3D%20polyB%3B%0D%0A%20%20%20%20%20%20%20%20poly2%20%3D%20polyA%3B%0D%0A%20%20%20%20%20%20%20%20xf1%20%3D%20xfB%3B%0D%0A%20%20%20%20%20%20%20%20xf2%20%3D%20xfA%3B%0D%0A%20%20%20%20%20%20%20%20edge1%20%3D%20edgeB%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceB%3B%0D%0A%20%20%20%20%20%20%20%20flip%20%3D%201%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20poly1%20%3D%20polyA%3B%0D%0A%20%20%20%20%20%20%20%20poly2%20%3D%20polyB%3B%0D%0A%20%20%20%20%20%20%20%20xf1%20%3D%20xfA%3B%0D%0A%20%20%20%20%20%20%20%20xf2%20%3D%20xfB%3B%0D%0A%20%20%20%20%20%20%20%20edge1%20%3D%20edgeA%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20flip%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20incidentEdge%20%3D%20b2Collision.s_incidentEdge%3B%0D%0A%20%20%20%20%20%20b2Collision.FindIncidentEdge(incidentEdge%2C%20poly1%2C%20xf1%2C%20edge1%2C%20poly2%2C%20xf2)%3B%0D%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20vertices1%20%3D%20poly1.m_vertices%3B%0D%0A%20%20%20%20%20%20var%20local_v11%20%3D%20vertices1%5Bedge1%5D%3B%0D%0A%20%20%20%20%20%20var%20local_v12%3B%0D%0A%20%20%20%20%20%20if%20(edge1%20%2B%201%20%3C%20count1)%20%7B%0D%0A%20%20%20%20%20%20%20%20local_v12%20%3D%20vertices1%5BparseInt(edge1%20%2B%201)%5D%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20local_v12%20%3D%20vertices1%5B0%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20localTangent%20%3D%20b2Collision.s_localTangent%3B%0D%0A%20%20%20%20%20%20localTangent.Set(local_v12.x%20-%20local_v11.x%2C%20local_v12.y%20-%20local_v11.y)%3B%0D%0A%20%20%20%20%20%20localTangent.Normalize()%3B%0D%0A%20%20%20%20%20%20var%20localNormal%20%3D%20b2Collision.s_localNormal%3B%0D%0A%20%20%20%20%20%20localNormal.x%20%3D%20localTangent.y%3B%0D%0A%20%20%20%20%20%20localNormal.y%20%3D%20-localTangent.x%3B%0D%0A%20%20%20%20%20%20var%20planePoint%20%3D%20b2Collision.s_planePoint%3B%0D%0A%20%20%20%20%20%20planePoint.Set(%0D%0A%20%20%20%20%20%20%20%200.5%20*%20(local_v11.x%20%2B%20local_v12.x)%2C%0D%0A%20%20%20%20%20%20%20%200.5%20*%20(local_v11.y%20%2B%20local_v12.y)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20tangent%20%3D%20b2Collision.s_tangent%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20tangent.x%20%3D%20tMat.col1.x%20*%20localTangent.x%20%2B%20tMat.col2.x%20*%20localTangent.y%3B%0D%0A%20%20%20%20%20%20tangent.y%20%3D%20tMat.col1.y%20*%20localTangent.x%20%2B%20tMat.col2.y%20*%20localTangent.y%3B%0D%0A%20%20%20%20%20%20var%20tangent2%20%3D%20b2Collision.s_tangent2%3B%0D%0A%20%20%20%20%20%20tangent2.x%20%3D%20-tangent.x%3B%0D%0A%20%20%20%20%20%20tangent2.y%20%3D%20-tangent.y%3B%0D%0A%20%20%20%20%20%20var%20normal%20%3D%20b2Collision.s_normal%3B%0D%0A%20%20%20%20%20%20normal.x%20%3D%20tangent.y%3B%0D%0A%20%20%20%20%20%20normal.y%20%3D%20-tangent.x%3B%0D%0A%20%20%20%20%20%20var%20v11%20%3D%20b2Collision.s_v11%3B%0D%0A%20%20%20%20%20%20var%20v12%20%3D%20b2Collision.s_v12%3B%0D%0A%20%20%20%20%20%20v11.x%20%3D%0D%0A%20%20%20%20%20%20%20%20xf1.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20local_v11.x%20%2B%20tMat.col2.x%20*%20local_v11.y)%3B%0D%0A%20%20%20%20%20%20v11.y%20%3D%0D%0A%20%20%20%20%20%20%20%20xf1.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20local_v11.x%20%2B%20tMat.col2.y%20*%20local_v11.y)%3B%0D%0A%20%20%20%20%20%20v12.x%20%3D%0D%0A%20%20%20%20%20%20%20%20xf1.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20local_v12.x%20%2B%20tMat.col2.x%20*%20local_v12.y)%3B%0D%0A%20%20%20%20%20%20v12.y%20%3D%0D%0A%20%20%20%20%20%20%20%20xf1.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20local_v12.x%20%2B%20tMat.col2.y%20*%20local_v12.y)%3B%0D%0A%20%20%20%20%20%20var%20frontOffset%20%3D%20normal.x%20*%20v11.x%20%2B%20normal.y%20*%20v11.y%3B%0D%0A%20%20%20%20%20%20var%20sideOffset1%20%3D%20-tangent.x%20*%20v11.x%20-%20tangent.y%20*%20v11.y%20%2B%20totalRadius%3B%0D%0A%20%20%20%20%20%20var%20sideOffset2%20%3D%20tangent.x%20*%20v12.x%20%2B%20tangent.y%20*%20v12.y%20%2B%20totalRadius%3B%0D%0A%20%20%20%20%20%20var%20clipPoints1%20%3D%20b2Collision.s_clipPoints1%3B%0D%0A%20%20%20%20%20%20var%20clipPoints2%20%3D%20b2Collision.s_clipPoints2%3B%0D%0A%20%20%20%20%20%20var%20np%20%3D%200%3B%0D%0A%20%20%20%20%20%20np%20%3D%20b2Collision.ClipSegmentToLine(%0D%0A%20%20%20%20%20%20%20%20clipPoints1%2C%0D%0A%20%20%20%20%20%20%20%20incidentEdge%2C%0D%0A%20%20%20%20%20%20%20%20tangent2%2C%0D%0A%20%20%20%20%20%20%20%20sideOffset1%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20if%20(np%20%3C%202)%20return%3B%0D%0A%20%20%20%20%20%20np%20%3D%20b2Collision.ClipSegmentToLine(%0D%0A%20%20%20%20%20%20%20%20clipPoints2%2C%0D%0A%20%20%20%20%20%20%20%20clipPoints1%2C%0D%0A%20%20%20%20%20%20%20%20tangent%2C%0D%0A%20%20%20%20%20%20%20%20sideOffset2%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20if%20(np%20%3C%202)%20return%3B%0D%0A%20%20%20%20%20%20manifold.m_localPlaneNormal.SetV(localNormal)%3B%0D%0A%20%20%20%20%20%20manifold.m_localPoint.SetV(planePoint)%3B%0D%0A%20%20%20%20%20%20var%20pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20cv%20%3D%20clipPoints2%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20separation%20%3D%20normal.x%20*%20cv.v.x%20%2B%20normal.y%20*%20cv.v.y%20-%20frontOffset%3B%0D%0A%20%20%20%20%20%20%20%20if%20(separation%20%3C%3D%20totalRadius)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cp%20%3D%20manifold.m_points%5BpointCount%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tX%20%3D%20cv.v.x%20-%20xf2.position.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tY%20%3D%20cv.v.y%20-%20xf2.position.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cp.m_localPoint.x%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cp.m_localPoint.y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cp.m_id.Set(cv.id)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20cp.m_id.features.flip%20%3D%20flip%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%2B%2BpointCount%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%20pointCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.CollideCircles%20%3D%20function%20(%0D%0A%20%20%20%20%20%20manifold%2C%0D%0A%20%20%20%20%20%20circle1%2C%0D%0A%20%20%20%20%20%20xf1%2C%0D%0A%20%20%20%20%20%20circle2%2C%0D%0A%20%20%20%20%20%20xf2%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20circle1.m_p%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20circle2.m_p%3B%0D%0A%20%20%20%20%20%20var%20p2X%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20p2Y%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20var%20distSqr%20%3D%20dX%20*%20dX%20%2B%20dY%20*%20dY%3B%0D%0A%20%20%20%20%20%20var%20radius%20%3D%20circle1.m_radius%20%2B%20circle2.m_radius%3B%0D%0A%20%20%20%20%20%20if%20(distSqr%20%3E%20radius%20*%20radius)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_circles%3B%0D%0A%20%20%20%20%20%20manifold.m_localPoint.SetV(circle1.m_p)%3B%0D%0A%20%20%20%20%20%20manifold.m_localPlaneNormal.SetZero()%3B%0D%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle2.m_p)%3B%0D%0A%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.CollidePolygonAndCircle%20%3D%20function%20(%0D%0A%20%20%20%20%20%20manifold%2C%0D%0A%20%20%20%20%20%20polygon%2C%0D%0A%20%20%20%20%20%20xf1%2C%0D%0A%20%20%20%20%20%20circle%2C%0D%0A%20%20%20%20%20%20xf2%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tPoint%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20positionX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20positionY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0D%0A%20%20%20%20%20%20tVec%20%3D%20circle.m_p%3B%0D%0A%20%20%20%20%20%20var%20cX%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20cY%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20dX%20%3D%20cX%20-%20xf1.position.x%3B%0D%0A%20%20%20%20%20%20dY%20%3D%20cY%20-%20xf1.position.y%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20var%20cLocalX%20%3D%20dX%20*%20tMat.col1.x%20%2B%20dY%20*%20tMat.col1.y%3B%0D%0A%20%20%20%20%20%20var%20cLocalY%20%3D%20dX%20*%20tMat.col2.x%20%2B%20dY%20*%20tMat.col2.y%3B%0D%0A%20%20%20%20%20%20var%20dist%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20normalIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20separation%20%3D%20-Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20var%20radius%20%3D%20polygon.m_radius%20%2B%20circle.m_radius%3B%0D%0A%20%20%20%20%20%20var%20vertexCount%20%3D%20parseInt(polygon.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20vertices%20%3D%20polygon.m_vertices%3B%0D%0A%20%20%20%20%20%20var%20normals%20%3D%20polygon.m_normals%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20dX%20%3D%20cLocalX%20-%20tVec.x%3B%0D%0A%20%20%20%20%20%20%20%20dY%20%3D%20cLocalY%20-%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20normals%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20s%20%3D%20tVec.x%20*%20dX%20%2B%20tVec.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(s%20%3E%20radius)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(s%20%3E%20separation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20separation%20%3D%20s%3B%0D%0A%20%20%20%20%20%20%20%20%20%20normalIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20vertIndex1%20%3D%20parseInt(normalIndex)%3B%0D%0A%20%20%20%20%20%20var%20vertIndex2%20%3D%20parseInt(%0D%0A%20%20%20%20%20%20%20%20vertIndex1%20%2B%201%20%3C%20vertexCount%20%3F%20vertIndex1%20%2B%201%20%3A%200%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20vertices%5BvertIndex1%5D%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20vertices%5BvertIndex2%5D%3B%0D%0A%20%20%20%20%20%20if%20(separation%20%3C%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.SetV(normals%5BnormalIndex%5D)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.x%20%3D%200.5%20*%20(v1.x%20%2B%20v2.x)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.y%20%3D%200.5%20*%20(v1.y%20%2B%20v2.y)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20u1%20%3D%0D%0A%20%20%20%20%20%20%20%20(cLocalX%20-%20v1.x)%20*%20(v2.x%20-%20v1.x)%20%2B%20(cLocalY%20-%20v1.y)%20*%20(v2.y%20-%20v1.y)%3B%0D%0A%20%20%20%20%20%20var%20u2%20%3D%0D%0A%20%20%20%20%20%20%20%20(cLocalX%20-%20v2.x)%20*%20(v1.x%20-%20v2.x)%20%2B%20(cLocalY%20-%20v2.y)%20*%20(v1.y%20-%20v2.y)%3B%0D%0A%20%20%20%20%20%20if%20(u1%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20(cLocalX%20-%20v1.x)%20*%20(cLocalX%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(cLocalY%20-%20v1.y)%20*%20(cLocalY%20-%20v1.y)%20%3E%0D%0A%20%20%20%20%20%20%20%20%20%20radius%20*%20radius%0D%0A%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.x%20%3D%20cLocalX%20-%20v1.x%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.y%20%3D%20cLocalY%20-%20v1.y%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.SetV(v1)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(u2%20%3C%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20(cLocalX%20-%20v2.x)%20*%20(cLocalX%20-%20v2.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(cLocalY%20-%20v2.y)%20*%20(cLocalY%20-%20v2.y)%20%3E%0D%0A%20%20%20%20%20%20%20%20%20%20radius%20*%20radius%0D%0A%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.x%20%3D%20cLocalX%20-%20v2.x%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.y%20%3D%20cLocalY%20-%20v2.y%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.SetV(v2)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20faceCenterX%20%3D%200.5%20*%20(v1.x%20%2B%20v2.x)%3B%0D%0A%20%20%20%20%20%20%20%20var%20faceCenterY%20%3D%200.5%20*%20(v1.y%20%2B%20v2.y)%3B%0D%0A%20%20%20%20%20%20%20%20separation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(cLocalX%20-%20faceCenterX)%20*%20normals%5BvertIndex1%5D.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(cLocalY%20-%20faceCenterY)%20*%20normals%5BvertIndex1%5D.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(separation%20%3E%20radius)%20return%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.x%20%3D%20normals%5BvertIndex1%5D.x%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.y%20%3D%20normals%5BvertIndex1%5D.y%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.Set(faceCenterX%2C%20faceCenterY)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0D%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Collision.TestOverlap%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20t1%20%3D%20b.lowerBound%3B%0D%0A%20%20%20%20%20%20var%20t2%20%3D%20a.upperBound%3B%0D%0A%20%20%20%20%20%20var%20d1X%20%3D%20t1.x%20-%20t2.x%3B%0D%0A%20%20%20%20%20%20var%20d1Y%20%3D%20t1.y%20-%20t2.y%3B%0D%0A%20%20%20%20%20%20t1%20%3D%20a.lowerBound%3B%0D%0A%20%20%20%20%20%20t2%20%3D%20b.upperBound%3B%0D%0A%20%20%20%20%20%20var%20d2X%20%3D%20t1.x%20-%20t2.x%3B%0D%0A%20%20%20%20%20%20var%20d2Y%20%3D%20t1.y%20-%20t2.y%3B%0D%0A%20%20%20%20%20%20if%20(d1X%20%3E%200.0%20%7C%7C%20d1Y%20%3E%200.0)%20return%20false%3B%0D%0A%20%20%20%20%20%20if%20(d2X%20%3E%200.0%20%7C%7C%20d2Y%20%3E%200.0)%20return%20false%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_incidentEdge%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Collision.MakeClipPointVector()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_clipPoints1%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Collision.MakeClipPointVector()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_clipPoints2%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Collision.MakeClipPointVector()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_edgeAO%20%3D%20new%20Vector_a2j_Number(1)%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_edgeBO%20%3D%20new%20Vector_a2j_Number(1)%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_localTangent%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_localNormal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_planePoint%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_tangent%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_tangent2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_v11%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_v12%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.b2CollidePolyTempVec%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.b2_nullFeature%20%3D%200x000000ff%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2ContactID.b2ContactID%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.features%20%3D%20new%20Features()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactID.prototype.b2ContactID%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.features._m_id%20%3D%20this%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactID.prototype.Set%20%3D%20function%20(id)%20%7B%0D%0A%20%20%20%20%20%20this.key%20%3D%20id._key%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactID.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20id%20%3D%20new%20b2ContactID()%3B%0D%0A%20%20%20%20%20%20id.key%20%3D%20this.key%3B%0D%0A%20%20%20%20%20%20return%20id%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Object.defineProperty(b2ContactID.prototype%2C%20%22key%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._key%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(b2ContactID.prototype%2C%20%22key%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._key%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20this.features._referenceEdge%20%3D%20this._key%20%26%200x000000ff%3B%0D%0A%20%20%20%20%20%20%20%20this.features._incidentEdge%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20((this._key%20%26%200x0000ff00)%20%3E%3E%208)%20%26%200x000000ff%3B%0D%0A%20%20%20%20%20%20%20%20this.features._incidentVertex%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20((this._key%20%26%200x00ff0000)%20%3E%3E%2016)%20%26%200x000000ff%3B%0D%0A%20%20%20%20%20%20%20%20this.features._flip%20%3D%20((this._key%20%26%200xff000000)%20%3E%3E%2024)%20%26%200x000000ff%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2ContactPoint.b2ContactPoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.velocity%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.id%20%3D%20new%20b2ContactID()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Distance.b2Distance%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Distance.Distance%20%3D%20function%20(output%2C%20cache%2C%20input)%20%7B%0D%0A%20%20%20%20%20%20%2B%2Bb2Distance.b2_gjkCalls%3B%0D%0A%20%20%20%20%20%20var%20proxyA%20%3D%20input.proxyA%3B%0D%0A%20%20%20%20%20%20var%20proxyB%20%3D%20input.proxyB%3B%0D%0A%20%20%20%20%20%20var%20transformA%20%3D%20input.transformA%3B%0D%0A%20%20%20%20%20%20var%20transformB%20%3D%20input.transformB%3B%0D%0A%20%20%20%20%20%20var%20simplex%20%3D%20b2Distance.s_simplex%3B%0D%0A%20%20%20%20%20%20simplex.ReadCache(cache%2C%20proxyA%2C%20transformA%2C%20proxyB%2C%20transformB)%3B%0D%0A%20%20%20%20%20%20var%20vertices%20%3D%20simplex.m_vertices%3B%0D%0A%20%20%20%20%20%20var%20k_maxIters%20%3D%2020%3B%0D%0A%20%20%20%20%20%20var%20saveA%20%3D%20b2Distance.s_saveA%3B%0D%0A%20%20%20%20%20%20var%20saveB%20%3D%20b2Distance.s_saveB%3B%0D%0A%20%20%20%20%20%20var%20saveCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20closestPoint%20%3D%20simplex.GetClosestPoint()%3B%0D%0A%20%20%20%20%20%20var%20distanceSqr1%20%3D%20closestPoint.LengthSquared()%3B%0D%0A%20%20%20%20%20%20var%20distanceSqr2%20%3D%20distanceSqr1%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p%3B%0D%0A%20%20%20%20%20%20var%20iter%20%3D%200%3B%0D%0A%20%20%20%20%20%20while%20(iter%20%3C%20k_maxIters)%20%7B%0D%0A%20%20%20%20%20%20%20%20saveCount%20%3D%20simplex.m_count%3B%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20saveCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20saveA%5Bi%5D%20%3D%20vertices%5Bi%5D.indexA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20saveB%5Bi%5D%20%3D%20vertices%5Bi%5D.indexB%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20switch%20(simplex.m_count)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20simplex.Solve2()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20case%203%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20simplex.Solve3()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(simplex.m_count%20%3D%3D%203)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20p%20%3D%20simplex.GetClosestPoint()%3B%0D%0A%20%20%20%20%20%20%20%20distanceSqr2%20%3D%20p.LengthSquared()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(distanceSqr2%20%3E%20distanceSqr1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20distanceSqr1%20%3D%20distanceSqr2%3B%0D%0A%20%20%20%20%20%20%20%20var%20d%20%3D%20simplex.GetSearchDirection()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(d.LengthSquared()%20%3C%20Number.MIN_VALUE%20*%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20vertex%20%3D%20vertices%5Bsimplex.m_count%5D%3B%0D%0A%20%20%20%20%20%20%20%20vertex.indexA%20%3D%20proxyA.GetSupport(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.MulTMV(transformA.R%2C%20d.GetNegative())%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20vertex.wA%20%3D%20b2Math.MulX(transformA%2C%20proxyA.GetVertex(vertex.indexA))%3B%0D%0A%20%20%20%20%20%20%20%20vertex.indexB%20%3D%20proxyB.GetSupport(b2Math.MulTMV(transformB.R%2C%20d))%3B%0D%0A%20%20%20%20%20%20%20%20vertex.wB%20%3D%20b2Math.MulX(transformB%2C%20proxyB.GetVertex(vertex.indexB))%3B%0D%0A%20%20%20%20%20%20%20%20vertex.w%20%3D%20b2Math.SubtractVV(vertex.wB%2C%20vertex.wA)%3B%0D%0A%20%20%20%20%20%20%20%20%2B%2Biter%3B%0D%0A%20%20%20%20%20%20%20%20%2B%2Bb2Distance.b2_gjkIters%3B%0D%0A%20%20%20%20%20%20%20%20var%20duplicate%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20saveCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(vertex.indexA%20%3D%3D%20saveA%5Bi%5D%20%26%26%20vertex.indexB%20%3D%3D%20saveB%5Bi%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20duplicate%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(duplicate)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%2B%2Bsimplex.m_count%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20b2Distance.b2_gjkMaxIters%20%3D%20b2Math.Max(b2Distance.b2_gjkMaxIters%2C%20iter)%3B%0D%0A%20%20%20%20%20%20simplex.GetWitnessPoints(output.pointA%2C%20output.pointB)%3B%0D%0A%20%20%20%20%20%20output.distance%20%3D%20b2Math%0D%0A%20%20%20%20%20%20%20%20.SubtractVV(output.pointA%2C%20output.pointB)%0D%0A%20%20%20%20%20%20%20%20.Length()%3B%0D%0A%20%20%20%20%20%20output.iterations%20%3D%20iter%3B%0D%0A%20%20%20%20%20%20simplex.WriteCache(cache)%3B%0D%0A%20%20%20%20%20%20if%20(input.useRadii)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20rA%20%3D%20proxyA.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20var%20rB%20%3D%20proxyB.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20if%20(output.distance%20%3E%20rA%20%2B%20rB%20%26%26%20output.distance%20%3E%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20output.distance%20-%3D%20rA%20%2B%20rB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20normal%20%3D%20b2Math.SubtractVV(output.pointB%2C%20output.pointA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20normal.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.pointA.x%20%2B%3D%20rA%20*%20normal.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.pointA.y%20%2B%3D%20rA%20*%20normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.pointB.x%20-%3D%20rB%20*%20normal.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.pointB.y%20-%3D%20rB%20*%20normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20p%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20p.x%20%3D%200.5%20*%20(output.pointA.x%20%2B%20output.pointB.x)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20p.y%20%3D%200.5%20*%20(output.pointA.y%20%2B%20output.pointB.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.pointA.x%20%3D%20output.pointB.x%20%3D%20p.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.pointA.y%20%3D%20output.pointB.y%20%3D%20p.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20output.distance%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Distance.s_simplex%20%3D%20new%20b2Simplex()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Distance.s_saveA%20%3D%20new%20Vector_a2j_Number(3)%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Distance.s_saveB%20%3D%20new%20Vector_a2j_Number(3)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2DistanceInput.b2DistanceInput%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DistanceOutput.b2DistanceOutput%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.pointA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.pointB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceProxy.b2DistanceProxy%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DistanceProxy.prototype.Set%20%3D%20function%20(shape)%20%7B%0D%0A%20%20%20%20%20%20switch%20(shape.GetType())%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_circleShape%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20circle%20%3D%20shape%20instanceof%20b2CircleShape%20%3F%20shape%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_vertices%20%3D%20new%20Vector(1%2C%20true)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_vertices%5B0%5D%20%3D%20circle.m_p%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_radius%20%3D%20circle.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_polygonShape%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20polygon%20%3D%20shape%20instanceof%20b2PolygonShape%20%3F%20shape%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_vertices%20%3D%20polygon.m_vertices%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_count%20%3D%20polygon.m_vertexCount%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_radius%20%3D%20polygon.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceProxy.prototype.GetSupport%20%3D%20function%20(d)%20%7B%0D%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_count%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20bestIndex%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceProxy.prototype.GetSupportVertex%20%3D%20function%20(d)%20%7B%0D%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_count%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20this.m_vertices%5BbestIndex%5D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceProxy.prototype.GetVertexCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_count%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceProxy.prototype.GetVertex%20%3D%20function%20(index)%20%7B%0D%0A%20%20%20%20%20%20if%20(index%20%3D%3D%3D%20undefined)%20index%20%3D%200%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(0%20%3C%3D%20index%20%26%26%20index%20%3C%20this.m_count)%3B%0D%0A%20%20%20%20%20%20return%20this.m_vertices%5Bindex%5D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.b2DynamicTree%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.b2DynamicTree%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_root%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_freeList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_path%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_insertionCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.CreateProxy%20%3D%20function%20(aabb%2C%20userData)%20%7B%0D%0A%20%20%20%20%20%20var%20node%20%3D%20this.AllocateNode()%3B%0D%0A%20%20%20%20%20%20var%20extendX%20%3D%20b2Settings.b2_aabbExtension%3B%0D%0A%20%20%20%20%20%20var%20extendY%20%3D%20b2Settings.b2_aabbExtension%3B%0D%0A%20%20%20%20%20%20node.aabb.lowerBound.x%20%3D%20aabb.lowerBound.x%20-%20extendX%3B%0D%0A%20%20%20%20%20%20node.aabb.lowerBound.y%20%3D%20aabb.lowerBound.y%20-%20extendY%3B%0D%0A%20%20%20%20%20%20node.aabb.upperBound.x%20%3D%20aabb.upperBound.x%20%2B%20extendX%3B%0D%0A%20%20%20%20%20%20node.aabb.upperBound.y%20%3D%20aabb.upperBound.y%20%2B%20extendY%3B%0D%0A%20%20%20%20%20%20node.userData%20%3D%20userData%3B%0D%0A%20%20%20%20%20%20this.InsertLeaf(node)%3B%0D%0A%20%20%20%20%20%20return%20node%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.DestroyProxy%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20this.RemoveLeaf(proxy)%3B%0D%0A%20%20%20%20%20%20this.FreeNode(proxy)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.MoveProxy%20%3D%20function%20(proxy%2C%20aabb%2C%20displacement)%20%7B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(proxy.IsLeaf())%3B%0D%0A%20%20%20%20%20%20if%20(proxy.aabb.Contains(aabb))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.RemoveLeaf(proxy)%3B%0D%0A%20%20%20%20%20%20var%20extendX%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbExtension%20%2B%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbMultiplier%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(displacement.x%20%3E%200%20%3F%20displacement.x%20%3A%20-displacement.x)%3B%0D%0A%20%20%20%20%20%20var%20extendY%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbExtension%20%2B%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbMultiplier%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(displacement.y%20%3E%200%20%3F%20displacement.y%20%3A%20-displacement.y)%3B%0D%0A%20%20%20%20%20%20proxy.aabb.lowerBound.x%20%3D%20aabb.lowerBound.x%20-%20extendX%3B%0D%0A%20%20%20%20%20%20proxy.aabb.lowerBound.y%20%3D%20aabb.lowerBound.y%20-%20extendY%3B%0D%0A%20%20%20%20%20%20proxy.aabb.upperBound.x%20%3D%20aabb.upperBound.x%20%2B%20extendX%3B%0D%0A%20%20%20%20%20%20proxy.aabb.upperBound.y%20%3D%20aabb.upperBound.y%20%2B%20extendY%3B%0D%0A%20%20%20%20%20%20this.InsertLeaf(proxy)%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.Rebalance%20%3D%20function%20(iterations)%20%7B%0D%0A%20%20%20%20%20%20if%20(iterations%20%3D%3D%3D%20undefined)%20iterations%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20iterations%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20this.m_root%3B%0D%0A%20%20%20%20%20%20%20%20var%20bit%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20while%20(node.IsLeaf()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20node%20%3D%20(this.m_path%20%3E%3E%20bit)%20%26%201%20%3F%20node.child2%20%3A%20node.child1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bit%20%3D%20(bit%20%2B%201)%20%26%2031%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%2B%2Bthis.m_path%3B%0D%0A%20%20%20%20%20%20%20%20this.RemoveLeaf(node)%3B%0D%0A%20%20%20%20%20%20%20%20this.InsertLeaf(node)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.GetFatAABB%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20return%20proxy.aabb%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.GetUserData%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20return%20proxy.userData%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.Query%20%3D%20function%20(callback%2C%20aabb)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20var%20stack%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20var%20count%20%3D%200%3B%0D%0A%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20this.m_root%3B%0D%0A%20%20%20%20%20%20while%20(count%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20stack%5B--count%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(node.aabb.TestOverlap(aabb))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(node.IsLeaf())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20proceed%20%3D%20callback(node)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!proceed)%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.RayCast%20%3D%20function%20(callback%2C%20input)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20var%20p1%20%3D%20input.p1%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20input.p2%3B%0D%0A%20%20%20%20%20%20var%20r%20%3D%20b2Math.SubtractVV(p1%2C%20p2)%3B%0D%0A%20%20%20%20%20%20r.Normalize()%3B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20b2Math.CrossFV(1.0%2C%20r)%3B%0D%0A%20%20%20%20%20%20var%20abs_v%20%3D%20b2Math.AbsV(v)%3B%0D%0A%20%20%20%20%20%20var%20maxFraction%20%3D%20input.maxFraction%3B%0D%0A%20%20%20%20%20%20var%20segmentAABB%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20p1.x%20%2B%20maxFraction%20*%20(p2.x%20-%20p1.x)%3B%0D%0A%20%20%20%20%20%20%20%20tY%20%3D%20p1.y%20%2B%20maxFraction%20*%20(p2.y%20-%20p1.y)%3B%0D%0A%20%20%20%20%20%20%20%20segmentAABB.lowerBound.x%20%3D%20Math.min(p1.x%2C%20tX)%3B%0D%0A%20%20%20%20%20%20%20%20segmentAABB.lowerBound.y%20%3D%20Math.min(p1.y%2C%20tY)%3B%0D%0A%20%20%20%20%20%20%20%20segmentAABB.upperBound.x%20%3D%20Math.max(p1.x%2C%20tX)%3B%0D%0A%20%20%20%20%20%20%20%20segmentAABB.upperBound.y%20%3D%20Math.max(p1.y%2C%20tY)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20stack%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20var%20count%20%3D%200%3B%0D%0A%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20this.m_root%3B%0D%0A%20%20%20%20%20%20while%20(count%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20stack%5B--count%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(node.aabb.TestOverlap(segmentAABB)%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20node.aabb.GetCenter()%3B%0D%0A%20%20%20%20%20%20%20%20var%20h%20%3D%20node.aabb.GetExtents()%3B%0D%0A%20%20%20%20%20%20%20%20var%20separation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20Math.abs(v.x%20*%20(p1.x%20-%20c.x)%20%2B%20v.y%20*%20(p1.y%20-%20c.y))%20-%0D%0A%20%20%20%20%20%20%20%20%20%20abs_v.x%20*%20h.x%20-%0D%0A%20%20%20%20%20%20%20%20%20%20abs_v.y%20*%20h.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(separation%20%3E%200.0)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20if%20(node.IsLeaf())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20subInput%20%3D%20new%20b2RayCastInput()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20subInput.p1%20%3D%20input.p1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20subInput.p2%20%3D%20input.p2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20subInput.maxFraction%20%3D%20input.maxFraction%3B%0D%0A%20%20%20%20%20%20%20%20%20%20maxFraction%20%3D%20callback(subInput%2C%20node)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(maxFraction%20%3D%3D%200.0)%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(maxFraction%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tX%20%3D%20p1.x%20%2B%20maxFraction%20*%20(p2.x%20-%20p1.x)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tY%20%3D%20p1.y%20%2B%20maxFraction%20*%20(p2.y%20-%20p1.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.lowerBound.x%20%3D%20Math.min(p1.x%2C%20tX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.lowerBound.y%20%3D%20Math.min(p1.y%2C%20tY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.upperBound.x%20%3D%20Math.max(p1.x%2C%20tX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.upperBound.y%20%3D%20Math.max(p1.y%2C%20tY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child2%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.AllocateNode%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_freeList)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20this.m_freeList%3B%0D%0A%20%20%20%20%20%20%20%20this.m_freeList%20%3D%20node.parent%3B%0D%0A%20%20%20%20%20%20%20%20node.parent%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20node.child1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20node.child2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20return%20node%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20new%20b2DynamicTreeNode()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.FreeNode%20%3D%20function%20(node)%20%7B%0D%0A%20%20%20%20%20%20node.parent%20%3D%20this.m_freeList%3B%0D%0A%20%20%20%20%20%20this.m_freeList%20%3D%20node%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.InsertLeaf%20%3D%20function%20(leaf)%20%7B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_insertionCount%3B%0D%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20leaf%3B%0D%0A%20%20%20%20%20%20%20%20this.m_root.parent%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20center%20%3D%20leaf.aabb.GetCenter()%3B%0D%0A%20%20%20%20%20%20var%20sibling%20%3D%20this.m_root%3B%0D%0A%20%20%20%20%20%20if%20(sibling.IsLeaf()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20child1%20%3D%20sibling.child1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20child2%20%3D%20sibling.child2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20norm1%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child1.aabb.lowerBound.x%20%2B%20child1.aabb.upperBound.x)%20%2F%202%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center.x%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child1.aabb.lowerBound.y%20%2B%20child1.aabb.upperBound.y)%20%2F%202%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center.y%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20norm2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child2.aabb.lowerBound.x%20%2B%20child2.aabb.upperBound.x)%20%2F%202%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center.x%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child2.aabb.lowerBound.y%20%2B%20child2.aabb.upperBound.y)%20%2F%202%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center.y%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(norm1%20%3C%20norm2)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sibling%20%3D%20child1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sibling%20%3D%20child2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20while%20(sibling.IsLeaf()%20%3D%3D%20false)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20node1%20%3D%20sibling.parent%3B%0D%0A%20%20%20%20%20%20var%20node2%20%3D%20this.AllocateNode()%3B%0D%0A%20%20%20%20%20%20node2.parent%20%3D%20node1%3B%0D%0A%20%20%20%20%20%20node2.userData%20%3D%20null%3B%0D%0A%20%20%20%20%20%20node2.aabb.Combine(leaf.aabb%2C%20sibling.aabb)%3B%0D%0A%20%20%20%20%20%20if%20(node1)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(sibling.parent.child1%20%3D%3D%20sibling)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20node1.child1%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20node1.child2%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20node2.child1%20%3D%20sibling%3B%0D%0A%20%20%20%20%20%20%20%20node2.child2%20%3D%20leaf%3B%0D%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%20%20leaf.parent%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(node1.aabb.Contains(node2.aabb))%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20node1.aabb.Combine(node1.child1.aabb%2C%20node1.child2.aabb)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20node2%20%3D%20node1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20node1%20%3D%20node1.parent%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20while%20(node1)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20node2.child1%20%3D%20sibling%3B%0D%0A%20%20%20%20%20%20%20%20node2.child2%20%3D%20leaf%3B%0D%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%20%20leaf.parent%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20node2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTree.prototype.RemoveLeaf%20%3D%20function%20(leaf)%20%7B%0D%0A%20%20%20%20%20%20if%20(leaf%20%3D%3D%20this.m_root)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20node2%20%3D%20leaf.parent%3B%0D%0A%20%20%20%20%20%20var%20node1%20%3D%20node2.parent%3B%0D%0A%20%20%20%20%20%20var%20sibling%3B%0D%0A%20%20%20%20%20%20if%20(node2.child1%20%3D%3D%20leaf)%20%7B%0D%0A%20%20%20%20%20%20%20%20sibling%20%3D%20node2.child2%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20sibling%20%3D%20node2.child1%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(node1)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(node1.child1%20%3D%3D%20node2)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20node1.child1%20%3D%20sibling%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20node1.child2%20%3D%20sibling%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20node1%3B%0D%0A%20%20%20%20%20%20%20%20this.FreeNode(node2)%3B%0D%0A%20%20%20%20%20%20%20%20while%20(node1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20oldAABB%20%3D%20node1.aabb%3B%0D%0A%20%20%20%20%20%20%20%20%20%20node1.aabb%20%3D%20b2AABB.Combine(node1.child1.aabb%2C%20node1.child2.aabb)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(oldAABB.Contains(node1.aabb))%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20node1%20%3D%20node1.parent%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20sibling%3B%0D%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.FreeNode(node2)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.b2DynamicTreeBroadPhase%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_tree%20%3D%20new%20b2DynamicTree()%3B%0D%0A%20%20%20%20%20%20this.m_moveBuffer%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20this.m_pairBuffer%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20this.m_pairCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.CreateProxy%20%3D%20function%20(aabb%2C%20userData)%20%7B%0D%0A%20%20%20%20%20%20var%20proxy%20%3D%20this.m_tree.CreateProxy(aabb%2C%20userData)%3B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_proxyCount%3B%0D%0A%20%20%20%20%20%20this.BufferMove(proxy)%3B%0D%0A%20%20%20%20%20%20return%20proxy%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.DestroyProxy%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20this.UnBufferMove(proxy)%3B%0D%0A%20%20%20%20%20%20--this.m_proxyCount%3B%0D%0A%20%20%20%20%20%20this.m_tree.DestroyProxy(proxy)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.MoveProxy%20%3D%20function%20(%0D%0A%20%20%20%20%20%20proxy%2C%0D%0A%20%20%20%20%20%20aabb%2C%0D%0A%20%20%20%20%20%20displacement%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20var%20buffer%20%3D%20this.m_tree.MoveProxy(proxy%2C%20aabb%2C%20displacement)%3B%0D%0A%20%20%20%20%20%20if%20(buffer)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.BufferMove(proxy)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.TestOverlap%20%3D%20function%20(proxyA%2C%20proxyB)%20%7B%0D%0A%20%20%20%20%20%20var%20aabbA%20%3D%20this.m_tree.GetFatAABB(proxyA)%3B%0D%0A%20%20%20%20%20%20var%20aabbB%20%3D%20this.m_tree.GetFatAABB(proxyB)%3B%0D%0A%20%20%20%20%20%20return%20aabbA.TestOverlap(aabbB)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.GetUserData%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_tree.GetUserData(proxy)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.GetFatAABB%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_tree.GetFatAABB(proxy)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.GetProxyCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_proxyCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.UpdatePairs%20%3D%20function%20(callback)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20__this.m_pairCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20queryProxy%3B%0D%0A%20%20%20%20%20%20function%20QueryCallback(proxy)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(proxy%20%3D%3D%20queryProxy)%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20if%20(__this.m_pairCount%20%3D%3D%20__this.m_pairBuffer.length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20__this.m_pairBuffer%5B__this.m_pairCount%5D%20%3D%20new%20b2DynamicTreePair()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20pair%20%3D%20__this.m_pairBuffer%5B__this.m_pairCount%5D%3B%0D%0A%20%20%20%20%20%20%20%20pair.proxyA%20%3D%20proxy%20%3C%20queryProxy%20%3F%20proxy%20%3A%20queryProxy%3B%0D%0A%20%20%20%20%20%20%20%20pair.proxyB%20%3D%20proxy%20%3E%3D%20queryProxy%20%3F%20proxy%20%3A%20queryProxy%3B%0D%0A%20%20%20%20%20%20%20%20%2B%2B__this.m_pairCount%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20__this.m_moveBuffer.length%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20queryProxy%20%3D%20__this.m_moveBuffer%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20fatAABB%20%3D%20__this.m_tree.GetFatAABB(queryProxy)%3B%0D%0A%20%20%20%20%20%20%20%20__this.m_tree.Query(QueryCallback%2C%20fatAABB)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20__this.m_moveBuffer.length%20%3D%200%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20__this.m_pairCount%3B%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20primaryPair%20%3D%20__this.m_pairBuffer%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20userDataA%20%3D%20__this.m_tree.GetUserData(primaryPair.proxyA)%3B%0D%0A%20%20%20%20%20%20%20%20var%20userDataB%20%3D%20__this.m_tree.GetUserData(primaryPair.proxyB)%3B%0D%0A%20%20%20%20%20%20%20%20callback(userDataA%2C%20userDataB)%3B%0D%0A%20%20%20%20%20%20%20%20%2B%2Bi%3B%0D%0A%20%20%20%20%20%20%20%20while%20(i%20%3C%20__this.m_pairCount)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20pair%20%3D%20__this.m_pairBuffer%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pair.proxyA%20!%3D%20primaryPair.proxyA%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pair.proxyB%20!%3D%20primaryPair.proxyB%0D%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.Query%20%3D%20function%20(callback%2C%20aabb)%20%7B%0D%0A%20%20%20%20%20%20this.m_tree.Query(callback%2C%20aabb)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.RayCast%20%3D%20function%20(callback%2C%20input)%20%7B%0D%0A%20%20%20%20%20%20this.m_tree.RayCast(callback%2C%20input)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.Validate%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.Rebalance%20%3D%20function%20(iterations)%20%7B%0D%0A%20%20%20%20%20%20if%20(iterations%20%3D%3D%3D%20undefined)%20iterations%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_tree.Rebalance(iterations)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.BufferMove%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20this.m_moveBuffer%5Bthis.m_moveBuffer.length%5D%20%3D%20proxy%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.UnBufferMove%20%3D%20function%20(proxy)%20%7B%0D%0A%20%20%20%20%20%20var%20i%20%3D%20parseInt(this.m_moveBuffer.indexOf(proxy))%3B%0D%0A%20%20%20%20%20%20this.m_moveBuffer.splice(i%2C%201)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.ComparePairs%20%3D%20function%20(pair1%2C%20pair2)%20%7B%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.__implements%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20b2DynamicTreeBroadPhase.__implements%5BIBroadPhase%5D%20%3D%20true%3B%0D%0A%20%20%20%20b2DynamicTreeNode.b2DynamicTreeNode%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.aabb%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreeNode.prototype.IsLeaf%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.child1%20%3D%3D%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DynamicTreePair.b2DynamicTreePair%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Manifold.b2Manifold%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Manifold.prototype.b2Manifold%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_points%5Bi%5D%20%3D%20new%20b2ManifoldPoint()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_localPlaneNormal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localPoint%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Manifold.prototype.Reset%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20(this.m_points%5Bi%5D%20instanceof%20b2ManifoldPoint%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_points%5Bi%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20).Reset()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_localPlaneNormal.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_localPoint.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Manifold.prototype.Set%20%3D%20function%20(m)%20%7B%0D%0A%20%20%20%20%20%20this.m_pointCount%20%3D%20m.m_pointCount%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20(this.m_points%5Bi%5D%20instanceof%20b2ManifoldPoint%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_points%5Bi%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20).Set(m.m_points%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_localPlaneNormal.SetV(m.m_localPlaneNormal)%3B%0D%0A%20%20%20%20%20%20this.m_localPoint.SetV(m.m_localPoint)%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20m.m_type%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Manifold.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20copy%20%3D%20new%20b2Manifold()%3B%0D%0A%20%20%20%20%20%20copy.Set(this)%3B%0D%0A%20%20%20%20%20%20return%20copy%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Manifold.e_circles%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Manifold.e_faceA%20%3D%200x0002%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2Manifold.e_faceB%20%3D%200x0004%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2ManifoldPoint.b2ManifoldPoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_localPoint%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_id%20%3D%20new%20b2ContactID()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ManifoldPoint.prototype.b2ManifoldPoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.Reset()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ManifoldPoint.prototype.Reset%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_localPoint.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_normalImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_tangentImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_id.key%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ManifoldPoint.prototype.Set%20%3D%20function%20(m)%20%7B%0D%0A%20%20%20%20%20%20this.m_localPoint.SetV(m.m_localPoint)%3B%0D%0A%20%20%20%20%20%20this.m_normalImpulse%20%3D%20m.m_normalImpulse%3B%0D%0A%20%20%20%20%20%20this.m_tangentImpulse%20%3D%20m.m_tangentImpulse%3B%0D%0A%20%20%20%20%20%20this.m_id.Set(m.m_id)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Point.b2Point%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.p%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Point.prototype.Support%20%3D%20function%20(xf%2C%20vX%2C%20vY)%20%7B%0D%0A%20%20%20%20%20%20if%20(vX%20%3D%3D%3D%20undefined)%20vX%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(vY%20%3D%3D%3D%20undefined)%20vY%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20this.p%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Point.prototype.GetFirstVertex%20%3D%20function%20(xf)%20%7B%0D%0A%20%20%20%20%20%20return%20this.p%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RayCastInput.b2RayCastInput%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.p1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.p2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RayCastInput.prototype.b2RayCastInput%20%3D%20function%20(p1%2C%20p2%2C%20maxFraction)%20%7B%0D%0A%20%20%20%20%20%20if%20(p1%20%3D%3D%3D%20undefined)%20p1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(p2%20%3D%3D%3D%20undefined)%20p2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(maxFraction%20%3D%3D%3D%20undefined)%20maxFraction%20%3D%201%3B%0D%0A%20%20%20%20%20%20if%20(p1)%20this.p1.SetV(p1)%3B%0D%0A%20%20%20%20%20%20if%20(p2)%20this.p2.SetV(p2)%3B%0D%0A%20%20%20%20%20%20this.maxFraction%20%3D%20maxFraction%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RayCastOutput.b2RayCastOutput%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Segment.b2Segment%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.p1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.p2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Segment.prototype.TestSegment%20%3D%20function%20(%0D%0A%20%20%20%20%20%20lambda%2C%0D%0A%20%20%20%20%20%20normal%2C%0D%0A%20%20%20%20%20%20segment%2C%0D%0A%20%20%20%20%20%20maxLambda%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(maxLambda%20%3D%3D%3D%20undefined)%20maxLambda%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20segment.p1%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%20segment.p2.x%20-%20s.x%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%20segment.p2.y%20-%20s.y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20this.p2.x%20-%20this.p1.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20this.p2.y%20-%20this.p1.y%3B%0D%0A%20%20%20%20%20%20var%20nX%20%3D%20dY%3B%0D%0A%20%20%20%20%20%20var%20nY%20%3D%20-dX%3B%0D%0A%20%20%20%20%20%20var%20k_slop%20%3D%20100.0%20*%20Number.MIN_VALUE%3B%0D%0A%20%20%20%20%20%20var%20denom%20%3D%20-(rX%20*%20nX%20%2B%20rY%20*%20nY)%3B%0D%0A%20%20%20%20%20%20if%20(denom%20%3E%20k_slop)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20bX%20%3D%20s.x%20-%20this.p1.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20bY%20%3D%20s.y%20-%20this.p1.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20bX%20*%20nX%20%2B%20bY%20*%20nY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(0.0%20%3C%3D%20a%20%26%26%20a%20%3C%3D%20maxLambda%20*%20denom)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20mu2%20%3D%20-rX%20*%20bY%20%2B%20rY%20*%20bX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(-k_slop%20*%20denom%20%3C%3D%20mu2%20%26%26%20mu2%20%3C%3D%20denom%20*%20(1.0%20%2B%20k_slop))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%2F%3D%20denom%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20nLen%20%3D%20Math.sqrt(nX%20*%20nX%20%2B%20nY%20*%20nY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20nX%20%2F%3D%20nLen%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20nY%20%2F%3D%20nLen%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lambda%5B0%5D%20%3D%20a%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.Set(nX%2C%20nY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Segment.prototype.Extend%20%3D%20function%20(aabb)%20%7B%0D%0A%20%20%20%20%20%20this.ExtendForward(aabb)%3B%0D%0A%20%20%20%20%20%20this.ExtendBackward(aabb)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Segment.prototype.ExtendForward%20%3D%20function%20(aabb)%20%7B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20this.p2.x%20-%20this.p1.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20this.p2.y%20-%20this.p1.y%3B%0D%0A%20%20%20%20%20%20var%20lambda%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20dX%20%3E%200%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.x%20-%20this.p1.x)%20%2F%20dX%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20dX%20%3C%200%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.x%20-%20this.p1.x)%20%2F%20dX%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%2C%0D%0A%20%20%20%20%20%20%20%20dY%20%3E%200%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.y%20-%20this.p1.y)%20%2F%20dY%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20dY%20%3C%200%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.y%20-%20this.p1.y)%20%2F%20dY%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.p2.x%20%3D%20this.p1.x%20%2B%20dX%20*%20lambda%3B%0D%0A%20%20%20%20%20%20this.p2.y%20%3D%20this.p1.y%20%2B%20dY%20*%20lambda%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Segment.prototype.ExtendBackward%20%3D%20function%20(aabb)%20%7B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20-this.p2.x%20%2B%20this.p1.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20-this.p2.y%20%2B%20this.p1.y%3B%0D%0A%20%20%20%20%20%20var%20lambda%20%3D%20Math.min(%0D%0A%20%20%20%20%20%20%20%20dX%20%3E%200%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.x%20-%20this.p2.x)%20%2F%20dX%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20dX%20%3C%200%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.x%20-%20this.p2.x)%20%2F%20dX%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%2C%0D%0A%20%20%20%20%20%20%20%20dY%20%3E%200%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.y%20-%20this.p2.y)%20%2F%20dY%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20dY%20%3C%200%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.y%20-%20this.p2.y)%20%2F%20dY%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.p1.x%20%3D%20this.p2.x%20%2B%20dX%20*%20lambda%3B%0D%0A%20%20%20%20%20%20this.p1.y%20%3D%20this.p2.y%20%2B%20dY%20*%20lambda%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2SeparationFunction.b2SeparationFunction%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_localPoint%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_axis%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2SeparationFunction.prototype.Initialize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20cache%2C%0D%0A%20%20%20%20%20%20proxyA%2C%0D%0A%20%20%20%20%20%20transformA%2C%0D%0A%20%20%20%20%20%20proxyB%2C%0D%0A%20%20%20%20%20%20transformB%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20this.m_proxyA%20%3D%20proxyA%3B%0D%0A%20%20%20%20%20%20this.m_proxyB%20%3D%20proxyB%3B%0D%0A%20%20%20%20%20%20var%20count%20%3D%20parseInt(cache.count)%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(0%20%3C%20count%20%26%26%20count%20%3C%203)%3B%0D%0A%20%20%20%20%20%20var%20localPointA%3B%0D%0A%20%20%20%20%20%20var%20localPointA1%3B%0D%0A%20%20%20%20%20%20var%20localPointA2%3B%0D%0A%20%20%20%20%20%20var%20localPointB%3B%0D%0A%20%20%20%20%20%20var%20localPointB1%3B%0D%0A%20%20%20%20%20%20var%20localPointB2%3B%0D%0A%20%20%20%20%20%20var%20pointAX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20pointAY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20pointBX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20pointBY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20normalX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20normalY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20sgn%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(count%20%3D%3D%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_points%3B%0D%0A%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointA%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointB%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.x%20%3D%20pointBX%20-%20pointAX%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.y%20%3D%20pointBY%20-%20pointAY%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(cache.indexB%5B0%5D%20%3D%3D%20cache.indexB%5B1%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20localPointA1%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointA2%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B1%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localPoint.x%20%3D%200.5%20*%20(localPointA1.x%20%2B%20localPointA2.x)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localPoint.y%20%3D%200.5%20*%20(localPointA1.y%20%2B%20localPointA2.y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointA2%2C%20localPointA1)%2C%0D%0A%20%20%20%20%20%20%20%20%20%201.0%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointB%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20s%20%3D%20(pointBX%20-%20pointAX)%20*%20normalX%20%2B%20(pointBY%20-%20pointAY)%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(cache.indexA%5B0%5D%20%3D%3D%20cache.indexA%5B0%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceB%3B%0D%0A%20%20%20%20%20%20%20%20localPointB1%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB2%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B1%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localPoint.x%20%3D%200.5%20*%20(localPointB1.x%20%2B%20localPointB2.x)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localPoint.y%20%3D%200.5%20*%20(localPointB1.y%20%2B%20localPointB2.y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointB2%2C%20localPointB1)%2C%0D%0A%20%20%20%20%20%20%20%20%20%201.0%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointA%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20s%20%3D%20(pointAX%20-%20pointBX)%20*%20normalX%20%2B%20(pointAY%20-%20pointBY)%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20localPointA1%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointA2%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B1%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB1%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB2%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B1%5D)%3B%0D%0A%20%20%20%20%20%20%20%20var%20pA%20%3D%20b2Math.MulX(transformA%2C%20localPointA)%3B%0D%0A%20%20%20%20%20%20%20%20var%20dA%20%3D%20b2Math.MulMV(%0D%0A%20%20%20%20%20%20%20%20%20%20transformA.R%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointA2%2C%20localPointA1)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20pB%20%3D%20b2Math.MulX(transformB%2C%20localPointB)%3B%0D%0A%20%20%20%20%20%20%20%20var%20dB%20%3D%20b2Math.MulMV(%0D%0A%20%20%20%20%20%20%20%20%20%20transformB.R%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointB2%2C%20localPointB1)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20dA.x%20*%20dA.x%20%2B%20dA.y%20*%20dA.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20e%20%3D%20dB.x%20*%20dB.x%20%2B%20dB.y%20*%20dB.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20r%20%3D%20b2Math.SubtractVV(dB%2C%20dA)%3B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20dA.x%20*%20r.x%20%2B%20dA.y%20*%20r.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20f%20%3D%20dB.x%20*%20r.x%20%2B%20dB.y%20*%20r.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20b%20%3D%20dA.x%20*%20dB.x%20%2B%20dA.y%20*%20dB.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20denom%20%3D%20a%20*%20e%20-%20b%20*%20b%3B%0D%0A%20%20%20%20%20%20%20%20s%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20if%20(denom%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20b2Math.Clamp((b%20*%20f%20-%20c%20*%20e)%20%2F%20denom%2C%200.0%2C%201.0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20t%20%3D%20(b%20*%20s%20%2B%20f)%20%2F%20e%3B%0D%0A%20%20%20%20%20%20%20%20if%20(t%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20t%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20b2Math.Clamp((b%20-%20c)%20%2F%20a%2C%200.0%2C%201.0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20localPointA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20localPointA.x%20%3D%20localPointA1.x%20%2B%20s%20*%20(localPointA2.x%20-%20localPointA1.x)%3B%0D%0A%20%20%20%20%20%20%20%20localPointA.y%20%3D%20localPointA1.y%20%2B%20s%20*%20(localPointA2.y%20-%20localPointA1.y)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20localPointB.x%20%3D%20localPointB1.x%20%2B%20s%20*%20(localPointB2.x%20-%20localPointB1.x)%3B%0D%0A%20%20%20%20%20%20%20%20localPointB.y%20%3D%20localPointB1.y%20%2B%20s%20*%20(localPointB2.y%20-%20localPointB1.y)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(s%20%3D%3D%200.0%20%7C%7C%20s%20%3D%3D%201.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointB2%2C%20localPointB1)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%201.0%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_localPoint%20%3D%20localPointB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20localPointA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sgn%20%3D%20(pointAX%20-%20pointBX)%20*%20normalX%20%2B%20(pointAY%20-%20pointBY)%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointA2%2C%20localPointA1)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%201.0%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_localPoint%20%3D%20localPointA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20localPointB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sgn%20%3D%20(pointBX%20-%20pointAX)%20*%20normalX%20%2B%20(pointBY%20-%20pointAY)%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2SeparationFunction.prototype.Evaluate%20%3D%20function%20(%0D%0A%20%20%20%20%20%20transformA%2C%0D%0A%20%20%20%20%20%20transformB%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20var%20axisA%3B%0D%0A%20%20%20%20%20%20var%20axisB%3B%0D%0A%20%20%20%20%20%20var%20localPointA%3B%0D%0A%20%20%20%20%20%20var%20localPointB%3B%0D%0A%20%20%20%20%20%20var%20pointA%3B%0D%0A%20%20%20%20%20%20var%20pointB%3B%0D%0A%20%20%20%20%20%20var%20seperation%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20normal%3B%0D%0A%20%20%20%20%20%20switch%20(this.m_type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2SeparationFunction.e_points%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20axisA%20%3D%20b2Math.MulTMV(transformA.R%2C%20this.m_axis)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20axisB%20%3D%20b2Math.MulTMV(transformB.R%2C%20this.m_axis.GetNegative())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetSupportVertex(axisA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetSupportVertex(axisB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointA%20%3D%20b2Math.MulX(transformA%2C%20localPointA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointB%20%3D%20b2Math.MulX(transformB%2C%20localPointB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20seperation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointB.x%20-%20pointA.x)%20*%20this.m_axis.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointB.y%20-%20pointA.y)%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20seperation%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20case%20b2SeparationFunction.e_faceA%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20normal%20%3D%20b2Math.MulMV(transformA.R%2C%20this.m_axis)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointA%20%3D%20b2Math.MulX(transformA%2C%20this.m_localPoint)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20axisB%20%3D%20b2Math.MulTMV(transformB.R%2C%20normal.GetNegative())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetSupportVertex(axisB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointB%20%3D%20b2Math.MulX(transformB%2C%20localPointB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20seperation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointB.x%20-%20pointA.x)%20*%20normal.x%20%2B%20(pointB.y%20-%20pointA.y)%20*%20normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20seperation%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20case%20b2SeparationFunction.e_faceB%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20normal%20%3D%20b2Math.MulMV(transformB.R%2C%20this.m_axis)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointB%20%3D%20b2Math.MulX(transformB%2C%20this.m_localPoint)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20axisA%20%3D%20b2Math.MulTMV(transformA.R%2C%20normal.GetNegative())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetSupportVertex(axisA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pointA%20%3D%20b2Math.MulX(transformA%2C%20localPointA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20seperation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointA.x%20-%20pointB.x)%20*%20normal.x%20%2B%20(pointA.y%20-%20pointB.y)%20*%20normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20seperation%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2SeparationFunction.e_points%20%3D%200x01%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2SeparationFunction.e_faceA%20%3D%200x02%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2SeparationFunction.e_faceB%20%3D%200x04%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2Simplex.b2Simplex%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_v1%20%3D%20new%20b2SimplexVertex()%3B%0D%0A%20%20%20%20%20%20this.m_v2%20%3D%20new%20b2SimplexVertex()%3B%0D%0A%20%20%20%20%20%20this.m_v3%20%3D%20new%20b2SimplexVertex()%3B%0D%0A%20%20%20%20%20%20this.m_vertices%20%3D%20new%20Vector(3)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.b2Simplex%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_vertices%5B0%5D%20%3D%20this.m_v1%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B1%5D%20%3D%20this.m_v2%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B2%5D%20%3D%20this.m_v3%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.ReadCache%20%3D%20function%20(%0D%0A%20%20%20%20%20%20cache%2C%0D%0A%20%20%20%20%20%20proxyA%2C%0D%0A%20%20%20%20%20%20transformA%2C%0D%0A%20%20%20%20%20%20proxyB%2C%0D%0A%20%20%20%20%20%20transformB%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(0%20%3C%3D%20cache.count%20%26%26%20cache.count%20%3C%3D%203)%3B%0D%0A%20%20%20%20%20%20var%20wALocal%3B%0D%0A%20%20%20%20%20%20var%20wBLocal%3B%0D%0A%20%20%20%20%20%20this.m_count%20%3D%20cache.count%3B%0D%0A%20%20%20%20%20%20var%20vertices%20%3D%20this.m_vertices%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_count%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20v%20%3D%20vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20v.indexA%20%3D%20cache.indexA%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20v.indexB%20%3D%20cache.indexB%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20wALocal%20%3D%20proxyA.GetVertex(v.indexA)%3B%0D%0A%20%20%20%20%20%20%20%20wBLocal%20%3D%20proxyB.GetVertex(v.indexB)%3B%0D%0A%20%20%20%20%20%20%20%20v.wA%20%3D%20b2Math.MulX(transformA%2C%20wALocal)%3B%0D%0A%20%20%20%20%20%20%20%20v.wB%20%3D%20b2Math.MulX(transformB%2C%20wBLocal)%3B%0D%0A%20%20%20%20%20%20%20%20v.w%20%3D%20b2Math.SubtractVV(v.wB%2C%20v.wA)%3B%0D%0A%20%20%20%20%20%20%20%20v.a%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_count%20%3E%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20metric1%20%3D%20cache.metric%3B%0D%0A%20%20%20%20%20%20%20%20var%20metric2%20%3D%20this.GetMetric()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20metric2%20%3C%200.5%20*%20metric1%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20metric1%20%3C%20metric2%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20metric2%20%3C%20Number.MIN_VALUE%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_count%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_count%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20v%20%3D%20vertices%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20v.indexA%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20v.indexB%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20wALocal%20%3D%20proxyA.GetVertex(0)%3B%0D%0A%20%20%20%20%20%20%20%20wBLocal%20%3D%20proxyB.GetVertex(0)%3B%0D%0A%20%20%20%20%20%20%20%20v.wA%20%3D%20b2Math.MulX(transformA%2C%20wALocal)%3B%0D%0A%20%20%20%20%20%20%20%20v.wB%20%3D%20b2Math.MulX(transformB%2C%20wBLocal)%3B%0D%0A%20%20%20%20%20%20%20%20v.w%20%3D%20b2Math.SubtractVV(v.wB%2C%20v.wA)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.WriteCache%20%3D%20function%20(cache)%20%7B%0D%0A%20%20%20%20%20%20cache.metric%20%3D%20this.GetMetric()%3B%0D%0A%20%20%20%20%20%20cache.count%20%3D%20Box2D.parseUInt(this.m_count)%3B%0D%0A%20%20%20%20%20%20var%20vertices%20%3D%20this.m_vertices%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_count%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20cache.indexA%5Bi%5D%20%3D%20Box2D.parseUInt(vertices%5Bi%5D.indexA)%3B%0D%0A%20%20%20%20%20%20%20%20cache.indexB%5Bi%5D%20%3D%20Box2D.parseUInt(vertices%5Bi%5D.indexB)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.GetSearchDirection%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20this.m_v1.w.GetNegative()%3B%0D%0A%20%20%20%20%20%20%20%20case%202%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20e12%20%3D%20b2Math.SubtractVV(this.m_v2.w%2C%20this.m_v1.w)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20sgn%20%3D%20b2Math.CrossVV(e12%2C%20this.m_v1.w.GetNegative())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(sgn%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20b2Math.CrossFV(1.0%2C%20e12)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20b2Math.CrossVF(e12%2C%201.0)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.GetClosestPoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%200%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20this.m_v1.w%3B%0D%0A%20%20%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.w.x%20%2B%20this.m_v2.a%20*%20this.m_v2.w.x%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.w.y%20%2B%20this.m_v2.a%20*%20this.m_v2.w.y%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.GetWitnessPoints%20%3D%20function%20(pA%2C%20pB)%20%7B%0D%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%200%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20pA.SetV(this.m_v1.wA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pB.SetV(this.m_v1.wB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20%20%20pA.x%20%3D%20this.m_v1.a%20*%20this.m_v1.wA.x%20%2B%20this.m_v2.a%20*%20this.m_v2.wA.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pA.y%20%3D%20this.m_v1.a%20*%20this.m_v1.wA.y%20%2B%20this.m_v2.a%20*%20this.m_v2.wA.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pB.x%20%3D%20this.m_v1.a%20*%20this.m_v1.wB.x%20%2B%20this.m_v2.a%20*%20this.m_v2.wB.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pB.y%20%3D%20this.m_v1.a%20*%20this.m_v1.wB.y%20%2B%20this.m_v2.a%20*%20this.m_v2.wB.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%203%3A%0D%0A%20%20%20%20%20%20%20%20%20%20pB.x%20%3D%20pA.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.wA.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v2.a%20*%20this.m_v2.wA.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v3.a%20*%20this.m_v3.wA.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20pB.y%20%3D%20pA.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.wA.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v2.a%20*%20this.m_v2.wA.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v3.a%20*%20this.m_v3.wA.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.GetMetric%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%200%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%20%20%20%20case%202%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20b2Math.SubtractVV(this.m_v1.w%2C%20this.m_v2.w).Length()%3B%0D%0A%20%20%20%20%20%20%20%20case%203%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20b2Math.CrossVV(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(this.m_v2.w%2C%20this.m_v1.w)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(this.m_v3.w%2C%20this.m_v1.w)%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.Solve2%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20this.m_v1.w%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20this.m_v2.w%3B%0D%0A%20%20%20%20%20%20var%20e12%20%3D%20b2Math.SubtractVV(w2%2C%20w1)%3B%0D%0A%20%20%20%20%20%20var%20d12_2%20%3D%20-(w1.x%20*%20e12.x%20%2B%20w1.y%20*%20e12.y)%3B%0D%0A%20%20%20%20%20%20if%20(d12_2%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20d12_1%20%3D%20w2.x%20*%20e12.x%20%2B%20w2.y%20*%20e12.y%3B%0D%0A%20%20%20%20%20%20if%20(d12_1%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v2)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20inv_d12%20%3D%201.0%20%2F%20(d12_1%20%2B%20d12_2)%3B%0D%0A%20%20%20%20%20%20this.m_v1.a%20%3D%20d12_1%20*%20inv_d12%3B%0D%0A%20%20%20%20%20%20this.m_v2.a%20%3D%20d12_2%20*%20inv_d12%3B%0D%0A%20%20%20%20%20%20this.m_count%20%3D%202%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Simplex.prototype.Solve3%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20this.m_v1.w%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20this.m_v2.w%3B%0D%0A%20%20%20%20%20%20var%20w3%20%3D%20this.m_v3.w%3B%0D%0A%20%20%20%20%20%20var%20e12%20%3D%20b2Math.SubtractVV(w2%2C%20w1)%3B%0D%0A%20%20%20%20%20%20var%20w1e12%20%3D%20b2Math.Dot(w1%2C%20e12)%3B%0D%0A%20%20%20%20%20%20var%20w2e12%20%3D%20b2Math.Dot(w2%2C%20e12)%3B%0D%0A%20%20%20%20%20%20var%20d12_1%20%3D%20w2e12%3B%0D%0A%20%20%20%20%20%20var%20d12_2%20%3D%20-w1e12%3B%0D%0A%20%20%20%20%20%20var%20e13%20%3D%20b2Math.SubtractVV(w3%2C%20w1)%3B%0D%0A%20%20%20%20%20%20var%20w1e13%20%3D%20b2Math.Dot(w1%2C%20e13)%3B%0D%0A%20%20%20%20%20%20var%20w3e13%20%3D%20b2Math.Dot(w3%2C%20e13)%3B%0D%0A%20%20%20%20%20%20var%20d13_1%20%3D%20w3e13%3B%0D%0A%20%20%20%20%20%20var%20d13_2%20%3D%20-w1e13%3B%0D%0A%20%20%20%20%20%20var%20e23%20%3D%20b2Math.SubtractVV(w3%2C%20w2)%3B%0D%0A%20%20%20%20%20%20var%20w2e23%20%3D%20b2Math.Dot(w2%2C%20e23)%3B%0D%0A%20%20%20%20%20%20var%20w3e23%20%3D%20b2Math.Dot(w3%2C%20e23)%3B%0D%0A%20%20%20%20%20%20var%20d23_1%20%3D%20w3e23%3B%0D%0A%20%20%20%20%20%20var%20d23_2%20%3D%20-w2e23%3B%0D%0A%20%20%20%20%20%20var%20n123%20%3D%20b2Math.CrossVV(e12%2C%20e13)%3B%0D%0A%20%20%20%20%20%20var%20d123_1%20%3D%20n123%20*%20b2Math.CrossVV(w2%2C%20w3)%3B%0D%0A%20%20%20%20%20%20var%20d123_2%20%3D%20n123%20*%20b2Math.CrossVV(w3%2C%20w1)%3B%0D%0A%20%20%20%20%20%20var%20d123_3%20%3D%20n123%20*%20b2Math.CrossVV(w1%2C%20w2)%3B%0D%0A%20%20%20%20%20%20if%20(d12_2%20%3C%3D%200.0%20%26%26%20d13_2%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(d12_1%20%3E%200.0%20%26%26%20d12_2%20%3E%200.0%20%26%26%20d123_3%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20inv_d12%20%3D%201.0%20%2F%20(d12_1%20%2B%20d12_2)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%20d12_1%20*%20inv_d12%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%20d12_2%20*%20inv_d12%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%202%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(d13_1%20%3E%200.0%20%26%26%20d13_2%20%3E%200.0%20%26%26%20d123_2%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20inv_d13%20%3D%201.0%20%2F%20(d13_1%20%2B%20d13_2)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%20d13_1%20*%20inv_d13%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v3.a%20%3D%20d13_2%20*%20inv_d13%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%202%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v2.Set(this.m_v3)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(d12_1%20%3C%3D%200.0%20%26%26%20d23_2%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v2)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(d13_1%20%3C%3D%200.0%20%26%26%20d23_1%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_v3.a%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v3)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(d23_1%20%3E%200.0%20%26%26%20d23_2%20%3E%200.0%20%26%26%20d123_1%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20inv_d23%20%3D%201.0%20%2F%20(d23_1%20%2B%20d23_2)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%20d23_1%20*%20inv_d23%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v3.a%20%3D%20d23_2%20*%20inv_d23%3B%0D%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%202%3B%0D%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v3)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20inv_d123%20%3D%201.0%20%2F%20(d123_1%20%2B%20d123_2%20%2B%20d123_3)%3B%0D%0A%20%20%20%20%20%20this.m_v1.a%20%3D%20d123_1%20*%20inv_d123%3B%0D%0A%20%20%20%20%20%20this.m_v2.a%20%3D%20d123_2%20*%20inv_d123%3B%0D%0A%20%20%20%20%20%20this.m_v3.a%20%3D%20d123_3%20*%20inv_d123%3B%0D%0A%20%20%20%20%20%20this.m_count%20%3D%203%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2SimplexCache.b2SimplexCache%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.indexA%20%3D%20new%20Vector_a2j_Number(3)%3B%0D%0A%20%20%20%20%20%20this.indexB%20%3D%20new%20Vector_a2j_Number(3)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2SimplexVertex.b2SimplexVertex%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2SimplexVertex.prototype.Set%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20this.wA.SetV(other.wA)%3B%0D%0A%20%20%20%20%20%20this.wB.SetV(other.wB)%3B%0D%0A%20%20%20%20%20%20this.w.SetV(other.w)%3B%0D%0A%20%20%20%20%20%20this.a%20%3D%20other.a%3B%0D%0A%20%20%20%20%20%20this.indexA%20%3D%20other.indexA%3B%0D%0A%20%20%20%20%20%20this.indexB%20%3D%20other.indexB%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2TimeOfImpact.b2TimeOfImpact%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2TimeOfImpact.TimeOfImpact%20%3D%20function%20(input)%20%7B%0D%0A%20%20%20%20%20%20%2B%2Bb2TimeOfImpact.b2_toiCalls%3B%0D%0A%20%20%20%20%20%20var%20proxyA%20%3D%20input.proxyA%3B%0D%0A%20%20%20%20%20%20var%20proxyB%20%3D%20input.proxyB%3B%0D%0A%20%20%20%20%20%20var%20sweepA%20%3D%20input.sweepA%3B%0D%0A%20%20%20%20%20%20var%20sweepB%20%3D%20input.sweepB%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(sweepA.t0%20%3D%3D%20sweepB.t0)%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(1.0%20-%20sweepA.t0%20%3E%20Number.MIN_VALUE)%3B%0D%0A%20%20%20%20%20%20var%20radius%20%3D%20proxyA.m_radius%20%2B%20proxyB.m_radius%3B%0D%0A%20%20%20%20%20%20var%20tolerance%20%3D%20input.tolerance%3B%0D%0A%20%20%20%20%20%20var%20alpha%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20k_maxIterations%20%3D%201000%3B%0D%0A%20%20%20%20%20%20var%20iter%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20target%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20b2TimeOfImpact.s_cache.count%20%3D%200%3B%0D%0A%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.useRadii%20%3D%20false%3B%0D%0A%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0D%0A%20%20%20%20%20%20%20%20sweepA.GetTransform(b2TimeOfImpact.s_xfA%2C%20alpha)%3B%0D%0A%20%20%20%20%20%20%20%20sweepB.GetTransform(b2TimeOfImpact.s_xfB%2C%20alpha)%3B%0D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.proxyA%20%3D%20proxyA%3B%0D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.proxyB%20%3D%20proxyB%3B%0D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.transformA%20%3D%20b2TimeOfImpact.s_xfA%3B%0D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.transformB%20%3D%20b2TimeOfImpact.s_xfB%3B%0D%0A%20%20%20%20%20%20%20%20b2Distance.Distance(%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceOutput%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_cache%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(b2TimeOfImpact.s_distanceOutput.distance%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_fcn.Initialize(%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_cache%2C%0D%0A%20%20%20%20%20%20%20%20%20%20proxyA%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0D%0A%20%20%20%20%20%20%20%20%20%20proxyB%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20separation%20%3D%20b2TimeOfImpact.s_fcn.Evaluate(%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(separation%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(iter%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(separation%20%3E%20radius)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20b2Math.Max(radius%20-%20tolerance%2C%200.75%20*%20radius)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20b2Math.Max(separation%20-%20tolerance%2C%200.02%20*%20radius)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(separation%20-%20target%20%3C%200.5%20*%20tolerance)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(iter%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20newAlpha%20%3D%20alpha%3B%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20x1%20%3D%20alpha%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20x2%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20f1%20%3D%20separation%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sweepA.GetTransform(b2TimeOfImpact.s_xfA%2C%20x2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20sweepB.GetTransform(b2TimeOfImpact.s_xfB%2C%20x2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20f2%20%3D%20b2TimeOfImpact.s_fcn.Evaluate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(f2%20%3E%3D%20target)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rootIterCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20x%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(rootIterCount%20%26%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%20%3D%20x1%20%2B%20((target%20-%20f1)%20*%20(x2%20-%20x1))%20%2F%20(f2%20-%20f1)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%20%3D%200.5%20*%20(x1%20%2B%20x2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sweepA.GetTransform(b2TimeOfImpact.s_xfA%2C%20x)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20sweepB.GetTransform(b2TimeOfImpact.s_xfB%2C%20x)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20f%20%3D%20b2TimeOfImpact.s_fcn.Evaluate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(b2Math.Abs(f%20-%20target)%20%3C%200.025%20*%20tolerance)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newAlpha%20%3D%20x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(f%20%3E%20target)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x1%20%3D%20x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f1%20%3D%20f%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x2%20%3D%20x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f2%20%3D%20f%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2BrootIterCount%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bb2TimeOfImpact.b2_toiRootIters%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(rootIterCount%20%3D%3D%2050)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxRootIters%20%3D%20b2Math.Max(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxRootIters%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20rootIterCount%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(newAlpha%20%3C%20(1.0%20%2B%20100.0%20*%20Number.MIN_VALUE)%20*%20alpha)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20alpha%20%3D%20newAlpha%3B%0D%0A%20%20%20%20%20%20%20%20iter%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%2B%2Bb2TimeOfImpact.b2_toiIters%3B%0D%0A%20%20%20%20%20%20%20%20if%20(iter%20%3D%3D%20k_maxIterations)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxIters%20%3D%20b2Math.Max(%0D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxIters%2C%0D%0A%20%20%20%20%20%20%20%20iter%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20alpha%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiCalls%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiIters%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiMaxIters%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiRootIters%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiMaxRootIters%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_cache%20%3D%20new%20b2SimplexCache()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_distanceInput%20%3D%20new%20b2DistanceInput()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_xfA%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_xfB%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_fcn%20%3D%20new%20b2SeparationFunction()%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_distanceOutput%20%3D%20new%20b2DistanceOutput()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2TOIInput.b2TOIInput%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.proxyA%20%3D%20new%20b2DistanceProxy()%3B%0D%0A%20%20%20%20%20%20this.proxyB%20%3D%20new%20b2DistanceProxy()%3B%0D%0A%20%20%20%20%20%20this.sweepA%20%3D%20new%20b2Sweep()%3B%0D%0A%20%20%20%20%20%20this.sweepB%20%3D%20new%20b2Sweep()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WorldManifold.b2WorldManifold%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WorldManifold.prototype.b2WorldManifold%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_points%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WorldManifold.prototype.Initialize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20manifold%2C%0D%0A%20%20%20%20%20%20xfA%2C%0D%0A%20%20%20%20%20%20radiusA%2C%0D%0A%20%20%20%20%20%20xfB%2C%0D%0A%20%20%20%20%20%20radiusB%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(radiusA%20%3D%3D%3D%20undefined)%20radiusA%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(radiusB%20%3D%3D%3D%20undefined)%20radiusB%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(manifold.m_pointCount%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20normalX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20normalY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20planePointX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20planePointY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20clipPointX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20clipPointY%20%3D%200%3B%0D%0A%20%20%20%20%20%20switch%20(manifold.m_type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_circles%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_points%5B0%5D.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dX%20%3D%20pointBX%20-%20pointAX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dY%20%3D%20pointBY%20-%20pointAY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20d2%20%3D%20dX%20*%20dX%20%2B%20dY%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(d2%20%3E%20Number.MIN_VALUE%20*%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20d%20%3D%20Math.sqrt(d2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20dX%20%2F%20d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20dY%20%2F%20d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cAX%20%3D%20pointAX%20%2B%20radiusA%20*%20this.m_normal.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cAY%20%3D%20pointAY%20%2B%20radiusA%20*%20this.m_normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cBX%20%3D%20pointBX%20-%20radiusB%20*%20this.m_normal.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cBY%20%3D%20pointBY%20-%20radiusB%20*%20this.m_normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.x%20%3D%200.5%20*%20(cAX%20%2B%20cBX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.y%20%3D%200.5%20*%20(cAY%20%2B%20cBY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceA%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPlaneNormal%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20manifold.m_pointCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_points%5Bi%5D.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusA%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusB)%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusA%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusB)%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceB%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPlaneNormal%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20-normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20-normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20manifold.m_pointCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_points%5Bi%5D.m_localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusB%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusA)%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusB%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusA)%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20ClipVertex.ClipVertex%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.v%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.id%20%3D%20new%20b2ContactID()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20ClipVertex.prototype.Set%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20this.v.SetV(other.v)%3B%0D%0A%20%20%20%20%20%20this.id.Set(other.id)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Features.Features%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22referenceEdge%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._referenceEdge%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22referenceEdge%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._referenceEdge%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200xffffff00)%20%7C%20(this._referenceEdge%20%26%200x000000ff)%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentEdge%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._incidentEdge%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentEdge%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._incidentEdge%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200xffff00ff)%20%7C%0D%0A%20%20%20%20%20%20%20%20%20%20((this._incidentEdge%20%3C%3C%208)%20%26%200x0000ff00)%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentVertex%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._incidentVertex%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentVertex%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._incidentVertex%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200xff00ffff)%20%7C%0D%0A%20%20%20%20%20%20%20%20%20%20((this._incidentVertex%20%3C%3C%2016)%20%26%200x00ff0000)%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22flip%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._flip%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22flip%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._flip%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200x00ffffff)%20%7C%20((this._flip%20%3C%3C%2024)%20%26%200xff000000)%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0D%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0D%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0D%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0D%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0D%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0D%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0D%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0D%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0D%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0D%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0D%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0D%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0D%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0D%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0D%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0D%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0D%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0D%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0D%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0D%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0D%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0D%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0D%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0D%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0D%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0D%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0D%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0D%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0D%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0D%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0D%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0D%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0D%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0D%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0D%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0D%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0D%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0D%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0D%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0D%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0D%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0D%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0D%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0D%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0D%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0D%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0D%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%3B%0D%0A%0D%0A%20%20%20%20Box2D.inherit(b2CircleShape%2C%20Box2D.Collision.Shapes.b2Shape)%3B%0D%0A%20%20%20%20b2CircleShape.prototype.__super%20%3D%20Box2D.Collision.Shapes.b2Shape.prototype%3B%0D%0A%20%20%20%20b2CircleShape.b2CircleShape%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_p%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20new%20b2CircleShape()%3B%0D%0A%20%20%20%20%20%20s.Set(this)%3B%0D%0A%20%20%20%20%20%20return%20s%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.Set%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Set.call(this%2C%20other)%3B%0D%0A%20%20%20%20%20%20if%20(Box2D.is(other%2C%20b2CircleShape))%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20other2%20%3D%20other%20instanceof%20b2CircleShape%20%3F%20other%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_p.SetV(other2.m_p)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.TestPoint%20%3D%20function%20(transform%2C%20p)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_p.x%20%2B%20tMat.col2.x%20*%20this.m_p.y)%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_p.x%20%2B%20tMat.col2.y%20*%20this.m_p.y)%3B%0D%0A%20%20%20%20%20%20dX%20%3D%20p.x%20-%20dX%3B%0D%0A%20%20%20%20%20%20dY%20%3D%20p.y%20-%20dY%3B%0D%0A%20%20%20%20%20%20return%20dX%20*%20dX%20%2B%20dY%20*%20dY%20%3C%3D%20this.m_radius%20*%20this.m_radius%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20positionX%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_p.x%20%2B%20tMat.col2.x%20*%20this.m_p.y)%3B%0D%0A%20%20%20%20%20%20var%20positionY%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_p.x%20%2B%20tMat.col2.y%20*%20this.m_p.y)%3B%0D%0A%20%20%20%20%20%20var%20sX%20%3D%20input.p1.x%20-%20positionX%3B%0D%0A%20%20%20%20%20%20var%20sY%20%3D%20input.p1.y%20-%20positionY%3B%0D%0A%20%20%20%20%20%20var%20b%20%3D%20sX%20*%20sX%20%2B%20sY%20*%20sY%20-%20this.m_radius%20*%20this.m_radius%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%20input.p2.x%20-%20input.p1.x%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%20input.p2.y%20-%20input.p1.y%3B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20sX%20*%20rX%20%2B%20sY%20*%20rY%3B%0D%0A%20%20%20%20%20%20var%20rr%20%3D%20rX%20*%20rX%20%2B%20rY%20*%20rY%3B%0D%0A%20%20%20%20%20%20var%20sigma%20%3D%20c%20*%20c%20-%20rr%20*%20b%3B%0D%0A%20%20%20%20%20%20if%20(sigma%20%3C%200.0%20%7C%7C%20rr%20%3C%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20a%20%3D%20-(c%20%2B%20Math.sqrt(sigma))%3B%0D%0A%20%20%20%20%20%20if%20(0.0%20%3C%3D%20a%20%26%26%20a%20%3C%3D%20input.maxFraction%20*%20rr)%20%7B%0D%0A%20%20%20%20%20%20%20%20a%20%2F%3D%20rr%3B%0D%0A%20%20%20%20%20%20%20%20output.fraction%20%3D%20a%3B%0D%0A%20%20%20%20%20%20%20%20output.normal.x%20%3D%20sX%20%2B%20a%20*%20rX%3B%0D%0A%20%20%20%20%20%20%20%20output.normal.y%20%3D%20sY%20%2B%20a%20*%20rY%3B%0D%0A%20%20%20%20%20%20%20%20output.normal.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20pX%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_p.x%20%2B%20tMat.col2.x%20*%20this.m_p.y)%3B%0D%0A%20%20%20%20%20%20var%20pY%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_p.x%20%2B%20tMat.col2.y%20*%20this.m_p.y)%3B%0D%0A%20%20%20%20%20%20aabb.lowerBound.Set(pX%20-%20this.m_radius%2C%20pY%20-%20this.m_radius)%3B%0D%0A%20%20%20%20%20%20aabb.upperBound.Set(pX%20%2B%20this.m_radius%2C%20pY%20%2B%20this.m_radius)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0D%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0D%0A%20%20%20%20%20%20massData.mass%20%3D%0D%0A%20%20%20%20%20%20%20%20density%20*%20b2Settings.b2_pi%20*%20this.m_radius%20*%20this.m_radius%3B%0D%0A%20%20%20%20%20%20massData.center.SetV(this.m_p)%3B%0D%0A%20%20%20%20%20%20massData.I%20%3D%0D%0A%20%20%20%20%20%20%20%20massData.mass%20*%0D%0A%20%20%20%20%20%20%20%20(0.5%20*%20this.m_radius%20*%20this.m_radius%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_p.x%20*%20this.m_p.x%20%2B%20this.m_p.y%20*%20this.m_p.y))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.ComputeSubmergedArea%20%3D%20function%20(%0D%0A%20%20%20%20%20%20normal%2C%0D%0A%20%20%20%20%20%20offset%2C%0D%0A%20%20%20%20%20%20xf%2C%0D%0A%20%20%20%20%20%20c%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p%20%3D%20b2Math.MulX(xf%2C%20this.m_p)%3B%0D%0A%20%20%20%20%20%20var%20l%20%3D%20-(b2Math.Dot(normal%2C%20p)%20-%20offset)%3B%0D%0A%20%20%20%20%20%20if%20(l%20%3C%20-this.m_radius%20%2B%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(l%20%3E%20this.m_radius)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.SetV(p)%3B%0D%0A%20%20%20%20%20%20%20%20return%20Math.PI%20*%20this.m_radius%20*%20this.m_radius%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20r2%20%3D%20this.m_radius%20*%20this.m_radius%3B%0D%0A%20%20%20%20%20%20var%20l2%20%3D%20l%20*%20l%3B%0D%0A%20%20%20%20%20%20var%20area%20%3D%0D%0A%20%20%20%20%20%20%20%20r2%20*%20(Math.asin(l%20%2F%20this.m_radius)%20%2B%20Math.PI%20%2F%202)%20%2B%0D%0A%20%20%20%20%20%20%20%20l%20*%20Math.sqrt(r2%20-%20l2)%3B%0D%0A%20%20%20%20%20%20var%20com%20%3D%20((-2%20%2F%203)%20*%20Math.pow(r2%20-%20l2%2C%201.5))%20%2F%20area%3B%0D%0A%20%20%20%20%20%20c.x%20%3D%20p.x%20%2B%20normal.x%20*%20com%3B%0D%0A%20%20%20%20%20%20c.y%20%3D%20p.y%20%2B%20normal.y%20*%20com%3B%0D%0A%20%20%20%20%20%20return%20area%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.GetLocalPosition%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_p%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.SetLocalPosition%20%3D%20function%20(position)%20%7B%0D%0A%20%20%20%20%20%20this.m_p.SetV(position)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.GetRadius%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_radius%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.SetRadius%20%3D%20function%20(radius)%20%7B%0D%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_radius%20%3D%20radius%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleShape.prototype.b2CircleShape%20%3D%20function%20(radius)%20%7B%0D%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.__super.b2Shape.call(this)%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_circleShape%3B%0D%0A%20%20%20%20%20%20this.m_radius%20%3D%20radius%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeChainDef.b2EdgeChainDef%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2EdgeChainDef.prototype.b2EdgeChainDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.isALoop%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this.vertices%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2EdgeShape%2C%20Box2D.Collision.Shapes.b2Shape)%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.__super%20%3D%20Box2D.Collision.Shapes.b2Shape.prototype%3B%0D%0A%20%20%20%20b2EdgeShape.b2EdgeShape%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.s_supportVec%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_v1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_v2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_coreV1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_coreV2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_direction%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_cornerDir1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_cornerDir2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.TestPoint%20%3D%20function%20(transform%2C%20p)%20%7B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%20input.p2.x%20-%20input.p1.x%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%20input.p2.y%20-%20input.p1.y%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20v1X%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v1.x%20%2B%20tMat.col2.x%20*%20this.m_v1.y)%3B%0D%0A%20%20%20%20%20%20var%20v1Y%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v1.x%20%2B%20tMat.col2.y%20*%20this.m_v1.y)%3B%0D%0A%20%20%20%20%20%20var%20nX%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v2.x%20%2B%20tMat.col2.y%20*%20this.m_v2.y)%20-%0D%0A%20%20%20%20%20%20%20%20v1Y%3B%0D%0A%20%20%20%20%20%20var%20nY%20%3D%20-(%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v2.x%20%2B%20tMat.col2.x%20*%20this.m_v2.y)%20-%0D%0A%20%20%20%20%20%20%20%20v1X%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20k_slop%20%3D%20100.0%20*%20Number.MIN_VALUE%3B%0D%0A%20%20%20%20%20%20var%20denom%20%3D%20-(rX%20*%20nX%20%2B%20rY%20*%20nY)%3B%0D%0A%20%20%20%20%20%20if%20(denom%20%3E%20k_slop)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20bX%20%3D%20input.p1.x%20-%20v1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20bY%20%3D%20input.p1.y%20-%20v1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20bX%20*%20nX%20%2B%20bY%20*%20nY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(0.0%20%3C%3D%20a%20%26%26%20a%20%3C%3D%20input.maxFraction%20*%20denom)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20mu2%20%3D%20-rX%20*%20bY%20%2B%20rY%20*%20bX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(-k_slop%20*%20denom%20%3C%3D%20mu2%20%26%26%20mu2%20%3C%3D%20denom%20*%20(1.0%20%2B%20k_slop))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%2F%3D%20denom%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20output.fraction%20%3D%20a%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20nLen%20%3D%20Math.sqrt(nX%20*%20nX%20%2B%20nY%20*%20nY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20output.normal.x%20%3D%20nX%20%2F%20nLen%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20output.normal.y%20%3D%20nY%20%2F%20nLen%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20v1X%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v1.x%20%2B%20tMat.col2.x%20*%20this.m_v1.y)%3B%0D%0A%20%20%20%20%20%20var%20v1Y%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v1.x%20%2B%20tMat.col2.y%20*%20this.m_v1.y)%3B%0D%0A%20%20%20%20%20%20var%20v2X%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v2.x%20%2B%20tMat.col2.x%20*%20this.m_v2.y)%3B%0D%0A%20%20%20%20%20%20var%20v2Y%20%3D%0D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v2.x%20%2B%20tMat.col2.y%20*%20this.m_v2.y)%3B%0D%0A%20%20%20%20%20%20if%20(v1X%20%3C%20v2X)%20%7B%0D%0A%20%20%20%20%20%20%20%20aabb.lowerBound.x%20%3D%20v1X%3B%0D%0A%20%20%20%20%20%20%20%20aabb.upperBound.x%20%3D%20v2X%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20aabb.lowerBound.x%20%3D%20v2X%3B%0D%0A%20%20%20%20%20%20%20%20aabb.upperBound.x%20%3D%20v1X%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(v1Y%20%3C%20v2Y)%20%7B%0D%0A%20%20%20%20%20%20%20%20aabb.lowerBound.y%20%3D%20v1Y%3B%0D%0A%20%20%20%20%20%20%20%20aabb.upperBound.y%20%3D%20v2Y%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20aabb.lowerBound.y%20%3D%20v2Y%3B%0D%0A%20%20%20%20%20%20%20%20aabb.upperBound.y%20%3D%20v1Y%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0D%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0D%0A%20%20%20%20%20%20massData.mass%20%3D%200%3B%0D%0A%20%20%20%20%20%20massData.center.SetV(this.m_v1)%3B%0D%0A%20%20%20%20%20%20massData.I%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.ComputeSubmergedArea%20%3D%20function%20(%0D%0A%20%20%20%20%20%20normal%2C%0D%0A%20%20%20%20%20%20offset%2C%0D%0A%20%20%20%20%20%20xf%2C%0D%0A%20%20%20%20%20%20c%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v0%20%3D%20new%20b2Vec2(normal.x%20*%20offset%2C%20normal.y%20*%20offset)%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20b2Math.MulX(xf%2C%20this.m_v1)%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20b2Math.MulX(xf%2C%20this.m_v2)%3B%0D%0A%20%20%20%20%20%20var%20d1%20%3D%20b2Math.Dot(normal%2C%20v1)%20-%20offset%3B%0D%0A%20%20%20%20%20%20var%20d2%20%3D%20b2Math.Dot(normal%2C%20v2)%20-%20offset%3B%0D%0A%20%20%20%20%20%20if%20(d1%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(d2%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20v1.x%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.x%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20v1.y%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.y%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.y%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(d2%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20v2.x%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.x%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20v2.y%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.y%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.y%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20c.x%20%3D%20(v0.x%20%2B%20v1.x%20%2B%20v2.x)%20%2F%203%3B%0D%0A%20%20%20%20%20%20c.y%20%3D%20(v0.y%20%2B%20v1.y%20%2B%20v2.y)%20%2F%203%3B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%200.5%20*%20((v1.x%20-%20v0.x)%20*%20(v2.y%20-%20v0.y)%20-%20(v1.y%20-%20v0.y)%20*%20(v2.x%20-%20v0.x))%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetLength%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_length%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetVertex1%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_v1%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetVertex2%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_v2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetCoreVertex1%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_coreV1%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetCoreVertex2%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_coreV2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetNormalVector%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_normal%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetDirectionVector%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_direction%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetCorner1Vector%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_cornerDir1%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetCorner2Vector%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_cornerDir2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.Corner1IsConvex%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_cornerConvex1%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.Corner2IsConvex%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_cornerConvex2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetFirstVertex%20%3D%20function%20(xf)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_coreV1.x%20%2B%20tMat.col2.x%20*%20this.m_coreV1.y)%2C%0D%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_coreV1.x%20%2B%20tMat.col2.y%20*%20this.m_coreV1.y)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetNextEdge%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_nextEdge%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.GetPrevEdge%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_prevEdge%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.Support%20%3D%20function%20(xf%2C%20dX%2C%20dY)%20%7B%0D%0A%20%20%20%20%20%20if%20(dX%20%3D%3D%3D%20undefined)%20dX%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(dY%20%3D%3D%3D%20undefined)%20dY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0D%0A%20%20%20%20%20%20var%20v1X%20%3D%0D%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_coreV1.x%20%2B%20tMat.col2.x%20*%20this.m_coreV1.y)%3B%0D%0A%20%20%20%20%20%20var%20v1Y%20%3D%0D%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_coreV1.x%20%2B%20tMat.col2.y%20*%20this.m_coreV1.y)%3B%0D%0A%20%20%20%20%20%20var%20v2X%20%3D%0D%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_coreV2.x%20%2B%20tMat.col2.x%20*%20this.m_coreV2.y)%3B%0D%0A%20%20%20%20%20%20var%20v2Y%20%3D%0D%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_coreV2.x%20%2B%20tMat.col2.y%20*%20this.m_coreV2.y)%3B%0D%0A%20%20%20%20%20%20if%20(v1X%20*%20dX%20%2B%20v1Y%20*%20dY%20%3E%20v2X%20*%20dX%20%2B%20v2Y%20*%20dY)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.s_supportVec.x%20%3D%20v1X%3B%0D%0A%20%20%20%20%20%20%20%20this.s_supportVec.y%20%3D%20v1Y%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.s_supportVec.x%20%3D%20v2X%3B%0D%0A%20%20%20%20%20%20%20%20this.s_supportVec.y%20%3D%20v2Y%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20this.s_supportVec%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.b2EdgeShape%20%3D%20function%20(v1%2C%20v2)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Shape.call(this)%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_edgeShape%3B%0D%0A%20%20%20%20%20%20this.m_prevEdge%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nextEdge%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_v1%20%3D%20v1%3B%0D%0A%20%20%20%20%20%20this.m_v2%20%3D%20v2%3B%0D%0A%20%20%20%20%20%20this.m_direction.Set(%0D%0A%20%20%20%20%20%20%20%20this.m_v2.x%20-%20this.m_v1.x%2C%0D%0A%20%20%20%20%20%20%20%20this.m_v2.y%20-%20this.m_v1.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.m_length%20%3D%20this.m_direction.Normalize()%3B%0D%0A%20%20%20%20%20%20this.m_normal.Set(this.m_direction.y%2C%20-this.m_direction.x)%3B%0D%0A%20%20%20%20%20%20this.m_coreV1.Set(%0D%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.x%20-%20this.m_direction.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_v1.x%2C%0D%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.y%20-%20this.m_direction.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_v1.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.m_coreV2.Set(%0D%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.x%20%2B%20this.m_direction.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_v2.x%2C%0D%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.y%20%2B%20this.m_direction.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_v2.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.m_cornerDir1%20%3D%20this.m_normal%3B%0D%0A%20%20%20%20%20%20this.m_cornerDir2.Set(-this.m_normal.x%2C%20-this.m_normal.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.SetPrevEdge%20%3D%20function%20(%0D%0A%20%20%20%20%20%20edge%2C%0D%0A%20%20%20%20%20%20core%2C%0D%0A%20%20%20%20%20%20cornerDir%2C%0D%0A%20%20%20%20%20%20convex%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20this.m_prevEdge%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20this.m_coreV1%20%3D%20core%3B%0D%0A%20%20%20%20%20%20this.m_cornerDir1%20%3D%20cornerDir%3B%0D%0A%20%20%20%20%20%20this.m_cornerConvex1%20%3D%20convex%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeShape.prototype.SetNextEdge%20%3D%20function%20(%0D%0A%20%20%20%20%20%20edge%2C%0D%0A%20%20%20%20%20%20core%2C%0D%0A%20%20%20%20%20%20cornerDir%2C%0D%0A%20%20%20%20%20%20convex%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20this.m_nextEdge%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20this.m_coreV2%20%3D%20core%3B%0D%0A%20%20%20%20%20%20this.m_cornerDir2%20%3D%20cornerDir%3B%0D%0A%20%20%20%20%20%20this.m_cornerConvex2%20%3D%20convex%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MassData.b2MassData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.mass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.center%20%3D%20new%20b2Vec2(0%2C%200)%3B%0D%0A%20%20%20%20%20%20this.I%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PolygonShape%2C%20Box2D.Collision.Shapes.b2Shape)%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.__super%20%3D%20Box2D.Collision.Shapes.b2Shape.prototype%3B%0D%0A%20%20%20%20b2PolygonShape.b2PolygonShape%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20%20%20s.Set(this)%3B%0D%0A%20%20%20%20%20%20return%20s%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.Set%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Set.call(this%2C%20other)%3B%0D%0A%20%20%20%20%20%20if%20(Box2D.is(other%2C%20b2PolygonShape))%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20other2%20%3D%20other%20instanceof%20b2PolygonShape%20%3F%20other%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_centroid.SetV(other2.m_centroid)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_vertexCount%20%3D%20other2.m_vertexCount%3B%0D%0A%20%20%20%20%20%20%20%20this.Reserve(this.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D.SetV(other2.m_vertices%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D.SetV(other2.m_normals%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.SetAsArray%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%2C%0D%0A%20%20%20%20%20%20%20%20tVec%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20vertices.length%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20v.push(tVec)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.SetAsVector(v%2C%20vertexCount)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.AsArray%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20%20%20polygonShape.SetAsArray(vertices%2C%20vertexCount)%3B%0D%0A%20%20%20%20%20%20return%20polygonShape%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.SetAsVector%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%200)%20vertexCount%20%3D%20vertices.length%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(2%20%3C%3D%20vertexCount)%3B%0D%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%20vertexCount%3B%0D%0A%20%20%20%20%20%20this.Reserve(vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D.SetV(vertices%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20i1%20%3D%20parseInt(i)%3B%0D%0A%20%20%20%20%20%20%20%20var%20i2%20%3D%20parseInt(i%20%2B%201%20%3C%20this.m_vertexCount%20%3F%20i%20%2B%201%20%3A%200)%3B%0D%0A%20%20%20%20%20%20%20%20var%20edge%20%3D%20b2Math.SubtractVV(this.m_vertices%5Bi2%5D%2C%20this.m_vertices%5Bi1%5D)%3B%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2Assert(edge.LengthSquared()%20%3E%20Number.MIN_VALUE)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D.SetV(b2Math.CrossVF(edge%2C%201.0))%3B%0D%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D.Normalize()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_centroid%20%3D%20b2PolygonShape.ComputeCentroid(%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%2C%0D%0A%20%20%20%20%20%20%20%20this.m_vertexCount%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.AsVector%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20%20%20polygonShape.SetAsVector(vertices%2C%20vertexCount)%3B%0D%0A%20%20%20%20%20%20return%20polygonShape%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.SetAsBox%20%3D%20function%20(hx%2C%20hy)%20%7B%0D%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%204%3B%0D%0A%20%20%20%20%20%20this.Reserve(4)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B0%5D.Set(-hx%2C%20-hy)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B1%5D.Set(hx%2C%20-hy)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B2%5D.Set(hx%2C%20hy)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B3%5D.Set(-hx%2C%20hy)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B0%5D.Set(0.0%2C%20-1.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B1%5D.Set(1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B2%5D.Set(0.0%2C%201.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B3%5D.Set(-1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.m_centroid.SetZero()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.AsBox%20%3D%20function%20(hx%2C%20hy)%20%7B%0D%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20%20%20polygonShape.SetAsBox(hx%2C%20hy)%3B%0D%0A%20%20%20%20%20%20return%20polygonShape%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.SetAsOrientedBox%20%3D%20function%20(%0D%0A%20%20%20%20%20%20hx%2C%0D%0A%20%20%20%20%20%20hy%2C%0D%0A%20%20%20%20%20%20center%2C%0D%0A%20%20%20%20%20%20angle%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(center%20%3D%3D%3D%20undefined)%20center%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%204%3B%0D%0A%20%20%20%20%20%20this.Reserve(4)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B0%5D.Set(-hx%2C%20-hy)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B1%5D.Set(hx%2C%20-hy)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B2%5D.Set(hx%2C%20hy)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B3%5D.Set(-hx%2C%20hy)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B0%5D.Set(0.0%2C%20-1.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B1%5D.Set(1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B2%5D.Set(0.0%2C%201.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B3%5D.Set(-1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.m_centroid%20%3D%20center%3B%0D%0A%20%20%20%20%20%20var%20xf%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20xf.position%20%3D%20center%3B%0D%0A%20%20%20%20%20%20xf.R.Set(angle)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D%20%3D%20b2Math.MulX(xf%2C%20this.m_vertices%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D%20%3D%20b2Math.MulMV(xf.R%2C%20this.m_normals%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.AsOrientedBox%20%3D%20function%20(hx%2C%20hy%2C%20center%2C%20angle)%20%7B%0D%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(center%20%3D%3D%3D%20undefined)%20center%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20%20%20polygonShape.SetAsOrientedBox(hx%2C%20hy%2C%20center%2C%20angle)%3B%0D%0A%20%20%20%20%20%20return%20polygonShape%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.SetAsEdge%20%3D%20function%20(v1%2C%20v2)%20%7B%0D%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%202%3B%0D%0A%20%20%20%20%20%20this.Reserve(2)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B0%5D.SetV(v1)%3B%0D%0A%20%20%20%20%20%20this.m_vertices%5B1%5D.SetV(v2)%3B%0D%0A%20%20%20%20%20%20this.m_centroid.x%20%3D%200.5%20*%20(v1.x%20%2B%20v2.x)%3B%0D%0A%20%20%20%20%20%20this.m_centroid.y%20%3D%200.5%20*%20(v1.y%20%2B%20v2.y)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B0%5D%20%3D%20b2Math.CrossVF(b2Math.SubtractVV(v2%2C%20v1)%2C%201.0)%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B0%5D.Normalize()%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B1%5D.x%20%3D%20-this.m_normals%5B0%5D.x%3B%0D%0A%20%20%20%20%20%20this.m_normals%5B1%5D.y%20%3D%20-this.m_normals%5B0%5D.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.AsEdge%20%3D%20function%20(v1%2C%20v2)%20%7B%0D%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20%20%20polygonShape.SetAsEdge(v1%2C%20v2)%3B%0D%0A%20%20%20%20%20%20return%20polygonShape%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.TestPoint%20%3D%20function%20(xf%2C%20p)%20%7B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20p.x%20-%20xf.position.x%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%20p.y%20-%20xf.position.y%3B%0D%0A%20%20%20%20%20%20var%20pLocalX%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0D%0A%20%20%20%20%20%20var%20pLocalY%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20pLocalX%20-%20tVec.x%3B%0D%0A%20%20%20%20%20%20%20%20tY%20%3D%20pLocalY%20-%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_normals%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20tVec.x%20*%20tX%20%2B%20tVec.y%20*%20tY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(dot%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20var%20lower%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20upper%20%3D%20input.maxFraction%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20input.p1.x%20-%20transform.position.x%3B%0D%0A%20%20%20%20%20%20tY%20%3D%20input.p1.y%20-%20transform.position.y%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20input.p2.x%20-%20transform.position.x%3B%0D%0A%20%20%20%20%20%20tY%20%3D%20input.p2.y%20-%20transform.position.y%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20var%20p2X%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0D%0A%20%20%20%20%20%20var%20p2Y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20var%20index%20%3D%20parseInt(-1)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tVec.x%20-%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20tY%20%3D%20tVec.y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_normals%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20numerator%20%3D%20tVec.x%20*%20tX%20%2B%20tVec.y%20*%20tY%3B%0D%0A%20%20%20%20%20%20%20%20var%20denominator%20%3D%20tVec.x%20*%20dX%20%2B%20tVec.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(denominator%20%3D%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(numerator%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(denominator%20%3C%200.0%20%26%26%20numerator%20%3C%20lower%20*%20denominator)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20lower%20%3D%20numerator%20%2F%20denominator%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(denominator%20%3E%200.0%20%26%26%20numerator%20%3C%20upper%20*%20denominator)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20upper%20%3D%20numerator%20%2F%20denominator%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(upper%20%3C%20lower%20-%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(index%20%3E%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20output.fraction%20%3D%20lower%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_normals%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20output.normal.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20output.normal.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20xf)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0D%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_vertices%5B0%5D%3B%0D%0A%20%20%20%20%20%20var%20lowerX%20%3D%0D%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20lowerY%20%3D%0D%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20upperX%20%3D%20lowerX%3B%0D%0A%20%20%20%20%20%20var%20upperY%20%3D%20lowerY%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20vX%20%3D%20xf.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20var%20vY%20%3D%20xf.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20lowerX%20%3D%20lowerX%20%3C%20vX%20%3F%20lowerX%20%3A%20vX%3B%0D%0A%20%20%20%20%20%20%20%20lowerY%20%3D%20lowerY%20%3C%20vY%20%3F%20lowerY%20%3A%20vY%3B%0D%0A%20%20%20%20%20%20%20%20upperX%20%3D%20upperX%20%3E%20vX%20%3F%20upperX%20%3A%20vX%3B%0D%0A%20%20%20%20%20%20%20%20upperY%20%3D%20upperY%20%3E%20vY%20%3F%20upperY%20%3A%20vY%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20aabb.lowerBound.x%20%3D%20lowerX%20-%20this.m_radius%3B%0D%0A%20%20%20%20%20%20aabb.lowerBound.y%20%3D%20lowerY%20-%20this.m_radius%3B%0D%0A%20%20%20%20%20%20aabb.upperBound.x%20%3D%20upperX%20%2B%20this.m_radius%3B%0D%0A%20%20%20%20%20%20aabb.upperBound.y%20%3D%20upperY%20%2B%20this.m_radius%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0D%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_vertexCount%20%3D%3D%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20massData.center.x%20%3D%200.5%20*%20(this.m_vertices%5B0%5D.x%20%2B%20this.m_vertices%5B1%5D.x)%3B%0D%0A%20%20%20%20%20%20%20%20massData.center.y%20%3D%200.5%20*%20(this.m_vertices%5B0%5D.y%20%2B%20this.m_vertices%5B1%5D.y)%3B%0D%0A%20%20%20%20%20%20%20%20massData.mass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20massData.I%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20centerX%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20centerY%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20area%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20I%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20k_inv3%20%3D%201.0%20%2F%203.0%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20p2%20%3D%20this.m_vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20p3%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i%20%2B%201%20%3C%20this.m_vertexCount%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.m_vertices%5BparseInt(i%20%2B%201)%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.m_vertices%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20e1X%20%3D%20p2.x%20-%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20e1Y%20%3D%20p2.y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20e2X%20%3D%20p3.x%20-%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20e2Y%20%3D%20p3.y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20D%20%3D%20e1X%20*%20e2Y%20-%20e1Y%20*%20e2X%3B%0D%0A%20%20%20%20%20%20%20%20var%20triangleArea%20%3D%200.5%20*%20D%3B%0D%0A%20%20%20%20%20%20%20%20area%20%2B%3D%20triangleArea%3B%0D%0A%20%20%20%20%20%20%20%20centerX%20%2B%3D%20triangleArea%20*%20k_inv3%20*%20(p1X%20%2B%20p2.x%20%2B%20p3.x)%3B%0D%0A%20%20%20%20%20%20%20%20centerY%20%2B%3D%20triangleArea%20*%20k_inv3%20*%20(p1Y%20%2B%20p2.y%20%2B%20p3.y)%3B%0D%0A%20%20%20%20%20%20%20%20var%20px%20%3D%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20py%20%3D%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20ex1%20%3D%20e1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20ey1%20%3D%20e1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20ex2%20%3D%20e2X%3B%0D%0A%20%20%20%20%20%20%20%20var%20ey2%20%3D%20e2Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20intx2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20k_inv3%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(0.25%20*%20(ex1%20*%20ex1%20%2B%20ex2%20*%20ex1%20%2B%20ex2%20*%20ex2)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(px%20*%20ex1%20%2B%20px%20*%20ex2))%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%200.5%20*%20px%20*%20px%3B%0D%0A%20%20%20%20%20%20%20%20var%20inty2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20k_inv3%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(0.25%20*%20(ey1%20*%20ey1%20%2B%20ey2%20*%20ey1%20%2B%20ey2%20*%20ey2)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(py%20*%20ey1%20%2B%20py%20*%20ey2))%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%200.5%20*%20py%20*%20py%3B%0D%0A%20%20%20%20%20%20%20%20I%20%2B%3D%20D%20*%20(intx2%20%2B%20inty2)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20massData.mass%20%3D%20density%20*%20area%3B%0D%0A%20%20%20%20%20%20centerX%20*%3D%201.0%20%2F%20area%3B%0D%0A%20%20%20%20%20%20centerY%20*%3D%201.0%20%2F%20area%3B%0D%0A%20%20%20%20%20%20massData.center.Set(centerX%2C%20centerY)%3B%0D%0A%20%20%20%20%20%20massData.I%20%3D%20density%20*%20I%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.ComputeSubmergedArea%20%3D%20function%20(%0D%0A%20%20%20%20%20%20normal%2C%0D%0A%20%20%20%20%20%20offset%2C%0D%0A%20%20%20%20%20%20xf%2C%0D%0A%20%20%20%20%20%20c%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20normalL%20%3D%20b2Math.MulTMV(xf.R%2C%20normal)%3B%0D%0A%20%20%20%20%20%20var%20offsetL%20%3D%20offset%20-%20b2Math.Dot(normal%2C%20xf.position)%3B%0D%0A%20%20%20%20%20%20var%20depths%20%3D%20new%20Vector_a2j_Number()%3B%0D%0A%20%20%20%20%20%20var%20diveCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20intoIndex%20%3D%20parseInt(-1)%3B%0D%0A%20%20%20%20%20%20var%20outoIndex%20%3D%20parseInt(-1)%3B%0D%0A%20%20%20%20%20%20var%20lastSubmerged%20%3D%20false%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20depths%5Bi%5D%20%3D%20b2Math.Dot(normalL%2C%20this.m_vertices%5Bi%5D)%20-%20offsetL%3B%0D%0A%20%20%20%20%20%20%20%20var%20isSubmerged%20%3D%20depths%5Bi%5D%20%3C%20-Number.MIN_VALUE%3B%0D%0A%20%20%20%20%20%20%20%20if%20(i%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(isSubmerged)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!lastSubmerged)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20intoIndex%20%3D%20i%20-%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20diveCount%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(lastSubmerged)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20outoIndex%20%3D%20i%20-%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20diveCount%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20lastSubmerged%20%3D%20isSubmerged%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20switch%20(diveCount)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%200%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(lastSubmerged)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20md%20%3D%20new%20b2MassData()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ComputeMass(md%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.SetV(b2Math.MulX(xf%2C%20md.center))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20md.mass%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%201%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(intoIndex%20%3D%3D%20-1)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20intoIndex%20%3D%20this.m_vertexCount%20-%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20outoIndex%20%3D%20this.m_vertexCount%20-%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20intoIndex2%20%3D%20parseInt((intoIndex%20%2B%201)%20%25%20this.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20outoIndex2%20%3D%20parseInt((outoIndex%20%2B%201)%20%25%20this.m_vertexCount)%3B%0D%0A%20%20%20%20%20%20var%20intoLamdda%20%3D%0D%0A%20%20%20%20%20%20%20%20(0%20-%20depths%5BintoIndex%5D)%20%2F%20(depths%5BintoIndex2%5D%20-%20depths%5BintoIndex%5D)%3B%0D%0A%20%20%20%20%20%20var%20outoLamdda%20%3D%0D%0A%20%20%20%20%20%20%20%20(0%20-%20depths%5BoutoIndex%5D)%20%2F%20(depths%5BoutoIndex2%5D%20-%20depths%5BoutoIndex%5D)%3B%0D%0A%20%20%20%20%20%20var%20intoVec%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex%5D.x%20*%20(1%20-%20intoLamdda)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex2%5D.x%20*%20intoLamdda%2C%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex%5D.y%20*%20(1%20-%20intoLamdda)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex2%5D.y%20*%20intoLamdda%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20outoVec%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex%5D.x%20*%20(1%20-%20outoLamdda)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex2%5D.x%20*%20outoLamdda%2C%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex%5D.y%20*%20(1%20-%20outoLamdda)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex2%5D.y%20*%20outoLamdda%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20area%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20center%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20this.m_vertices%5BintoIndex2%5D%3B%0D%0A%20%20%20%20%20%20var%20p3%3B%0D%0A%20%20%20%20%20%20i%20%3D%20intoIndex2%3B%0D%0A%20%20%20%20%20%20while%20(i%20!%3D%20outoIndex2)%20%7B%0D%0A%20%20%20%20%20%20%20%20i%20%3D%20(i%20%2B%201)%20%25%20this.m_vertexCount%3B%0D%0A%20%20%20%20%20%20%20%20if%20(i%20%3D%3D%20outoIndex2)%20p3%20%3D%20outoVec%3B%0D%0A%20%20%20%20%20%20%20%20else%20p3%20%3D%20this.m_vertices%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20triangleArea%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%200.5%20*%0D%0A%20%20%20%20%20%20%20%20%20%20((p2.x%20-%20intoVec.x)%20*%20(p3.y%20-%20intoVec.y)%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(p2.y%20-%20intoVec.y)%20*%20(p3.x%20-%20intoVec.x))%3B%0D%0A%20%20%20%20%20%20%20%20area%20%2B%3D%20triangleArea%3B%0D%0A%20%20%20%20%20%20%20%20center.x%20%2B%3D%20(triangleArea%20*%20(intoVec.x%20%2B%20p2.x%20%2B%20p3.x))%20%2F%203%3B%0D%0A%20%20%20%20%20%20%20%20center.y%20%2B%3D%20(triangleArea%20*%20(intoVec.y%20%2B%20p2.y%20%2B%20p3.y))%20%2F%203%3B%0D%0A%20%20%20%20%20%20%20%20p2%20%3D%20p3%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20center.Multiply(1%20%2F%20area)%3B%0D%0A%20%20%20%20%20%20c.SetV(b2Math.MulX(xf%2C%20center))%3B%0D%0A%20%20%20%20%20%20return%20area%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.GetVertexCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_vertexCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.GetVertices%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_vertices%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.GetNormals%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_normals%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.GetSupport%20%3D%20function%20(d)%20%7B%0D%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20bestIndex%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.GetSupportVertex%20%3D%20function%20(d)%20%7B%0D%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20this.m_vertices%5BbestIndex%5D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.Validate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.b2PolygonShape%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Shape.call(this)%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_polygonShape%3B%0D%0A%20%20%20%20%20%20this.m_centroid%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_vertices%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20this.m_normals%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.prototype.Reserve%20%3D%20function%20(count)%20%7B%0D%0A%20%20%20%20%20%20if%20(count%20%3D%3D%3D%20undefined)%20count%20%3D%200%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20parseInt(this.m_vertices.length)%3B%20i%20%3C%20count%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.ComputeCentroid%20%3D%20function%20(vs%2C%20count)%20%7B%0D%0A%20%20%20%20%20%20if%20(count%20%3D%3D%3D%20undefined)%20count%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20area%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20inv3%20%3D%201.0%20%2F%203.0%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20p2%20%3D%20vs%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20p3%20%3D%20i%20%2B%201%20%3C%20count%20%3F%20vs%5BparseInt(i%20%2B%201)%5D%20%3A%20vs%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20e1X%20%3D%20p2.x%20-%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20e1Y%20%3D%20p2.y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20e2X%20%3D%20p3.x%20-%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20e2Y%20%3D%20p3.y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20D%20%3D%20e1X%20*%20e2Y%20-%20e1Y%20*%20e2X%3B%0D%0A%20%20%20%20%20%20%20%20var%20triangleArea%20%3D%200.5%20*%20D%3B%0D%0A%20%20%20%20%20%20%20%20area%20%2B%3D%20triangleArea%3B%0D%0A%20%20%20%20%20%20%20%20c.x%20%2B%3D%20triangleArea%20*%20inv3%20*%20(p1X%20%2B%20p2.x%20%2B%20p3.x)%3B%0D%0A%20%20%20%20%20%20%20%20c.y%20%2B%3D%20triangleArea%20*%20inv3%20*%20(p1Y%20%2B%20p2.y%20%2B%20p3.y)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20c.x%20*%3D%201.0%20%2F%20area%3B%0D%0A%20%20%20%20%20%20c.y%20*%3D%201.0%20%2F%20area%3B%0D%0A%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonShape.ComputeOBB%20%3D%20function%20(obb%2C%20vs%2C%20count)%20%7B%0D%0A%20%20%20%20%20%20if%20(count%20%3D%3D%3D%20undefined)%20count%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p%20%3D%20new%20Vector(count%20%2B%201)%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20count%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20p%5Bi%5D%20%3D%20vs%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20p%5Bcount%5D%20%3D%20p%5B0%5D%3B%0D%0A%20%20%20%20%20%20var%20minArea%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%201%3B%20i%20%3C%3D%20count%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20root%20%3D%20p%5BparseInt(i%20-%201)%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20uxX%20%3D%20p%5Bi%5D.x%20-%20root.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20uxY%20%3D%20p%5Bi%5D.y%20-%20root.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(uxX%20*%20uxX%20%2B%20uxY%20*%20uxY)%3B%0D%0A%20%20%20%20%20%20%20%20uxX%20%2F%3D%20length%3B%0D%0A%20%20%20%20%20%20%20%20uxY%20%2F%3D%20length%3B%0D%0A%20%20%20%20%20%20%20%20var%20uyX%20%3D%20-uxY%3B%0D%0A%20%20%20%20%20%20%20%20var%20uyY%20%3D%20uxX%3B%0D%0A%20%20%20%20%20%20%20%20var%20lowerX%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20%20%20var%20lowerY%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20%20%20var%20upperX%20%3D%20-Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20%20%20var%20upperY%20%3D%20-Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20count%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20dX%20%3D%20p%5Bj%5D.x%20-%20root.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20dY%20%3D%20p%5Bj%5D.y%20-%20root.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rX%20%3D%20uxX%20*%20dX%20%2B%20uxY%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rY%20%3D%20uyX%20*%20dX%20%2B%20uyY%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(rX%20%3C%20lowerX)%20lowerX%20%3D%20rX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(rY%20%3C%20lowerY)%20lowerY%20%3D%20rY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(rX%20%3E%20upperX)%20upperX%20%3D%20rX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(rY%20%3E%20upperY)%20upperY%20%3D%20rY%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20area%20%3D%20(upperX%20-%20lowerX)%20*%20(upperY%20-%20lowerY)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(area%20%3C%200.95%20*%20minArea)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20minArea%20%3D%20area%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.R.col1.x%20%3D%20uxX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.R.col1.y%20%3D%20uxY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.R.col2.x%20%3D%20uyX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.R.col2.y%20%3D%20uyY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20centerX%20%3D%200.5%20*%20(lowerX%20%2B%20upperX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20centerY%20%3D%200.5%20*%20(lowerY%20%2B%20upperY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tMat%20%3D%20obb.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.center.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20root.x%20%2B%20(tMat.col1.x%20*%20centerX%20%2B%20tMat.col2.x%20*%20centerY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.center.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20root.y%20%2B%20(tMat.col1.y%20*%20centerX%20%2B%20tMat.col2.y%20*%20centerY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.extents.x%20%3D%200.5%20*%20(upperX%20-%20lowerX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20obb.extents.y%20%3D%200.5%20*%20(upperY%20-%20lowerY)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2PolygonShape.s_mat%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2Shape.b2Shape%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.Set%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20this.m_radius%20%3D%20other.m_radius%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.GetType%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_type%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.TestPoint%20%3D%20function%20(xf%2C%20p)%20%7B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20xf)%20%7B%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0D%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.ComputeSubmergedArea%20%3D%20function%20(normal%2C%20offset%2C%20xf%2C%20c)%20%7B%0D%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.TestOverlap%20%3D%20function%20(shape1%2C%20transform1%2C%20shape2%2C%20transform2)%20%7B%0D%0A%20%20%20%20%20%20var%20input%20%3D%20new%20b2DistanceInput()%3B%0D%0A%20%20%20%20%20%20input.proxyA%20%3D%20new%20b2DistanceProxy()%3B%0D%0A%20%20%20%20%20%20input.proxyA.Set(shape1)%3B%0D%0A%20%20%20%20%20%20input.proxyB%20%3D%20new%20b2DistanceProxy()%3B%0D%0A%20%20%20%20%20%20input.proxyB.Set(shape2)%3B%0D%0A%20%20%20%20%20%20input.transformA%20%3D%20transform1%3B%0D%0A%20%20%20%20%20%20input.transformB%20%3D%20transform2%3B%0D%0A%20%20%20%20%20%20input.useRadii%20%3D%20true%3B%0D%0A%20%20%20%20%20%20var%20simplexCache%20%3D%20new%20b2SimplexCache()%3B%0D%0A%20%20%20%20%20%20simplexCache.count%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20output%20%3D%20new%20b2DistanceOutput()%3B%0D%0A%20%20%20%20%20%20b2Distance.Distance(output%2C%20simplexCache%2C%20input)%3B%0D%0A%20%20%20%20%20%20return%20output.distance%20%3C%2010.0%20*%20Number.MIN_VALUE%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Shape.prototype.b2Shape%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_unknownShape%3B%0D%0A%20%20%20%20%20%20this.m_radius%20%3D%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_unknownShape%20%3D%20parseInt(-1)%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_circleShape%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_polygonShape%20%3D%201%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_edgeShape%20%3D%202%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount%20%3D%203%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_hitCollide%20%3D%201%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_missCollide%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide%20%3D%20parseInt(-1)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%3B%0D%0A%0D%0A%20%20%20%20b2Color.b2Color%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this._r%20%3D%200%3B%0D%0A%20%20%20%20%20%20this._g%20%3D%200%3B%0D%0A%20%20%20%20%20%20this._b%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Color.prototype.b2Color%20%3D%20function%20(rr%2C%20gg%2C%20bb)%20%7B%0D%0A%20%20%20%20%20%20if%20(rr%20%3D%3D%3D%20undefined)%20rr%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(gg%20%3D%3D%3D%20undefined)%20gg%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bb%20%3D%3D%3D%20undefined)%20bb%20%3D%200%3B%0D%0A%20%20%20%20%20%20this._r%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(rr%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20this._g%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(gg%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20this._b%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(bb%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Color.prototype.Set%20%3D%20function%20(rr%2C%20gg%2C%20bb)%20%7B%0D%0A%20%20%20%20%20%20if%20(rr%20%3D%3D%3D%20undefined)%20rr%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(gg%20%3D%3D%3D%20undefined)%20gg%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bb%20%3D%3D%3D%20undefined)%20bb%20%3D%200%3B%0D%0A%20%20%20%20%20%20this._r%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(rr%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20this._g%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(gg%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20this._b%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(bb%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22r%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(rr)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(rr%20%3D%3D%3D%20undefined)%20rr%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._r%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(rr%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22g%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(gg)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(gg%20%3D%3D%3D%20undefined)%20gg%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._g%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(gg%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22b%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20set%3A%20function%20(bb)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(bb%20%3D%3D%3D%20undefined)%20bb%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20this._b%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(bb%2C%200.0%2C%201.0))%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22color%22%2C%20%7B%0D%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0D%0A%20%20%20%20%20%20configurable%3A%20true%2C%0D%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20(this._r%20%3C%3C%2016)%20%7C%20(this._g%20%3C%3C%208)%20%7C%20this._b%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2Settings.b2Settings%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Settings.b2MixFriction%20%3D%20function%20(friction1%2C%20friction2)%20%7B%0D%0A%20%20%20%20%20%20if%20(friction1%20%3D%3D%3D%20undefined)%20friction1%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(friction2%20%3D%3D%3D%20undefined)%20friction2%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20Math.sqrt(friction1%20*%20friction2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Settings.b2MixRestitution%20%3D%20function%20(restitution1%2C%20restitution2)%20%7B%0D%0A%20%20%20%20%20%20if%20(restitution1%20%3D%3D%3D%20undefined)%20restitution1%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(restitution2%20%3D%3D%3D%20undefined)%20restitution2%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20restitution1%20%3E%20restitution2%20%3F%20restitution1%20%3A%20restitution2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Settings.b2Assert%20%3D%20function%20(a)%20%7B%0D%0A%20%20%20%20%20%20if%20(!a)%20%7B%0D%0A%20%20%20%20%20%20%20%20throw%20%22Assertion%20Failed%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.VERSION%20%3D%20%222.1alpha%22%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.USHRT_MAX%20%3D%200x0000ffff%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_pi%20%3D%20Math.PI%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxManifoldPoints%20%3D%202%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_aabbExtension%20%3D%200.1%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_aabbMultiplier%20%3D%202.0%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_polygonRadius%20%3D%202.0%20*%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_linearSlop%20%3D%200.005%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_angularSlop%20%3D%20(2.0%20%2F%20180.0)%20*%20b2Settings.b2_pi%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_toiSlop%20%3D%208.0%20*%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland%20%3D%2032%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland%20%3D%2032%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_velocityThreshold%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxLinearCorrection%20%3D%200.2%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxAngularCorrection%20%3D%0D%0A%20%20%20%20%20%20%20%20(8.0%20%2F%20180.0)%20*%20b2Settings.b2_pi%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTranslation%20%3D%202.0%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTranslationSquared%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxTranslation%20*%20b2Settings.b2_maxTranslation%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxRotation%20%3D%200.5%20*%20b2Settings.b2_pi%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxRotationSquared%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxRotation%20*%20b2Settings.b2_maxRotation%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_contactBaumgarte%20%3D%200.2%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_timeToSleep%20%3D%200.5%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_linearSleepTolerance%20%3D%200.01%3B%0D%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_angularSleepTolerance%20%3D%0D%0A%20%20%20%20%20%20%20%20(2.0%20%2F%20180.0)%20*%20b2Settings.b2_pi%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0D%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%3B%0D%0A%0D%0A%20%20%20%20b2Mat22.b2Mat22%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.col2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.b2Mat22%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.SetIdentity()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.FromAngle%20%3D%20function%20(angle)%20%7B%0D%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20mat%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20mat.Set(angle)%3B%0D%0A%20%20%20%20%20%20return%20mat%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.FromVV%20%3D%20function%20(c1%2C%20c2)%20%7B%0D%0A%20%20%20%20%20%20var%20mat%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20mat.SetVV(c1%2C%20c2)%3B%0D%0A%20%20%20%20%20%20return%20mat%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.Set%20%3D%20function%20(angle)%20%7B%0D%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20Math.cos(angle)%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20Math.sin(angle)%3B%0D%0A%20%20%20%20%20%20this.col1.x%20%3D%20c%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%3D%20-s%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%3D%20s%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%3D%20c%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.SetVV%20%3D%20function%20(c1%2C%20c2)%20%7B%0D%0A%20%20%20%20%20%20this.col1.SetV(c1)%3B%0D%0A%20%20%20%20%20%20this.col2.SetV(c2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20mat%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20mat.SetM(this)%3B%0D%0A%20%20%20%20%20%20return%20mat%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.SetM%20%3D%20function%20(m)%20%7B%0D%0A%20%20%20%20%20%20this.col1.SetV(m.col1)%3B%0D%0A%20%20%20%20%20%20this.col2.SetV(m.col2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.AddM%20%3D%20function%20(m)%20%7B%0D%0A%20%20%20%20%20%20this.col1.x%20%2B%3D%20m.col1.x%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%2B%3D%20m.col1.y%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%2B%3D%20m.col2.x%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%2B%3D%20m.col2.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.SetIdentity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1.x%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%3D%201.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.SetZero%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.GetAngle%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20Math.atan2(this.col1.y%2C%20this.col1.x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.GetInverse%20%3D%20function%20(out)%20%7B%0D%0A%20%20%20%20%20%20var%20a%20%3D%20this.col1.x%3B%0D%0A%20%20%20%20%20%20var%20b%20%3D%20this.col2.x%3B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20this.col1.y%3B%0D%0A%20%20%20%20%20%20var%20d%20%3D%20this.col2.y%3B%0D%0A%20%20%20%20%20%20var%20det%20%3D%20a%20*%20d%20-%20b%20*%20c%3B%0D%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20out.col1.x%20%3D%20det%20*%20d%3B%0D%0A%20%20%20%20%20%20out.col2.x%20%3D%20-det%20*%20b%3B%0D%0A%20%20%20%20%20%20out.col1.y%20%3D%20-det%20*%20c%3B%0D%0A%20%20%20%20%20%20out.col2.y%20%3D%20det%20*%20a%3B%0D%0A%20%20%20%20%20%20return%20out%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.Solve%20%3D%20function%20(out%2C%20bX%2C%20bY)%20%7B%0D%0A%20%20%20%20%20%20if%20(bX%20%3D%3D%3D%20undefined)%20bX%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bY%20%3D%3D%3D%20undefined)%20bY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20a11%20%3D%20this.col1.x%3B%0D%0A%20%20%20%20%20%20var%20a12%20%3D%20this.col2.x%3B%0D%0A%20%20%20%20%20%20var%20a21%20%3D%20this.col1.y%3B%0D%0A%20%20%20%20%20%20var%20a22%20%3D%20this.col2.y%3B%0D%0A%20%20%20%20%20%20var%20det%20%3D%20a11%20*%20a22%20-%20a12%20*%20a21%3B%0D%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20out.x%20%3D%20det%20*%20(a22%20*%20bX%20-%20a12%20*%20bY)%3B%0D%0A%20%20%20%20%20%20out.y%20%3D%20det%20*%20(a11%20*%20bY%20-%20a21%20*%20bX)%3B%0D%0A%20%20%20%20%20%20return%20out%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat22.prototype.Abs%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1.Abs()%3B%0D%0A%20%20%20%20%20%20this.col2.Abs()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.b2Mat33%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.col2%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.col3%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.b2Mat33%20%3D%20function%20(c1%2C%20c2%2C%20c3)%20%7B%0D%0A%20%20%20%20%20%20if%20(c1%20%3D%3D%3D%20undefined)%20c1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(c2%20%3D%3D%3D%20undefined)%20c2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(c3%20%3D%3D%3D%20undefined)%20c3%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(!c1%20%26%26%20!c2%20%26%26%20!c3)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.col1.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.col2.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.col3.SetZero()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.col1.SetV(c1)%3B%0D%0A%20%20%20%20%20%20%20%20this.col2.SetV(c2)%3B%0D%0A%20%20%20%20%20%20%20%20this.col3.SetV(c3)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.SetVVV%20%3D%20function%20(c1%2C%20c2%2C%20c3)%20%7B%0D%0A%20%20%20%20%20%20this.col1.SetV(c1)%3B%0D%0A%20%20%20%20%20%20this.col2.SetV(c2)%3B%0D%0A%20%20%20%20%20%20this.col3.SetV(c3)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Mat33(this.col1%2C%20this.col2%2C%20this.col3)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.SetM%20%3D%20function%20(m)%20%7B%0D%0A%20%20%20%20%20%20this.col1.SetV(m.col1)%3B%0D%0A%20%20%20%20%20%20this.col2.SetV(m.col2)%3B%0D%0A%20%20%20%20%20%20this.col3.SetV(m.col3)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.AddM%20%3D%20function%20(m)%20%7B%0D%0A%20%20%20%20%20%20this.col1.x%20%2B%3D%20m.col1.x%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%2B%3D%20m.col1.y%3B%0D%0A%20%20%20%20%20%20this.col1.z%20%2B%3D%20m.col1.z%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%2B%3D%20m.col2.x%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%2B%3D%20m.col2.y%3B%0D%0A%20%20%20%20%20%20this.col2.z%20%2B%3D%20m.col2.z%3B%0D%0A%20%20%20%20%20%20this.col3.x%20%2B%3D%20m.col3.x%3B%0D%0A%20%20%20%20%20%20this.col3.y%20%2B%3D%20m.col3.y%3B%0D%0A%20%20%20%20%20%20this.col3.z%20%2B%3D%20m.col3.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.SetIdentity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1.x%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col3.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.col3.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col1.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col3.z%20%3D%201.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.SetZero%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.col1.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col3.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col3.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col1.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col2.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.col3.z%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.Solve22%20%3D%20function%20(out%2C%20bX%2C%20bY)%20%7B%0D%0A%20%20%20%20%20%20if%20(bX%20%3D%3D%3D%20undefined)%20bX%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bY%20%3D%3D%3D%20undefined)%20bY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20a11%20%3D%20this.col1.x%3B%0D%0A%20%20%20%20%20%20var%20a12%20%3D%20this.col2.x%3B%0D%0A%20%20%20%20%20%20var%20a21%20%3D%20this.col1.y%3B%0D%0A%20%20%20%20%20%20var%20a22%20%3D%20this.col2.y%3B%0D%0A%20%20%20%20%20%20var%20det%20%3D%20a11%20*%20a22%20-%20a12%20*%20a21%3B%0D%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20out.x%20%3D%20det%20*%20(a22%20*%20bX%20-%20a12%20*%20bY)%3B%0D%0A%20%20%20%20%20%20out.y%20%3D%20det%20*%20(a11%20*%20bY%20-%20a21%20*%20bX)%3B%0D%0A%20%20%20%20%20%20return%20out%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Mat33.prototype.Solve33%20%3D%20function%20(out%2C%20bX%2C%20bY%2C%20bZ)%20%7B%0D%0A%20%20%20%20%20%20if%20(bX%20%3D%3D%3D%20undefined)%20bX%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bY%20%3D%3D%3D%20undefined)%20bY%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bZ%20%3D%3D%3D%20undefined)%20bZ%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20a11%20%3D%20this.col1.x%3B%0D%0A%20%20%20%20%20%20var%20a21%20%3D%20this.col1.y%3B%0D%0A%20%20%20%20%20%20var%20a31%20%3D%20this.col1.z%3B%0D%0A%20%20%20%20%20%20var%20a12%20%3D%20this.col2.x%3B%0D%0A%20%20%20%20%20%20var%20a22%20%3D%20this.col2.y%3B%0D%0A%20%20%20%20%20%20var%20a32%20%3D%20this.col2.z%3B%0D%0A%20%20%20%20%20%20var%20a13%20%3D%20this.col3.x%3B%0D%0A%20%20%20%20%20%20var%20a23%20%3D%20this.col3.y%3B%0D%0A%20%20%20%20%20%20var%20a33%20%3D%20this.col3.z%3B%0D%0A%20%20%20%20%20%20var%20det%20%3D%0D%0A%20%20%20%20%20%20%20%20a11%20*%20(a22%20*%20a33%20-%20a32%20*%20a23)%20%2B%0D%0A%20%20%20%20%20%20%20%20a21%20*%20(a32%20*%20a13%20-%20a12%20*%20a33)%20%2B%0D%0A%20%20%20%20%20%20%20%20a31%20*%20(a12%20*%20a23%20-%20a22%20*%20a13)%3B%0D%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20out.x%20%3D%0D%0A%20%20%20%20%20%20%20%20det%20*%0D%0A%20%20%20%20%20%20%20%20(bX%20*%20(a22%20*%20a33%20-%20a32%20*%20a23)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20bY%20*%20(a32%20*%20a13%20-%20a12%20*%20a33)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20bZ%20*%20(a12%20*%20a23%20-%20a22%20*%20a13))%3B%0D%0A%20%20%20%20%20%20out.y%20%3D%0D%0A%20%20%20%20%20%20%20%20det%20*%0D%0A%20%20%20%20%20%20%20%20(a11%20*%20(bY%20*%20a33%20-%20bZ%20*%20a23)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20a21%20*%20(bZ%20*%20a13%20-%20bX%20*%20a33)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20a31%20*%20(bX%20*%20a23%20-%20bY%20*%20a13))%3B%0D%0A%20%20%20%20%20%20out.z%20%3D%0D%0A%20%20%20%20%20%20%20%20det%20*%0D%0A%20%20%20%20%20%20%20%20(a11%20*%20(a22%20*%20bZ%20-%20a32%20*%20bY)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20a21%20*%20(a32%20*%20bX%20-%20a12%20*%20bZ)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20a31%20*%20(a12%20*%20bY%20-%20a22%20*%20bX))%3B%0D%0A%20%20%20%20%20%20return%20out%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.b2Math%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Math.IsValid%20%3D%20function%20(x)%20%7B%0D%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20isFinite(x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Dot%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20return%20a.x%20*%20b.x%20%2B%20a.y%20*%20b.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.CrossVV%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20return%20a.x%20*%20b.y%20-%20a.y%20*%20b.x%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.CrossVF%20%3D%20function%20(a%2C%20s)%20%7B%0D%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(s%20*%20a.y%2C%20-s%20*%20a.x)%3B%0D%0A%20%20%20%20%20%20return%20v%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.CrossFV%20%3D%20function%20(s%2C%20a)%20%7B%0D%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(-s%20*%20a.y%2C%20s%20*%20a.x)%3B%0D%0A%20%20%20%20%20%20return%20v%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulMV%20%3D%20function%20(A%2C%20v)%20%7B%0D%0A%20%20%20%20%20%20var%20u%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20A.col1.x%20*%20v.x%20%2B%20A.col2.x%20*%20v.y%2C%0D%0A%20%20%20%20%20%20%20%20A.col1.y%20*%20v.x%20%2B%20A.col2.y%20*%20v.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20u%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulTMV%20%3D%20function%20(A%2C%20v)%20%7B%0D%0A%20%20%20%20%20%20var%20u%20%3D%20new%20b2Vec2(b2Math.Dot(v%2C%20A.col1)%2C%20b2Math.Dot(v%2C%20A.col2))%3B%0D%0A%20%20%20%20%20%20return%20u%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulX%20%3D%20function%20(T%2C%20v)%20%7B%0D%0A%20%20%20%20%20%20var%20a%20%3D%20b2Math.MulMV(T.R%2C%20v)%3B%0D%0A%20%20%20%20%20%20a.x%20%2B%3D%20T.position.x%3B%0D%0A%20%20%20%20%20%20a.y%20%2B%3D%20T.position.y%3B%0D%0A%20%20%20%20%20%20return%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulXT%20%3D%20function%20(T%2C%20v)%20%7B%0D%0A%20%20%20%20%20%20var%20a%20%3D%20b2Math.SubtractVV(v%2C%20T.position)%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20a.x%20*%20T.R.col1.x%20%2B%20a.y%20*%20T.R.col1.y%3B%0D%0A%20%20%20%20%20%20a.y%20%3D%20a.x%20*%20T.R.col2.x%20%2B%20a.y%20*%20T.R.col2.y%3B%0D%0A%20%20%20%20%20%20a.x%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20return%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.AddVV%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(a.x%20%2B%20b.x%2C%20a.y%20%2B%20b.y)%3B%0D%0A%20%20%20%20%20%20return%20v%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.SubtractVV%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(a.x%20-%20b.x%2C%20a.y%20-%20b.y)%3B%0D%0A%20%20%20%20%20%20return%20v%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Distance%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20cX%20%3D%20a.x%20-%20b.x%3B%0D%0A%20%20%20%20%20%20var%20cY%20%3D%20a.y%20-%20b.y%3B%0D%0A%20%20%20%20%20%20return%20Math.sqrt(cX%20*%20cX%20%2B%20cY%20*%20cY)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.DistanceSquared%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20cX%20%3D%20a.x%20-%20b.x%3B%0D%0A%20%20%20%20%20%20var%20cY%20%3D%20a.y%20-%20b.y%3B%0D%0A%20%20%20%20%20%20return%20cX%20*%20cX%20%2B%20cY%20*%20cY%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulFV%20%3D%20function%20(s%2C%20a)%20%7B%0D%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(s%20*%20a.x%2C%20s%20*%20a.y)%3B%0D%0A%20%20%20%20%20%20return%20v%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.AddMM%20%3D%20function%20(A%2C%20B)%20%7B%0D%0A%20%20%20%20%20%20var%20C%20%3D%20b2Mat22.FromVV(%0D%0A%20%20%20%20%20%20%20%20b2Math.AddVV(A.col1%2C%20B.col1)%2C%0D%0A%20%20%20%20%20%20%20%20b2Math.AddVV(A.col2%2C%20B.col2)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20C%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulMM%20%3D%20function%20(A%2C%20B)%20%7B%0D%0A%20%20%20%20%20%20var%20C%20%3D%20b2Mat22.FromVV(b2Math.MulMV(A%2C%20B.col1)%2C%20b2Math.MulMV(A%2C%20B.col2))%3B%0D%0A%20%20%20%20%20%20return%20C%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MulTMM%20%3D%20function%20(A%2C%20B)%20%7B%0D%0A%20%20%20%20%20%20var%20c1%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20b2Math.Dot(A.col1%2C%20B.col1)%2C%0D%0A%20%20%20%20%20%20%20%20b2Math.Dot(A.col2%2C%20B.col1)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20c2%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20b2Math.Dot(A.col1%2C%20B.col2)%2C%0D%0A%20%20%20%20%20%20%20%20b2Math.Dot(A.col2%2C%20B.col2)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20C%20%3D%20b2Mat22.FromVV(c1%2C%20c2)%3B%0D%0A%20%20%20%20%20%20return%20C%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Abs%20%3D%20function%20(a)%20%7B%0D%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20a%20%3E%200.0%20%3F%20a%20%3A%20-a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.AbsV%20%3D%20function%20(a)%20%7B%0D%0A%20%20%20%20%20%20var%20b%20%3D%20new%20b2Vec2(b2Math.Abs(a.x)%2C%20b2Math.Abs(a.y))%3B%0D%0A%20%20%20%20%20%20return%20b%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.AbsM%20%3D%20function%20(A)%20%7B%0D%0A%20%20%20%20%20%20var%20B%20%3D%20b2Mat22.FromVV(b2Math.AbsV(A.col1)%2C%20b2Math.AbsV(A.col2))%3B%0D%0A%20%20%20%20%20%20return%20B%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Min%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(b%20%3D%3D%3D%20undefined)%20b%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20a%20%3C%20b%20%3F%20a%20%3A%20b%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MinV%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20new%20b2Vec2(b2Math.Min(a.x%2C%20b.x)%2C%20b2Math.Min(a.y%2C%20b.y))%3B%0D%0A%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Max%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(b%20%3D%3D%3D%20undefined)%20b%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20a%20%3E%20b%20%3F%20a%20%3A%20b%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.MaxV%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20new%20b2Vec2(b2Math.Max(a.x%2C%20b.x)%2C%20b2Math.Max(a.y%2C%20b.y))%3B%0D%0A%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Clamp%20%3D%20function%20(a%2C%20low%2C%20high)%20%7B%0D%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(low%20%3D%3D%3D%20undefined)%20low%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(high%20%3D%3D%3D%20undefined)%20high%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20a%20%3C%20low%20%3F%20low%20%3A%20a%20%3E%20high%20%3F%20high%20%3A%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.ClampV%20%3D%20function%20(a%2C%20low%2C%20high)%20%7B%0D%0A%20%20%20%20%20%20return%20b2Math.MaxV(low%2C%20b2Math.MinV(a%2C%20high))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Swap%20%3D%20function%20(a%2C%20b)%20%7B%0D%0A%20%20%20%20%20%20var%20tmp%20%3D%20a%5B0%5D%3B%0D%0A%20%20%20%20%20%20a%5B0%5D%20%3D%20b%5B0%5D%3B%0D%0A%20%20%20%20%20%20b%5B0%5D%20%3D%20tmp%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.Random%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20Math.random()%20*%202%20-%201%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.RandomRange%20%3D%20function%20(lo%2C%20hi)%20%7B%0D%0A%20%20%20%20%20%20if%20(lo%20%3D%3D%3D%20undefined)%20lo%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(hi%20%3D%3D%3D%20undefined)%20hi%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r%20%3D%20Math.random()%3B%0D%0A%20%20%20%20%20%20r%20%3D%20(hi%20-%20lo)%20*%20r%20%2B%20lo%3B%0D%0A%20%20%20%20%20%20return%20r%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.NextPowerOfTwo%20%3D%20function%20(x)%20%7B%0D%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0D%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%201)%20%26%200x7fffffff%3B%0D%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%202)%20%26%200x3fffffff%3B%0D%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%204)%20%26%200x0fffffff%3B%0D%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%208)%20%26%200x00ffffff%3B%0D%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%2016)%20%26%200x0000ffff%3B%0D%0A%20%20%20%20%20%20return%20x%20%2B%201%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Math.IsPowerOfTwo%20%3D%20function%20(x)%20%7B%0D%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20x%20%3E%200%20%26%26%20(x%20%26%20(x%20-%201))%20%3D%3D%200%3B%0D%0A%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Common.Math.b2Math.b2Vec2_zero%20%3D%20new%20b2Vec2(0.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20Box2D.Common.Math.b2Math.b2Mat22_identity%20%3D%20b2Mat22.FromVV(%0D%0A%20%20%20%20%20%20%20%20new%20b2Vec2(1.0%2C%200.0)%2C%0D%0A%20%20%20%20%20%20%20%20new%20b2Vec2(0.0%2C%201.0)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20Box2D.Common.Math.b2Math.b2Transform_identity%20%3D%20new%20b2Transform(%0D%0A%20%20%20%20%20%20%20%20b2Math.b2Vec2_zero%2C%0D%0A%20%20%20%20%20%20%20%20b2Math.b2Mat22_identity%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2Sweep.b2Sweep%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.localCenter%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.c0%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.c%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Sweep.prototype.Set%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20this.localCenter.SetV(other.localCenter)%3B%0D%0A%20%20%20%20%20%20this.c0.SetV(other.c0)%3B%0D%0A%20%20%20%20%20%20this.c.SetV(other.c)%3B%0D%0A%20%20%20%20%20%20this.a0%20%3D%20other.a0%3B%0D%0A%20%20%20%20%20%20this.a%20%3D%20other.a%3B%0D%0A%20%20%20%20%20%20this.t0%20%3D%20other.t0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Sweep.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20copy%20%3D%20new%20b2Sweep()%3B%0D%0A%20%20%20%20%20%20copy.localCenter.SetV(this.localCenter)%3B%0D%0A%20%20%20%20%20%20copy.c0.SetV(this.c0)%3B%0D%0A%20%20%20%20%20%20copy.c.SetV(this.c)%3B%0D%0A%20%20%20%20%20%20copy.a0%20%3D%20this.a0%3B%0D%0A%20%20%20%20%20%20copy.a%20%3D%20this.a%3B%0D%0A%20%20%20%20%20%20copy.t0%20%3D%20this.t0%3B%0D%0A%20%20%20%20%20%20return%20copy%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Sweep.prototype.GetTransform%20%3D%20function%20(xf%2C%20alpha)%20%7B%0D%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0D%0A%20%20%20%20%20%20xf.position.x%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.x%20%2B%20alpha%20*%20this.c.x%3B%0D%0A%20%20%20%20%20%20xf.position.y%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.y%20%2B%20alpha%20*%20this.c.y%3B%0D%0A%20%20%20%20%20%20var%20angle%20%3D%20(1.0%20-%20alpha)%20*%20this.a0%20%2B%20alpha%20*%20this.a%3B%0D%0A%20%20%20%20%20%20xf.R.Set(angle)%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0D%0A%20%20%20%20%20%20xf.position.x%20-%3D%0D%0A%20%20%20%20%20%20%20%20tMat.col1.x%20*%20this.localCenter.x%20%2B%20tMat.col2.x%20*%20this.localCenter.y%3B%0D%0A%20%20%20%20%20%20xf.position.y%20-%3D%0D%0A%20%20%20%20%20%20%20%20tMat.col1.y%20*%20this.localCenter.x%20%2B%20tMat.col2.y%20*%20this.localCenter.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Sweep.prototype.Advance%20%3D%20function%20(t)%20%7B%0D%0A%20%20%20%20%20%20if%20(t%20%3D%3D%3D%20undefined)%20t%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.t0%20%3C%20t%20%26%26%201.0%20-%20this.t0%20%3E%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20alpha%20%3D%20(t%20-%20this.t0)%20%2F%20(1.0%20-%20this.t0)%3B%0D%0A%20%20%20%20%20%20%20%20this.c0.x%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.x%20%2B%20alpha%20*%20this.c.x%3B%0D%0A%20%20%20%20%20%20%20%20this.c0.y%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.y%20%2B%20alpha%20*%20this.c.y%3B%0D%0A%20%20%20%20%20%20%20%20this.a0%20%3D%20(1.0%20-%20alpha)%20*%20this.a0%20%2B%20alpha%20*%20this.a%3B%0D%0A%20%20%20%20%20%20%20%20this.t0%20%3D%20t%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Transform.b2Transform%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.R%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Transform.prototype.b2Transform%20%3D%20function%20(pos%2C%20r)%20%7B%0D%0A%20%20%20%20%20%20if%20(pos%20%3D%3D%3D%20undefined)%20pos%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(r%20%3D%3D%3D%20undefined)%20r%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(pos)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.position.SetV(pos)%3B%0D%0A%20%20%20%20%20%20%20%20this.R.SetM(r)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Transform.prototype.Initialize%20%3D%20function%20(pos%2C%20r)%20%7B%0D%0A%20%20%20%20%20%20this.position.SetV(pos)%3B%0D%0A%20%20%20%20%20%20this.R.SetM(r)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Transform.prototype.SetIdentity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.position.SetZero()%3B%0D%0A%20%20%20%20%20%20this.R.SetIdentity()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Transform.prototype.Set%20%3D%20function%20(x)%20%7B%0D%0A%20%20%20%20%20%20this.position.SetV(x.position)%3B%0D%0A%20%20%20%20%20%20this.R.SetM(x.R)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Transform.prototype.GetAngle%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20Math.atan2(this.R.col1.y%2C%20this.R.col1.x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.b2Vec2%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.b2Vec2%20%3D%20function%20(x_%2C%20y_)%20%7B%0D%0A%20%20%20%20%20%20if%20(x_%20%3D%3D%3D%20undefined)%20x_%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(y_%20%3D%3D%3D%20undefined)%20y_%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20x_%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20y_%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.SetZero%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Set%20%3D%20function%20(x_%2C%20y_)%20%7B%0D%0A%20%20%20%20%20%20if%20(x_%20%3D%3D%3D%20undefined)%20x_%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(y_%20%3D%3D%3D%20undefined)%20y_%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20x_%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20y_%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.SetV%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20v.x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20v.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.GetNegative%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(-this.x%2C%20-this.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.NegativeSelf%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20-this.x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20-this.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.Make%20%3D%20function%20(x_%2C%20y_)%20%7B%0D%0A%20%20%20%20%20%20if%20(x_%20%3D%3D%3D%20undefined)%20x_%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(y_%20%3D%3D%3D%20undefined)%20y_%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(x_%2C%20y_)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(this.x%2C%20this.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Add%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20this.x%20%2B%3D%20v.x%3B%0D%0A%20%20%20%20%20%20this.y%20%2B%3D%20v.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Subtract%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20this.x%20-%3D%20v.x%3B%0D%0A%20%20%20%20%20%20this.y%20-%3D%20v.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Multiply%20%3D%20function%20(a)%20%7B%0D%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.x%20*%3D%20a%3B%0D%0A%20%20%20%20%20%20this.y%20*%3D%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.MulM%20%3D%20function%20(A)%20%7B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20this.x%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20A.col1.x%20*%20tX%20%2B%20A.col2.x%20*%20this.y%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20A.col1.y%20*%20tX%20%2B%20A.col2.y%20*%20this.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.MulTM%20%3D%20function%20(A)%20%7B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20b2Math.Dot(this%2C%20A.col1)%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20b2Math.Dot(this%2C%20A.col2)%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20tX%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.CrossVF%20%3D%20function%20(s)%20%7B%0D%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20this.x%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20s%20*%20this.y%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20-s%20*%20tX%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.CrossFV%20%3D%20function%20(s)%20%7B%0D%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20this.x%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20-s%20*%20this.y%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20s%20*%20tX%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.MinV%20%3D%20function%20(b)%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20this.x%20%3C%20b.x%20%3F%20this.x%20%3A%20b.x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20this.y%20%3C%20b.y%20%3F%20this.y%20%3A%20b.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.MaxV%20%3D%20function%20(b)%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20this.x%20%3E%20b.x%20%3F%20this.x%20%3A%20b.x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20this.y%20%3E%20b.y%20%3F%20this.y%20%3A%20b.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Abs%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20if%20(this.x%20%3C%200)%20this.x%20%3D%20-this.x%3B%0D%0A%20%20%20%20%20%20if%20(this.y%20%3C%200)%20this.y%20%3D%20-this.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Length%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.LengthSquared%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.Normalize%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y)%3B%0D%0A%20%20%20%20%20%20if%20(length%20%3C%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20invLength%20%3D%201.0%20%2F%20length%3B%0D%0A%20%20%20%20%20%20this.x%20*%3D%20invLength%3B%0D%0A%20%20%20%20%20%20this.y%20*%3D%20invLength%3B%0D%0A%20%20%20%20%20%20return%20length%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec2.prototype.IsValid%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20b2Math.IsValid(this.x)%20%26%26%20b2Math.IsValid(this.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.b2Vec3%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.b2Vec3%20%3D%20function%20(x%2C%20y%2C%20z)%20%7B%0D%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(y%20%3D%3D%3D%20undefined)%20y%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(z%20%3D%3D%3D%20undefined)%20z%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20y%3B%0D%0A%20%20%20%20%20%20this.z%20%3D%20z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.SetZero%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20this.y%20%3D%20this.z%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.Set%20%3D%20function%20(x%2C%20y%2C%20z)%20%7B%0D%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(y%20%3D%3D%3D%20undefined)%20y%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(z%20%3D%3D%3D%20undefined)%20z%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.x%20%3D%20x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20y%3B%0D%0A%20%20%20%20%20%20this.z%20%3D%20z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.SetV%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20v.x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20v.y%3B%0D%0A%20%20%20%20%20%20this.z%20%3D%20v.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.GetNegative%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec3(-this.x%2C%20-this.y%2C%20-this.z)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.NegativeSelf%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.x%20%3D%20-this.x%3B%0D%0A%20%20%20%20%20%20this.y%20%3D%20-this.y%3B%0D%0A%20%20%20%20%20%20this.z%20%3D%20-this.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec3(this.x%2C%20this.y%2C%20this.z)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.Add%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20this.x%20%2B%3D%20v.x%3B%0D%0A%20%20%20%20%20%20this.y%20%2B%3D%20v.y%3B%0D%0A%20%20%20%20%20%20this.z%20%2B%3D%20v.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.Subtract%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20this.x%20-%3D%20v.x%3B%0D%0A%20%20%20%20%20%20this.y%20-%3D%20v.y%3B%0D%0A%20%20%20%20%20%20this.z%20-%3D%20v.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Vec3.prototype.Multiply%20%3D%20function%20(a)%20%7B%0D%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.x%20*%3D%20a%3B%0D%0A%20%20%20%20%20%20this.y%20*%3D%20a%3B%0D%0A%20%20%20%20%20%20this.z%20*%3D%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2ControllerEdge%20%3D%20Box2D.Dynamics.Controllers.b2ControllerEdge%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0D%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0D%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0D%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0D%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0D%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0D%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0D%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0D%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0D%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0D%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0D%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0D%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0D%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0D%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0D%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0D%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0D%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0D%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0D%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0D%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0D%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0D%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0D%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0D%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0D%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0D%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0D%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0D%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%2C%0D%0A%20%20%20%20%20%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0D%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0D%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0D%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0D%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0D%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0D%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0D%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0D%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0D%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0D%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0D%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0D%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0D%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0D%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0D%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0D%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0D%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0D%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0D%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0D%0A%20%20%20%20%20%20b2CircleContact%20%3D%20Box2D.Dynamics.Contacts.b2CircleContact%2C%0D%0A%20%20%20%20%20%20b2Contact%20%3D%20Box2D.Dynamics.Contacts.b2Contact%2C%0D%0A%20%20%20%20%20%20b2ContactConstraint%20%3D%20Box2D.Dynamics.Contacts.b2ContactConstraint%2C%0D%0A%20%20%20%20%20%20b2ContactConstraintPoint%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2ContactConstraintPoint%2C%0D%0A%20%20%20%20%20%20b2ContactEdge%20%3D%20Box2D.Dynamics.Contacts.b2ContactEdge%2C%0D%0A%20%20%20%20%20%20b2ContactFactory%20%3D%20Box2D.Dynamics.Contacts.b2ContactFactory%2C%0D%0A%20%20%20%20%20%20b2ContactRegister%20%3D%20Box2D.Dynamics.Contacts.b2ContactRegister%2C%0D%0A%20%20%20%20%20%20b2ContactResult%20%3D%20Box2D.Dynamics.Contacts.b2ContactResult%2C%0D%0A%20%20%20%20%20%20b2ContactSolver%20%3D%20Box2D.Dynamics.Contacts.b2ContactSolver%2C%0D%0A%20%20%20%20%20%20b2EdgeAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2EdgeAndCircleContact%2C%0D%0A%20%20%20%20%20%20b2NullContact%20%3D%20Box2D.Dynamics.Contacts.b2NullContact%2C%0D%0A%20%20%20%20%20%20b2PolyAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndCircleContact%2C%0D%0A%20%20%20%20%20%20b2PolyAndEdgeContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndEdgeContact%2C%0D%0A%20%20%20%20%20%20b2PolygonContact%20%3D%20Box2D.Dynamics.Contacts.b2PolygonContact%2C%0D%0A%20%20%20%20%20%20b2PositionSolverManifold%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold%2C%0D%0A%20%20%20%20%20%20b2Controller%20%3D%20Box2D.Dynamics.Controllers.b2Controller%2C%0D%0A%20%20%20%20%20%20b2DistanceJoint%20%3D%20Box2D.Dynamics.Joints.b2DistanceJoint%2C%0D%0A%20%20%20%20%20%20b2DistanceJointDef%20%3D%20Box2D.Dynamics.Joints.b2DistanceJointDef%2C%0D%0A%20%20%20%20%20%20b2FrictionJoint%20%3D%20Box2D.Dynamics.Joints.b2FrictionJoint%2C%0D%0A%20%20%20%20%20%20b2FrictionJointDef%20%3D%20Box2D.Dynamics.Joints.b2FrictionJointDef%2C%0D%0A%20%20%20%20%20%20b2GearJoint%20%3D%20Box2D.Dynamics.Joints.b2GearJoint%2C%0D%0A%20%20%20%20%20%20b2GearJointDef%20%3D%20Box2D.Dynamics.Joints.b2GearJointDef%2C%0D%0A%20%20%20%20%20%20b2Jacobian%20%3D%20Box2D.Dynamics.Joints.b2Jacobian%2C%0D%0A%20%20%20%20%20%20b2Joint%20%3D%20Box2D.Dynamics.Joints.b2Joint%2C%0D%0A%20%20%20%20%20%20b2JointDef%20%3D%20Box2D.Dynamics.Joints.b2JointDef%2C%0D%0A%20%20%20%20%20%20b2JointEdge%20%3D%20Box2D.Dynamics.Joints.b2JointEdge%2C%0D%0A%20%20%20%20%20%20b2LineJoint%20%3D%20Box2D.Dynamics.Joints.b2LineJoint%2C%0D%0A%20%20%20%20%20%20b2LineJointDef%20%3D%20Box2D.Dynamics.Joints.b2LineJointDef%2C%0D%0A%20%20%20%20%20%20b2MouseJoint%20%3D%20Box2D.Dynamics.Joints.b2MouseJoint%2C%0D%0A%20%20%20%20%20%20b2MouseJointDef%20%3D%20Box2D.Dynamics.Joints.b2MouseJointDef%2C%0D%0A%20%20%20%20%20%20b2PrismaticJoint%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJoint%2C%0D%0A%20%20%20%20%20%20b2PrismaticJointDef%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJointDef%2C%0D%0A%20%20%20%20%20%20b2PulleyJoint%20%3D%20Box2D.Dynamics.Joints.b2PulleyJoint%2C%0D%0A%20%20%20%20%20%20b2PulleyJointDef%20%3D%20Box2D.Dynamics.Joints.b2PulleyJointDef%2C%0D%0A%20%20%20%20%20%20b2RevoluteJoint%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJoint%2C%0D%0A%20%20%20%20%20%20b2RevoluteJointDef%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJointDef%2C%0D%0A%20%20%20%20%20%20b2WeldJoint%20%3D%20Box2D.Dynamics.Joints.b2WeldJoint%2C%0D%0A%20%20%20%20%20%20b2WeldJointDef%20%3D%20Box2D.Dynamics.Joints.b2WeldJointDef%3B%0D%0A%0D%0A%20%20%20%20b2Body.b2Body%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_xf%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20this.m_sweep%20%3D%20new%20b2Sweep()%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_force%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.connectEdges%20%3D%20function%20(s1%2C%20s2%2C%20angle1)%20%7B%0D%0A%20%20%20%20%20%20if%20(angle1%20%3D%3D%3D%20undefined)%20angle1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20angle2%20%3D%20Math.atan2(%0D%0A%20%20%20%20%20%20%20%20s2.GetDirectionVector().y%2C%0D%0A%20%20%20%20%20%20%20%20s2.GetDirectionVector().x%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20coreOffset%20%3D%20Math.tan((angle2%20-%20angle1)%20*%200.5)%3B%0D%0A%20%20%20%20%20%20var%20core%20%3D%20b2Math.MulFV(coreOffset%2C%20s2.GetDirectionVector())%3B%0D%0A%20%20%20%20%20%20core%20%3D%20b2Math.SubtractVV(core%2C%20s2.GetNormalVector())%3B%0D%0A%20%20%20%20%20%20core%20%3D%20b2Math.MulFV(b2Settings.b2_toiSlop%2C%20core)%3B%0D%0A%20%20%20%20%20%20core%20%3D%20b2Math.AddVV(core%2C%20s2.GetVertex1())%3B%0D%0A%20%20%20%20%20%20var%20cornerDir%20%3D%20b2Math.AddVV(%0D%0A%20%20%20%20%20%20%20%20s1.GetDirectionVector()%2C%0D%0A%20%20%20%20%20%20%20%20s2.GetDirectionVector()%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20cornerDir.Normalize()%3B%0D%0A%20%20%20%20%20%20var%20convex%20%3D%0D%0A%20%20%20%20%20%20%20%20b2Math.Dot(s1.GetDirectionVector()%2C%20s2.GetNormalVector())%20%3E%200.0%3B%0D%0A%20%20%20%20%20%20s1.SetNextEdge(s2%2C%20core%2C%20cornerDir%2C%20convex)%3B%0D%0A%20%20%20%20%20%20s2.SetPrevEdge(s1%2C%20core%2C%20cornerDir%2C%20convex)%3B%0D%0A%20%20%20%20%20%20return%20angle2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.CreateFixture%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20fixture%20%3D%20new%20b2Fixture()%3B%0D%0A%20%20%20%20%20%20fixture.Create(this%2C%20this.m_xf%2C%20def)%3B%0D%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2Body.e_activeFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20%20%20fixture.CreateProxy(broadPhase%2C%20this.m_xf)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20fixture.m_next%20%3D%20this.m_fixtureList%3B%0D%0A%20%20%20%20%20%20this.m_fixtureList%20%3D%20fixture%3B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_fixtureCount%3B%0D%0A%20%20%20%20%20%20fixture.m_body%20%3D%20this%3B%0D%0A%20%20%20%20%20%20if%20(fixture.m_density%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.ResetMassData()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_world.m_flags%20%7C%3D%20b2World.e_newFixture%3B%0D%0A%20%20%20%20%20%20return%20fixture%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.CreateFixture2%20%3D%20function%20(shape%2C%20density)%20%7B%0D%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20def%20%3D%20new%20b2FixtureDef()%3B%0D%0A%20%20%20%20%20%20def.shape%20%3D%20shape%3B%0D%0A%20%20%20%20%20%20def.density%20%3D%20density%3B%0D%0A%20%20%20%20%20%20return%20this.CreateFixture(def)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.DestroyFixture%20%3D%20function%20(fixture)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20node%20%3D%20this.m_fixtureList%3B%0D%0A%20%20%20%20%20%20var%20ppF%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20found%20%3D%20false%3B%0D%0A%20%20%20%20%20%20while%20(node%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(node%20%3D%3D%20fixture)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(ppF)%20ppF.m_next%20%3D%20fixture.m_next%3B%0D%0A%20%20%20%20%20%20%20%20%20%20else%20this.m_fixtureList%20%3D%20fixture.m_next%3B%0D%0A%20%20%20%20%20%20%20%20%20%20found%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20ppF%20%3D%20node%3B%0D%0A%20%20%20%20%20%20%20%20node%20%3D%20node.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20edge%20%3D%20this.m_contactList%3B%0D%0A%20%20%20%20%20%20while%20(edge)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20edge.contact%3B%0D%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20c.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20c.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fixture%20%3D%3D%20fixtureA%20%7C%7C%20fixture%20%3D%3D%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_world.m_contactManager.Destroy(c)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2Body.e_activeFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20%20%20fixture.DestroyProxy(broadPhase)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20fixture.Destroy()%3B%0D%0A%20%20%20%20%20%20fixture.m_body%20%3D%20null%3B%0D%0A%20%20%20%20%20%20fixture.m_next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20--this.m_fixtureCount%3B%0D%0A%20%20%20%20%20%20this.ResetMassData()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetPositionAndAngle%20%3D%20function%20(position%2C%20angle)%20%7B%0D%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20f%3B%0D%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_xf.R.Set(angle)%3B%0D%0A%20%20%20%20%20%20this.m_xf.position.SetV(position)%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.x%20%2B%3D%20this.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.y%20%2B%3D%20this.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(this.m_sweep.c)%3B%0D%0A%20%20%20%20%20%20this.m_sweep.a0%20%3D%20this.m_sweep.a%20%3D%20angle%3B%0D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20f.Synchronize(broadPhase%2C%20this.m_xf%2C%20this.m_xf)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_world.m_contactManager.FindNewContacts()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetTransform%20%3D%20function%20(xf)%20%7B%0D%0A%20%20%20%20%20%20this.SetPositionAndAngle(xf.position%2C%20xf.GetAngle())%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetTransform%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_xf%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetPosition%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_xf.position%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetPosition%20%3D%20function%20(position)%20%7B%0D%0A%20%20%20%20%20%20this.SetPositionAndAngle(position%2C%20this.GetAngle())%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetAngle%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_sweep.a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetAngle%20%3D%20function%20(angle)%20%7B%0D%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.SetPositionAndAngle(this.GetPosition()%2C%20angle)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetWorldCenter%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_sweep.c%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLocalCenter%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_sweep.localCenter%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetLinearVelocity%20%3D%20function%20(v)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_linearVelocity.SetV(v)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLinearVelocity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_linearVelocity%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetAngularVelocity%20%3D%20function%20(omega)%20%7B%0D%0A%20%20%20%20%20%20if%20(omega%20%3D%3D%3D%20undefined)%20omega%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_angularVelocity%20%3D%20omega%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetAngularVelocity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_angularVelocity%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetDefinition%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bd%20%3D%20new%20b2BodyDef()%3B%0D%0A%20%20%20%20%20%20bd.type%20%3D%20this.GetType()%3B%0D%0A%20%20%20%20%20%20bd.allowSleep%20%3D%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%20b2Body.e_allowSleepFlag%3B%0D%0A%20%20%20%20%20%20bd.angle%20%3D%20this.GetAngle()%3B%0D%0A%20%20%20%20%20%20bd.angularDamping%20%3D%20this.m_angularDamping%3B%0D%0A%20%20%20%20%20%20bd.angularVelocity%20%3D%20this.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20bd.fixedRotation%20%3D%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%0D%0A%20%20%20%20%20%20%20%20b2Body.e_fixedRotationFlag%3B%0D%0A%20%20%20%20%20%20bd.bullet%20%3D%20(this.m_flags%20%26%20b2Body.e_bulletFlag)%20%3D%3D%20b2Body.e_bulletFlag%3B%0D%0A%20%20%20%20%20%20bd.awake%20%3D%20(this.m_flags%20%26%20b2Body.e_awakeFlag)%20%3D%3D%20b2Body.e_awakeFlag%3B%0D%0A%20%20%20%20%20%20bd.linearDamping%20%3D%20this.m_linearDamping%3B%0D%0A%20%20%20%20%20%20bd.linearVelocity.SetV(this.GetLinearVelocity())%3B%0D%0A%20%20%20%20%20%20bd.position%20%3D%20this.GetPosition()%3B%0D%0A%20%20%20%20%20%20bd.userData%20%3D%20this.GetUserData()%3B%0D%0A%20%20%20%20%20%20return%20bd%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.ApplyForce%20%3D%20function%20(force%2C%20point)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_force.x%20%2B%3D%20force.x%3B%0D%0A%20%20%20%20%20%20this.m_force.y%20%2B%3D%20force.y%3B%0D%0A%20%20%20%20%20%20this.m_torque%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20(point.x%20-%20this.m_sweep.c.x)%20*%20force.y%20-%0D%0A%20%20%20%20%20%20%20%20(point.y%20-%20this.m_sweep.c.y)%20*%20force.x%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.ApplyTorque%20%3D%20function%20(torque)%20%7B%0D%0A%20%20%20%20%20%20if%20(torque%20%3D%3D%3D%20undefined)%20torque%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_torque%20%2B%3D%20torque%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.ApplyImpulse%20%3D%20function%20(impulse%2C%20point)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_linearVelocity.x%20%2B%3D%20this.m_invMass%20*%20impulse.x%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%3D%20this.m_invMass%20*%20impulse.y%3B%0D%0A%20%20%20%20%20%20this.m_angularVelocity%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20this.m_invI%20*%0D%0A%20%20%20%20%20%20%20%20((point.x%20-%20this.m_sweep.c.x)%20*%20impulse.y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20(point.y%20-%20this.m_sweep.c.y)%20*%20impulse.x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.Split%20%3D%20function%20(callback)%20%7B%0D%0A%20%20%20%20%20%20var%20linearVelocity%20%3D%20this.GetLinearVelocity().Copy()%3B%0D%0A%20%20%20%20%20%20var%20angularVelocity%20%3D%20this.GetAngularVelocity()%3B%0D%0A%20%20%20%20%20%20var%20center%20%3D%20this.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20var%20body1%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20body2%20%3D%20this.m_world.CreateBody(this.GetDefinition())%3B%0D%0A%20%20%20%20%20%20var%20prev%3B%0D%0A%20%20%20%20%20%20for%20(var%20f%20%3D%20body1.m_fixtureList%3B%20f%3B%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(callback(f))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20next%20%3D%20f.m_next%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prev.m_next%20%3D%20next%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body1.m_fixtureList%20%3D%20next%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20body1.m_fixtureCount--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20f.m_next%20%3D%20body2.m_fixtureList%3B%0D%0A%20%20%20%20%20%20%20%20%20%20body2.m_fixtureList%20%3D%20f%3B%0D%0A%20%20%20%20%20%20%20%20%20%20body2.m_fixtureCount%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20f.m_body%20%3D%20body2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20f%20%3D%20next%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20prev%20%3D%20f%3B%0D%0A%20%20%20%20%20%20%20%20%20%20f%20%3D%20f.m_next%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20body1.ResetMassData()%3B%0D%0A%20%20%20%20%20%20body2.ResetMassData()%3B%0D%0A%20%20%20%20%20%20var%20center1%20%3D%20body1.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20var%20center2%20%3D%20body2.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20var%20velocity1%20%3D%20b2Math.AddVV(%0D%0A%20%20%20%20%20%20%20%20linearVelocity%2C%0D%0A%20%20%20%20%20%20%20%20b2Math.CrossFV(angularVelocity%2C%20b2Math.SubtractVV(center1%2C%20center))%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20velocity2%20%3D%20b2Math.AddVV(%0D%0A%20%20%20%20%20%20%20%20linearVelocity%2C%0D%0A%20%20%20%20%20%20%20%20b2Math.CrossFV(angularVelocity%2C%20b2Math.SubtractVV(center2%2C%20center))%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20body1.SetLinearVelocity(velocity1)%3B%0D%0A%20%20%20%20%20%20body2.SetLinearVelocity(velocity2)%3B%0D%0A%20%20%20%20%20%20body1.SetAngularVelocity(angularVelocity)%3B%0D%0A%20%20%20%20%20%20body2.SetAngularVelocity(angularVelocity)%3B%0D%0A%20%20%20%20%20%20body1.SynchronizeFixtures()%3B%0D%0A%20%20%20%20%20%20body2.SynchronizeFixtures()%3B%0D%0A%20%20%20%20%20%20return%20body2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.Merge%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20var%20f%3B%0D%0A%20%20%20%20%20%20for%20(f%20%3D%20other.m_fixtureList%3B%20f%3B%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20next%20%3D%20f.m_next%3B%0D%0A%20%20%20%20%20%20%20%20other.m_fixtureCount--%3B%0D%0A%20%20%20%20%20%20%20%20f.m_next%20%3D%20this.m_fixtureList%3B%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureList%20%3D%20f%3B%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureCount%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20f.m_body%20%3D%20body2%3B%0D%0A%20%20%20%20%20%20%20%20f%20%3D%20next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20body1.m_fixtureCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20body1%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20body2%20%3D%20other%3B%0D%0A%20%20%20%20%20%20var%20center1%20%3D%20body1.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20var%20center2%20%3D%20body2.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20var%20velocity1%20%3D%20body1.GetLinearVelocity().Copy()%3B%0D%0A%20%20%20%20%20%20var%20velocity2%20%3D%20body2.GetLinearVelocity().Copy()%3B%0D%0A%20%20%20%20%20%20var%20angular1%20%3D%20body1.GetAngularVelocity()%3B%0D%0A%20%20%20%20%20%20var%20angular%20%3D%20body2.GetAngularVelocity()%3B%0D%0A%20%20%20%20%20%20body1.ResetMassData()%3B%0D%0A%20%20%20%20%20%20this.SynchronizeFixtures()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetMass%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_mass%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetInertia%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_I%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetMassData%20%3D%20function%20(data)%20%7B%0D%0A%20%20%20%20%20%20data.mass%20%3D%20this.m_mass%3B%0D%0A%20%20%20%20%20%20data.I%20%3D%20this.m_I%3B%0D%0A%20%20%20%20%20%20data.center.SetV(this.m_sweep.localCenter)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetMassData%20%3D%20function%20(massData)%20%7B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(this.m_world.IsLocked()%20%3D%3D%20false)%3B%0D%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_invMass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20massData.mass%3B%0D%0A%20%20%20%20%20%20if%20(this.m_mass%20%3C%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_invMass%20%3D%201.0%20%2F%20this.m_mass%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20massData.I%20%3E%200.0%20%26%26%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%200%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_I%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20massData.I%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_mass%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(massData.center.x%20*%20massData.center.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20massData.center.y%20*%20massData.center.y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_invI%20%3D%201.0%20%2F%20this.m_I%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20oldCenter%20%3D%20this.m_sweep.c.Copy()%3B%0D%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetV(massData.center)%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf%2C%20this.m_sweep.localCenter))%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.SetV(this.m_sweep.c0)%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity.x%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20-(this.m_sweep.c.y%20-%20oldCenter.y)%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20%2B(this.m_sweep.c.x%20-%20oldCenter.x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.ResetMassData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_invMass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetZero()%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%3D%20b2Body.b2_staticBody%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%3D%20b2Body.b2_kinematicBody%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20center%20%3D%20b2Vec2.Make(0%2C%200)%3B%0D%0A%20%20%20%20%20%20for%20(var%20f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(f.m_density%20%3D%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20massData%20%3D%20f.GetMassData()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%2B%3D%20massData.mass%3B%0D%0A%20%20%20%20%20%20%20%20center.x%20%2B%3D%20massData.center.x%20*%20massData.mass%3B%0D%0A%20%20%20%20%20%20%20%20center.y%20%2B%3D%20massData.center.y%20*%20massData.mass%3B%0D%0A%20%20%20%20%20%20%20%20this.m_I%20%2B%3D%20massData.I%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_mass%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%201.0%20%2F%20this.m_mass%3B%0D%0A%20%20%20%20%20%20%20%20center.x%20*%3D%20this.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20center.y%20*%3D%20this.m_invMass%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_I%20%3E%200.0%20%26%26%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_I%20-%3D%20this.m_mass%20*%20(center.x%20*%20center.x%20%2B%20center.y%20*%20center.y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_I%20*%3D%20this.m_inertiaScale%3B%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2Assert(this.m_I%20%3E%200)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_invI%20%3D%201.0%20%2F%20this.m_I%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20oldCenter%20%3D%20this.m_sweep.c.Copy()%3B%0D%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetV(center)%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf%2C%20this.m_sweep.localCenter))%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.SetV(this.m_sweep.c0)%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity.x%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20-(this.m_sweep.c.y%20-%20oldCenter.y)%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20%2B(this.m_sweep.c.x%20-%20oldCenter.x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetWorldPoint%20%3D%20function%20(localPoint)%20%7B%0D%0A%20%20%20%20%20%20var%20A%20%3D%20this.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20u%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20A.col1.x%20*%20localPoint.x%20%2B%20A.col2.x%20*%20localPoint.y%2C%0D%0A%20%20%20%20%20%20%20%20A.col1.y%20*%20localPoint.x%20%2B%20A.col2.y%20*%20localPoint.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20u.x%20%2B%3D%20this.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20u.y%20%2B%3D%20this.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20return%20u%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetWorldVector%20%3D%20function%20(localVector)%20%7B%0D%0A%20%20%20%20%20%20return%20b2Math.MulMV(this.m_xf.R%2C%20localVector)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLocalPoint%20%3D%20function%20(worldPoint)%20%7B%0D%0A%20%20%20%20%20%20return%20b2Math.MulXT(this.m_xf%2C%20worldPoint)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLocalVector%20%3D%20function%20(worldVector)%20%7B%0D%0A%20%20%20%20%20%20return%20b2Math.MulTMV(this.m_xf.R%2C%20worldVector)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLinearVelocityFromWorldPoint%20%3D%20function%20(worldPoint)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.x%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.y%20-%20this.m_sweep.c.y)%2C%0D%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.x%20-%20this.m_sweep.c.x)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLinearVelocityFromLocalPoint%20%3D%20function%20(localPoint)%20%7B%0D%0A%20%20%20%20%20%20var%20A%20%3D%20this.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20worldPoint%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20A.col1.x%20*%20localPoint.x%20%2B%20A.col2.x%20*%20localPoint.y%2C%0D%0A%20%20%20%20%20%20%20%20A.col1.y%20*%20localPoint.x%20%2B%20A.col2.y%20*%20localPoint.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20worldPoint.x%20%2B%3D%20this.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20worldPoint.y%20%2B%3D%20this.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.x%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.y%20-%20this.m_sweep.c.y)%2C%0D%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.x%20-%20this.m_sweep.c.x)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetLinearDamping%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_linearDamping%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetLinearDamping%20%3D%20function%20(linearDamping)%20%7B%0D%0A%20%20%20%20%20%20if%20(linearDamping%20%3D%3D%3D%20undefined)%20linearDamping%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_linearDamping%20%3D%20linearDamping%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetAngularDamping%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_angularDamping%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetAngularDamping%20%3D%20function%20(angularDamping)%20%7B%0D%0A%20%20%20%20%20%20if%20(angularDamping%20%3D%3D%3D%20undefined)%20angularDamping%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_angularDamping%20%3D%20angularDamping%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetType%20%3D%20function%20(type)%20%7B%0D%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20undefined)%20type%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20type)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20type%3B%0D%0A%20%20%20%20%20%20this.ResetMassData()%3B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_force.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_torque%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20for%20(var%20ce%20%3D%20this.m_contactList%3B%20ce%3B%20ce%20%3D%20ce.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20ce.contact.FlagForFiltering()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetType%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_type%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetBullet%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20if%20(flag)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_bulletFlag%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_bulletFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.IsBullet%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_bulletFlag)%20%3D%3D%20b2Body.e_bulletFlag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetSleepingAllowed%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20if%20(flag)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_allowSleepFlag%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_allowSleepFlag%3B%0D%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetAwake%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20if%20(flag)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_awakeFlag%3B%0D%0A%20%20%20%20%20%20%20%20this.m_sleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_awakeFlag%3B%0D%0A%20%20%20%20%20%20%20%20this.m_sleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_force.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_torque%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.IsAwake%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_awakeFlag)%20%3D%3D%20b2Body.e_awakeFlag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetFixedRotation%20%3D%20function%20(fixed)%20%7B%0D%0A%20%20%20%20%20%20if%20(fixed)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_fixedRotationFlag%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_fixedRotationFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.ResetMassData()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.IsFixedRotation%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%0D%0A%20%20%20%20%20%20%20%20b2Body.e_fixedRotationFlag%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetActive%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20if%20(flag%20%3D%3D%20this.IsActive())%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20broadPhase%3B%0D%0A%20%20%20%20%20%20var%20f%3B%0D%0A%20%20%20%20%20%20if%20(flag)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_activeFlag%3B%0D%0A%20%20%20%20%20%20%20%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20f.CreateProxy(broadPhase%2C%20this.m_xf)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_activeFlag%3B%0D%0A%20%20%20%20%20%20%20%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20f.DestroyProxy(broadPhase)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20ce%20%3D%20this.m_contactList%3B%0D%0A%20%20%20%20%20%20%20%20while%20(ce)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20ce0%20%3D%20ce%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ce%20%3D%20ce.next%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_world.m_contactManager.Destroy(ce0.contact)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.m_contactList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.IsActive%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_activeFlag)%20%3D%3D%20b2Body.e_activeFlag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.IsSleepingAllowed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%20b2Body.e_allowSleepFlag%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetFixtureList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_fixtureList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetJointList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_jointList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetControllerList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_controllerList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetContactList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_contactList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetNext%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_next%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetUserData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_userData%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SetUserData%20%3D%20function%20(data)%20%7B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20data%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.GetWorld%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_world%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.b2Body%20%3D%20function%20(bd%2C%20world)%20%7B%0D%0A%20%20%20%20%20%20this.m_flags%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(bd.bullet)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_bulletFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(bd.fixedRotation)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_fixedRotationFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(bd.allowSleep)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_allowSleepFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(bd.awake)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_awakeFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(bd.active)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_activeFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_world%20%3D%20world%3B%0D%0A%20%20%20%20%20%20this.m_xf.position.SetV(bd.position)%3B%0D%0A%20%20%20%20%20%20this.m_xf.R.Set(bd.angle)%3B%0D%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_sweep.t0%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.m_sweep.a0%20%3D%20this.m_sweep.a%20%3D%20bd.angle%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.x%20%2B%3D%20this.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.y%20%2B%3D%20this.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(this.m_sweep.c)%3B%0D%0A%20%20%20%20%20%20this.m_jointList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_contactList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_controllerCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_linearVelocity.SetV(bd.linearVelocity)%3B%0D%0A%20%20%20%20%20%20this.m_angularVelocity%20%3D%20bd.angularVelocity%3B%0D%0A%20%20%20%20%20%20this.m_linearDamping%20%3D%20bd.linearDamping%3B%0D%0A%20%20%20%20%20%20this.m_angularDamping%20%3D%20bd.angularDamping%3B%0D%0A%20%20%20%20%20%20this.m_force.Set(0.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.m_torque%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_sleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20bd.type%3B%0D%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_inertiaScale%20%3D%20bd.inertiaScale%3B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20bd.userData%3B%0D%0A%20%20%20%20%20%20this.m_fixtureList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_fixtureCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SynchronizeFixtures%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20xf1%20%3D%20b2Body.s_xf1%3B%0D%0A%20%20%20%20%20%20xf1.R.Set(this.m_sweep.a0)%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf1.R%3B%0D%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0D%0A%20%20%20%20%20%20xf1.position.x%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_sweep.c0.x%20-%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20xf1.position.y%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_sweep.c0.y%20-%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20var%20f%3B%0D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20f.Synchronize(broadPhase%2C%20xf1%2C%20this.m_xf)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.SynchronizeTransform%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_xf.R.Set(this.m_sweep.a)%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0D%0A%20%20%20%20%20%20this.m_xf.position.x%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_sweep.c.x%20-%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20this.m_xf.position.y%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_sweep.c.y%20-%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.ShouldCollide%20%3D%20function%20(other)%20%7B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20this.m_type%20!%3D%20b2Body.b2_dynamicBody%20%26%26%0D%0A%20%20%20%20%20%20%20%20other.m_type%20!%3D%20b2Body.b2_dynamicBody%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(var%20jn%20%3D%20this.m_jointList%3B%20jn%3B%20jn%20%3D%20jn.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(jn.other%20%3D%3D%20other)%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(jn.joint.m_collideConnected%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Body.prototype.Advance%20%3D%20function%20(t)%20%7B%0D%0A%20%20%20%20%20%20if%20(t%20%3D%3D%3D%20undefined)%20t%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_sweep.Advance(t)%3B%0D%0A%20%20%20%20%20%20this.m_sweep.c.SetV(this.m_sweep.c0)%3B%0D%0A%20%20%20%20%20%20this.m_sweep.a%20%3D%20this.m_sweep.a0%3B%0D%0A%20%20%20%20%20%20this.SynchronizeTransform()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.s_xf1%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_islandFlag%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_awakeFlag%20%3D%200x0002%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_allowSleepFlag%20%3D%200x0004%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_bulletFlag%20%3D%200x0008%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_fixedRotationFlag%20%3D%200x0010%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_activeFlag%20%3D%200x0020%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.b2_staticBody%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.b2_kinematicBody%20%3D%201%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.b2_dynamicBody%20%3D%202%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2BodyDef.b2BodyDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.linearVelocity%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2BodyDef.prototype.b2BodyDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.userData%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.position.Set(0.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.angle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.linearVelocity.Set(0%2C%200)%3B%0D%0A%20%20%20%20%20%20this.angularVelocity%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.linearDamping%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.angularDamping%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.allowSleep%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this.awake%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this.fixedRotation%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.bullet%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Body.b2_staticBody%3B%0D%0A%20%20%20%20%20%20this.active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this.inertiaScale%20%3D%201.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactFilter.b2ContactFilter%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactFilter.prototype.ShouldCollide%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20var%20filter1%20%3D%20fixtureA.GetFilterData()%3B%0D%0A%20%20%20%20%20%20var%20filter2%20%3D%20fixtureB.GetFilterData()%3B%0D%0A%20%20%20%20%20%20if%20(filter1.groupIndex%20%3D%3D%20filter2.groupIndex%20%26%26%20filter1.groupIndex%20!%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20filter1.groupIndex%20%3E%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20collide%20%3D%0D%0A%20%20%20%20%20%20%20%20(filter1.maskBits%20%26%20filter2.categoryBits)%20!%3D%200%20%26%26%0D%0A%20%20%20%20%20%20%20%20(filter1.categoryBits%20%26%20filter2.maskBits)%20!%3D%200%3B%0D%0A%20%20%20%20%20%20return%20collide%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactFilter.prototype.RayCollide%20%3D%20function%20(userData%2C%20fixture)%20%7B%0D%0A%20%20%20%20%20%20if%20(!userData)%20return%20true%3B%0D%0A%20%20%20%20%20%20return%20this.ShouldCollide(%0D%0A%20%20%20%20%20%20%20%20userData%20instanceof%20b2Fixture%20%3F%20userData%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20fixture%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2ContactFilter.b2_defaultFilter%20%3D%20new%20b2ContactFilter()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2ContactImpulse.b2ContactImpulse%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.normalImpulses%20%3D%20new%20Vector_a2j_Number(%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxManifoldPoints%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.tangentImpulses%20%3D%20new%20Vector_a2j_Number(%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxManifoldPoints%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactListener.b2ContactListener%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactListener.prototype.BeginContact%20%3D%20function%20(contact)%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactListener.prototype.EndContact%20%3D%20function%20(contact)%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactListener.prototype.PreSolve%20%3D%20function%20(contact%2C%20oldManifold)%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactListener.prototype.PostSolve%20%3D%20function%20(contact%2C%20impulse)%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2ContactListener.b2_defaultListener%20%3D%0D%0A%20%20%20%20%20%20%20%20new%20b2ContactListener()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2ContactManager.b2ContactManager%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactManager.prototype.b2ContactManager%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_world%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_contactFilter%20%3D%20b2ContactFilter.b2_defaultFilter%3B%0D%0A%20%20%20%20%20%20this.m_contactListener%20%3D%20b2ContactListener.b2_defaultListener%3B%0D%0A%20%20%20%20%20%20this.m_contactFactory%20%3D%20new%20b2ContactFactory(this.m_allocator)%3B%0D%0A%20%20%20%20%20%20this.m_broadPhase%20%3D%20new%20b2DynamicTreeBroadPhase()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactManager.prototype.AddPair%20%3D%20function%20(%0D%0A%20%20%20%20%20%20proxyUserDataA%2C%0D%0A%20%20%20%20%20%20proxyUserDataB%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20var%20fixtureA%20%3D%0D%0A%20%20%20%20%20%20%20%20proxyUserDataA%20instanceof%20b2Fixture%20%3F%20proxyUserDataA%20%3A%20null%3B%0D%0A%20%20%20%20%20%20var%20fixtureB%20%3D%0D%0A%20%20%20%20%20%20%20%20proxyUserDataB%20instanceof%20b2Fixture%20%3F%20proxyUserDataB%20%3A%20null%3B%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20if%20(bodyA%20%3D%3D%20bodyB)%20return%3B%0D%0A%20%20%20%20%20%20var%20edge%20%3D%20bodyB.GetContactList()%3B%0D%0A%20%20%20%20%20%20while%20(edge)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(edge.other%20%3D%3D%20bodyA)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fA%20%3D%20edge.contact.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fB%20%3D%20edge.contact.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(fA%20%3D%3D%20fixtureA%20%26%26%20fB%20%3D%3D%20fixtureB)%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(fA%20%3D%3D%20fixtureB%20%26%26%20fB%20%3D%3D%20fixtureA)%20return%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(bodyB.ShouldCollide(bodyA)%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_contactFilter.ShouldCollide(fixtureA%2C%20fixtureB)%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20c%20%3D%20this.m_contactFactory.Create(fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%20%20fixtureA%20%3D%20c.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20fixtureB%20%3D%20c.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20bodyA%20%3D%20fixtureA.m_body%3B%0D%0A%20%20%20%20%20%20bodyB%20%3D%20fixtureB.m_body%3B%0D%0A%20%20%20%20%20%20c.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20c.m_next%20%3D%20this.m_world.m_contactList%3B%0D%0A%20%20%20%20%20%20if%20(this.m_world.m_contactList%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_world.m_contactList.m_prev%20%3D%20c%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_world.m_contactList%20%3D%20c%3B%0D%0A%20%20%20%20%20%20c.m_nodeA.contact%20%3D%20c%3B%0D%0A%20%20%20%20%20%20c.m_nodeA.other%20%3D%20bodyB%3B%0D%0A%20%20%20%20%20%20c.m_nodeA.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20c.m_nodeA.next%20%3D%20bodyA.m_contactList%3B%0D%0A%20%20%20%20%20%20if%20(bodyA.m_contactList%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodyA.m_contactList.prev%20%3D%20c.m_nodeA%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20bodyA.m_contactList%20%3D%20c.m_nodeA%3B%0D%0A%20%20%20%20%20%20c.m_nodeB.contact%20%3D%20c%3B%0D%0A%20%20%20%20%20%20c.m_nodeB.other%20%3D%20bodyA%3B%0D%0A%20%20%20%20%20%20c.m_nodeB.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20c.m_nodeB.next%20%3D%20bodyB.m_contactList%3B%0D%0A%20%20%20%20%20%20if%20(bodyB.m_contactList%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodyB.m_contactList.prev%20%3D%20c.m_nodeB%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20bodyB.m_contactList%20%3D%20c.m_nodeB%3B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_world.m_contactCount%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactManager.prototype.FindNewContacts%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_broadPhase.UpdatePairs(Box2D.generateCallback(this%2C%20this.AddPair))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactManager.prototype.Destroy%20%3D%20function%20(c)%20%7B%0D%0A%20%20%20%20%20%20var%20fixtureA%20%3D%20c.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20var%20fixtureB%20%3D%20c.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20if%20(c.IsTouching())%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_contactListener.EndContact(c)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_prev.m_next%20%3D%20c.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_next.m_prev%20%3D%20c.m_prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c%20%3D%3D%20this.m_world.m_contactList)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_world.m_contactList%20%3D%20c.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_nodeA.prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_nodeA.prev.next%20%3D%20c.m_nodeA.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_nodeA.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_nodeA.next.prev%20%3D%20c.m_nodeA.prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_nodeA%20%3D%3D%20bodyA.m_contactList)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodyA.m_contactList%20%3D%20c.m_nodeA.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_nodeB.prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_nodeB.prev.next%20%3D%20c.m_nodeB.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_nodeB.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_nodeB.next.prev%20%3D%20c.m_nodeB.prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(c.m_nodeB%20%3D%3D%20bodyB.m_contactList)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodyB.m_contactList%20%3D%20c.m_nodeB.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_contactFactory.Destroy(c)%3B%0D%0A%20%20%20%20%20%20--this.m_contactCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactManager.prototype.Collide%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20c%20%3D%20this.m_world.m_contactList%3B%0D%0A%20%20%20%20%20%20while%20(c)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20c.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20c.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(bodyA.IsAwake()%20%3D%3D%20false%20%26%26%20bodyB.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20c.GetNext()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(c.m_flags%20%26%20b2Contact.e_filterFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(bodyB.ShouldCollide(bodyA)%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cNuke%20%3D%20c%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20cNuke.GetNext()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.Destroy(cNuke)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_contactFilter.ShouldCollide(fixtureA%2C%20fixtureB)%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cNuke%20%3D%20c%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20cNuke.GetNext()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.Destroy(cNuke)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~b2Contact.e_filterFlag%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20proxyA%20%3D%20fixtureA.m_proxy%3B%0D%0A%20%20%20%20%20%20%20%20var%20proxyB%20%3D%20fixtureB.m_proxy%3B%0D%0A%20%20%20%20%20%20%20%20var%20overlap%20%3D%20this.m_broadPhase.TestOverlap(proxyA%2C%20proxyB)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(overlap%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20cNuke%20%3D%20c%3B%0D%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20cNuke.GetNext()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.Destroy(cNuke)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20c.Update(this.m_contactListener)%3B%0D%0A%20%20%20%20%20%20%20%20c%20%3D%20c.GetNext()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2ContactManager.s_evalCP%20%3D%20new%20b2ContactPoint()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2DebugDraw.b2DebugDraw%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.b2DebugDraw%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetFlags%20%3D%20function%20(flags)%20%7B%0D%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetFlags%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.AppendFlags%20%3D%20function%20(flags)%20%7B%0D%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.ClearFlags%20%3D%20function%20(flags)%20%7B%0D%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetSprite%20%3D%20function%20(sprite)%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetSprite%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetDrawScale%20%3D%20function%20(drawScale)%20%7B%0D%0A%20%20%20%20%20%20if%20(drawScale%20%3D%3D%3D%20undefined)%20drawScale%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetDrawScale%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetLineThickness%20%3D%20function%20(lineThickness)%20%7B%0D%0A%20%20%20%20%20%20if%20(lineThickness%20%3D%3D%3D%20undefined)%20lineThickness%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetLineThickness%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetAlpha%20%3D%20function%20(alpha)%20%7B%0D%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetAlpha%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetFillAlpha%20%3D%20function%20(alpha)%20%7B%0D%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetFillAlpha%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetXFormScale%20%3D%20function%20(xformScale)%20%7B%0D%0A%20%20%20%20%20%20if%20(xformScale%20%3D%3D%3D%20undefined)%20xformScale%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetXFormScale%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawPolygon%20%3D%20function%20(%0D%0A%20%20%20%20%20%20vertices%2C%0D%0A%20%20%20%20%20%20vertexCount%2C%0D%0A%20%20%20%20%20%20color%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidPolygon%20%3D%20function%20(%0D%0A%20%20%20%20%20%20vertices%2C%0D%0A%20%20%20%20%20%20vertexCount%2C%0D%0A%20%20%20%20%20%20color%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawCircle%20%3D%20function%20(center%2C%20radius%2C%20color)%20%7B%0D%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidCircle%20%3D%20function%20(%0D%0A%20%20%20%20%20%20center%2C%0D%0A%20%20%20%20%20%20radius%2C%0D%0A%20%20%20%20%20%20axis%2C%0D%0A%20%20%20%20%20%20color%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawSegment%20%3D%20function%20(p1%2C%20p2%2C%20color)%20%7B%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawTransform%20%3D%20function%20(xf)%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_shapeBit%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_jointBit%20%3D%200x0002%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_aabbBit%20%3D%200x0004%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_pairBit%20%3D%200x0008%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit%20%3D%200x0010%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_controllerBit%20%3D%200x0020%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2DestructionListener.b2DestructionListener%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2DestructionListener.prototype.SayGoodbyeJoint%20%3D%20function%20(joint)%20%7B%7D%3B%0D%0A%20%20%20%20b2DestructionListener.prototype.SayGoodbyeFixture%20%3D%20function%20(fixture)%20%7B%7D%3B%0D%0A%20%20%20%20b2FilterData.b2FilterData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.categoryBits%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20this.maskBits%20%3D%200xffff%3B%0D%0A%20%20%20%20%20%20this.groupIndex%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FilterData.prototype.Copy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20copy%20%3D%20new%20b2FilterData()%3B%0D%0A%20%20%20%20%20%20copy.categoryBits%20%3D%20this.categoryBits%3B%0D%0A%20%20%20%20%20%20copy.maskBits%20%3D%20this.maskBits%3B%0D%0A%20%20%20%20%20%20copy.groupIndex%20%3D%20this.groupIndex%3B%0D%0A%20%20%20%20%20%20return%20copy%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.b2Fixture%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_filter%20%3D%20new%20b2FilterData()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetType%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_shape.GetType()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetShape%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_shape%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.SetSensor%20%3D%20function%20(sensor)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_isSensor%20%3D%3D%20sensor)%20return%3B%0D%0A%20%20%20%20%20%20this.m_isSensor%20%3D%20sensor%3B%0D%0A%20%20%20%20%20%20if%20(this.m_body%20%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20var%20edge%20%3D%20this.m_body.GetContactList()%3B%0D%0A%20%20%20%20%20%20while%20(edge)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20contact%20%3D%20edge.contact%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fixtureA%20%3D%3D%20this%20%7C%7C%20fixtureB%20%3D%3D%20this)%0D%0A%20%20%20%20%20%20%20%20%20%20contact.SetSensor(fixtureA.IsSensor()%20%7C%7C%20fixtureB.IsSensor())%3B%0D%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.IsSensor%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_isSensor%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.SetFilterData%20%3D%20function%20(filter)%20%7B%0D%0A%20%20%20%20%20%20this.m_filter%20%3D%20filter.Copy()%3B%0D%0A%20%20%20%20%20%20if%20(this.m_body)%20return%3B%0D%0A%20%20%20%20%20%20var%20edge%20%3D%20this.m_body.GetContactList()%3B%0D%0A%20%20%20%20%20%20while%20(edge)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20contact%20%3D%20edge.contact%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fixtureA%20%3D%3D%20this%20%7C%7C%20fixtureB%20%3D%3D%20this)%20contact.FlagForFiltering()%3B%0D%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetFilterData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_filter.Copy()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetBody%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_body%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetNext%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_next%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetUserData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_userData%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.SetUserData%20%3D%20function%20(data)%20%7B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20data%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.TestPoint%20%3D%20function%20(p)%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_shape.TestPoint(this.m_body.GetTransform()%2C%20p)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.RayCast%20%3D%20function%20(output%2C%20input)%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_shape.RayCast(output%2C%20input%2C%20this.m_body.GetTransform())%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetMassData%20%3D%20function%20(massData)%20%7B%0D%0A%20%20%20%20%20%20if%20(massData%20%3D%3D%3D%20undefined)%20massData%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(massData%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20massData%20%3D%20new%20b2MassData()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_shape.ComputeMass(massData%2C%20this.m_density)%3B%0D%0A%20%20%20%20%20%20return%20massData%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.SetDensity%20%3D%20function%20(density)%20%7B%0D%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_density%20%3D%20density%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetDensity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_density%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetFriction%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_friction%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.SetFriction%20%3D%20function%20(friction)%20%7B%0D%0A%20%20%20%20%20%20if%20(friction%20%3D%3D%3D%20undefined)%20friction%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_friction%20%3D%20friction%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetRestitution%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_restitution%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.SetRestitution%20%3D%20function%20(restitution)%20%7B%0D%0A%20%20%20%20%20%20if%20(restitution%20%3D%3D%3D%20undefined)%20restitution%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_restitution%20%3D%20restitution%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.GetAABB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_aabb%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.b2Fixture%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_aabb%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_body%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_shape%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_density%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_friction%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_restitution%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.Create%20%3D%20function%20(body%2C%20xf%2C%20def)%20%7B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20def.userData%3B%0D%0A%20%20%20%20%20%20this.m_friction%20%3D%20def.friction%3B%0D%0A%20%20%20%20%20%20this.m_restitution%20%3D%20def.restitution%3B%0D%0A%20%20%20%20%20%20this.m_body%20%3D%20body%3B%0D%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_filter%20%3D%20def.filter.Copy()%3B%0D%0A%20%20%20%20%20%20this.m_isSensor%20%3D%20def.isSensor%3B%0D%0A%20%20%20%20%20%20this.m_shape%20%3D%20def.shape.Copy()%3B%0D%0A%20%20%20%20%20%20this.m_density%20%3D%20def.density%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.Destroy%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_shape%20%3D%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.CreateProxy%20%3D%20function%20(broadPhase%2C%20xf)%20%7B%0D%0A%20%20%20%20%20%20this.m_shape.ComputeAABB(this.m_aabb%2C%20xf)%3B%0D%0A%20%20%20%20%20%20this.m_proxy%20%3D%20broadPhase.CreateProxy(this.m_aabb%2C%20this)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.DestroyProxy%20%3D%20function%20(broadPhase)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_proxy%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20broadPhase.DestroyProxy(this.m_proxy)%3B%0D%0A%20%20%20%20%20%20this.m_proxy%20%3D%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Fixture.prototype.Synchronize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20broadPhase%2C%0D%0A%20%20%20%20%20%20transform1%2C%0D%0A%20%20%20%20%20%20transform2%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(!this.m_proxy)%20return%3B%0D%0A%20%20%20%20%20%20var%20aabb1%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20var%20aabb2%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20this.m_shape.ComputeAABB(aabb1%2C%20transform1)%3B%0D%0A%20%20%20%20%20%20this.m_shape.ComputeAABB(aabb2%2C%20transform2)%3B%0D%0A%20%20%20%20%20%20this.m_aabb.Combine(aabb1%2C%20aabb2)%3B%0D%0A%20%20%20%20%20%20var%20displacement%20%3D%20b2Math.SubtractVV(%0D%0A%20%20%20%20%20%20%20%20transform2.position%2C%0D%0A%20%20%20%20%20%20%20%20transform1.position%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20broadPhase.MoveProxy(this.m_proxy%2C%20this.m_aabb%2C%20displacement)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FixtureDef.b2FixtureDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.filter%20%3D%20new%20b2FilterData()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FixtureDef.prototype.b2FixtureDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.shape%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.userData%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.friction%20%3D%200.2%3B%0D%0A%20%20%20%20%20%20this.restitution%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.density%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.filter.categoryBits%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20this.filter.maskBits%20%3D%200xffff%3B%0D%0A%20%20%20%20%20%20this.filter.groupIndex%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.isSensor%20%3D%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.b2Island%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Island.prototype.b2Island%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_bodies%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20this.m_contacts%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20this.m_joints%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.Initialize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20bodyCapacity%2C%0D%0A%20%20%20%20%20%20contactCapacity%2C%0D%0A%20%20%20%20%20%20jointCapacity%2C%0D%0A%20%20%20%20%20%20allocator%2C%0D%0A%20%20%20%20%20%20listener%2C%0D%0A%20%20%20%20%20%20contactSolver%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(bodyCapacity%20%3D%3D%3D%20undefined)%20bodyCapacity%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(contactCapacity%20%3D%3D%3D%20undefined)%20contactCapacity%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(jointCapacity%20%3D%3D%3D%20undefined)%20jointCapacity%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyCapacity%20%3D%20bodyCapacity%3B%0D%0A%20%20%20%20%20%20this.m_contactCapacity%20%3D%20contactCapacity%3B%0D%0A%20%20%20%20%20%20this.m_jointCapacity%20%3D%20jointCapacity%3B%0D%0A%20%20%20%20%20%20this.m_bodyCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_jointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_allocator%20%3D%20allocator%3B%0D%0A%20%20%20%20%20%20this.m_listener%20%3D%20listener%3B%0D%0A%20%20%20%20%20%20this.m_contactSolver%20%3D%20contactSolver%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%20this.m_bodies.length%3B%20i%20%3C%20bodyCapacity%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20this.m_bodies%5Bi%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%20this.m_contacts.length%3B%20i%20%3C%20contactCapacity%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20this.m_contacts%5Bi%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%20this.m_joints.length%3B%20i%20%3C%20jointCapacity%3B%20i%2B%2B)%0D%0A%20%20%20%20%20%20%20%20this.m_joints%5Bi%5D%20%3D%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.Clear%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_bodyCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_jointCount%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.Solve%20%3D%20function%20(step%2C%20gravity%2C%20allowSleep)%20%7B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20j%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20b%3B%0D%0A%20%20%20%20%20%20var%20joint%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20b.m_linearVelocity.x%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20step.dt%20*%20(gravity.x%20%2B%20b.m_invMass%20*%20b.m_force.x)%3B%0D%0A%20%20%20%20%20%20%20%20b.m_linearVelocity.y%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20step.dt%20*%20(gravity.y%20%2B%20b.m_invMass%20*%20b.m_force.y)%3B%0D%0A%20%20%20%20%20%20%20%20b.m_angularVelocity%20%2B%3D%20step.dt%20*%20b.m_invI%20*%20b.m_torque%3B%0D%0A%20%20%20%20%20%20%20%20b.m_linearVelocity.Multiply(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.Clamp(1.0%20-%20step.dt%20*%20b.m_linearDamping%2C%200.0%2C%201.0)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20b.m_angularVelocity%20*%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%201.0%20-%20step.dt%20*%20b.m_angularDamping%2C%0D%0A%20%20%20%20%20%20%20%20%20%200.0%2C%0D%0A%20%20%20%20%20%20%20%20%20%201.0%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_contactSolver.Initialize(%0D%0A%20%20%20%20%20%20%20%20step%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contacts%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactCount%2C%0D%0A%20%20%20%20%20%20%20%20this.m_allocator%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20contactSolver%20%3D%20this.m_contactSolver%3B%0D%0A%20%20%20%20%20%20contactSolver.InitVelocityConstraints(step)%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_jointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20joint.InitVelocityConstraints(step)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20step.velocityIterations%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20joint.SolveVelocityConstraints(step)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20contactSolver.SolveVelocityConstraints()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_jointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20joint.FinalizeVelocityConstraints()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20contactSolver.FinalizeVelocityConstraints()%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20var%20translationX%20%3D%20step.dt%20*%20b.m_linearVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20translationY%20%3D%20step.dt%20*%20b.m_linearVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20translationX%20*%20translationX%20%2B%20translationY%20*%20translationY%20%3E%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxTranslationSquared%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.x%20*%3D%20b2Settings.b2_maxTranslation%20*%20step.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.y%20*%3D%20b2Settings.b2_maxTranslation%20*%20step.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20rotation%20%3D%20step.dt%20*%20b.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20if%20(rotation%20*%20rotation%20%3E%20b2Settings.b2_maxRotationSquared)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.m_angularVelocity%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20-b2Settings.b2_maxRotation%20*%20step.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20b2Settings.b2_maxRotation%20*%20step.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.c0.SetV(b.m_sweep.c)%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.a0%20%3D%20b.m_sweep.a%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.c.x%20%2B%3D%20step.dt%20*%20b.m_linearVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.c.y%20%2B%3D%20step.dt%20*%20b.m_linearVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.a%20%2B%3D%20step.dt%20*%20b.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20b.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20step.positionIterations%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20contactsOkay%20%3D%20contactSolver.SolvePositionConstraints(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_contactBaumgarte%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20jointsOkay%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20jointOkay%20%3D%20joint.SolvePositionConstraints(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_contactBaumgarte%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20jointsOkay%20%3D%20jointsOkay%20%26%26%20jointOkay%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(contactsOkay%20%26%26%20jointsOkay)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.Report(contactSolver.m_constraints)%3B%0D%0A%20%20%20%20%20%20if%20(allowSleep)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20minSleepTime%20%3D%20Number.MAX_VALUE%3B%0D%0A%20%20%20%20%20%20%20%20var%20linTolSqr%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_linearSleepTolerance%20*%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_linearSleepTolerance%3B%0D%0A%20%20%20%20%20%20%20%20var%20angTolSqr%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_angularSleepTolerance%20*%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_angularSleepTolerance%3B%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20((b.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_sleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minSleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(b.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%200%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20*%20b.m_angularVelocity%20%3E%20angTolSqr%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.Dot(b.m_linearVelocity%2C%20b.m_linearVelocity)%20%3E%20linTolSqr%0D%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_sleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minSleepTime%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_sleepTime%20%2B%3D%20step.dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minSleepTime%20%3D%20b2Math.Min(minSleepTime%2C%20b.m_sleepTime)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(minSleepTime%20%3E%3D%20b2Settings.b2_timeToSleep)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.SetAwake(false)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.SolveTOI%20%3D%20function%20(subStep)%20%7B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20j%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_contactSolver.Initialize(%0D%0A%20%20%20%20%20%20%20%20subStep%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contacts%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactCount%2C%0D%0A%20%20%20%20%20%20%20%20this.m_allocator%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20contactSolver%20%3D%20this.m_contactSolver%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_jointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_joints%5Bi%5D.InitVelocityConstraints(subStep)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20subStep.velocityIterations%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20contactSolver.SolveVelocityConstraints()%3B%0D%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_joints%5Bj%5D.SolveVelocityConstraints(subStep)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20var%20translationX%20%3D%20subStep.dt%20*%20b.m_linearVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20translationY%20%3D%20subStep.dt%20*%20b.m_linearVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20translationX%20*%20translationX%20%2B%20translationY%20*%20translationY%20%3E%0D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxTranslationSquared%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.x%20*%3D%20b2Settings.b2_maxTranslation%20*%20subStep.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.y%20*%3D%20b2Settings.b2_maxTranslation%20*%20subStep.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20rotation%20%3D%20subStep.dt%20*%20b.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20if%20(rotation%20*%20rotation%20%3E%20b2Settings.b2_maxRotationSquared)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.m_angularVelocity%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20-b2Settings.b2_maxRotation%20*%20subStep.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20b2Settings.b2_maxRotation%20*%20subStep.inv_dt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.c0.SetV(b.m_sweep.c)%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.a0%20%3D%20b.m_sweep.a%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.c.x%20%2B%3D%20subStep.dt%20*%20b.m_linearVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.c.y%20%2B%3D%20subStep.dt%20*%20b.m_linearVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.a%20%2B%3D%20subStep.dt%20*%20b.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20b.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20k_toiBaumgarte%20%3D%200.75%3B%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20subStep.positionIterations%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20contactsOkay%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20contactSolver.SolvePositionConstraints(k_toiBaumgarte)%3B%0D%0A%20%20%20%20%20%20%20%20var%20jointsOkay%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20jointOkay%20%3D%20this.m_joints%5Bj%5D.SolvePositionConstraints(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_contactBaumgarte%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20jointsOkay%20%3D%20jointsOkay%20%26%26%20jointOkay%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(contactsOkay%20%26%26%20jointsOkay)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.Report(contactSolver.m_constraints)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.Report%20%3D%20function%20(constraints)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_listener%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_contactCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_contacts%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20cc%20%3D%20constraints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20cc.pointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b2Island.s_impulse.normalImpulses%5Bj%5D%20%3D%20cc.points%5Bj%5D.normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20b2Island.s_impulse.tangentImpulses%5Bj%5D%20%3D%20cc.points%5Bj%5D.tangentImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.m_listener.PostSolve(c%2C%20b2Island.s_impulse)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.AddBody%20%3D%20function%20(body)%20%7B%0D%0A%20%20%20%20%20%20body.m_islandIndex%20%3D%20this.m_bodyCount%3B%0D%0A%20%20%20%20%20%20this.m_bodies%5Bthis.m_bodyCount%2B%2B%5D%20%3D%20body%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.AddContact%20%3D%20function%20(contact)%20%7B%0D%0A%20%20%20%20%20%20this.m_contacts%5Bthis.m_contactCount%2B%2B%5D%20%3D%20contact%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Island.prototype.AddJoint%20%3D%20function%20(joint)%20%7B%0D%0A%20%20%20%20%20%20this.m_joints%5Bthis.m_jointCount%2B%2B%5D%20%3D%20joint%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2Island.s_impulse%20%3D%20new%20b2ContactImpulse()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2TimeStep.b2TimeStep%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2TimeStep.prototype.Set%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20this.dt%20%3D%20step.dt%3B%0D%0A%20%20%20%20%20%20this.inv_dt%20%3D%20step.inv_dt%3B%0D%0A%20%20%20%20%20%20this.positionIterations%20%3D%20step.positionIterations%3B%0D%0A%20%20%20%20%20%20this.velocityIterations%20%3D%20step.velocityIterations%3B%0D%0A%20%20%20%20%20%20this.warmStarting%20%3D%20step.warmStarting%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.b2World%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.s_stack%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20this.m_contactManager%20%3D%20new%20b2ContactManager()%3B%0D%0A%20%20%20%20%20%20this.m_contactSolver%20%3D%20new%20b2ContactSolver()%3B%0D%0A%20%20%20%20%20%20this.m_island%20%3D%20new%20b2Island()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.b2World%20%3D%20function%20(gravity%2C%20doSleep)%20%7B%0D%0A%20%20%20%20%20%20this.m_destructionListener%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_debugDraw%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_bodyList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_contactList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_jointList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_bodyCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_jointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_controllerCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20b2World.m_warmStarting%20%3D%20true%3B%0D%0A%20%20%20%20%20%20b2World.m_continuousPhysics%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this.m_allowSleep%20%3D%20doSleep%3B%0D%0A%20%20%20%20%20%20this.m_gravity%20%3D%20gravity%3B%0D%0A%20%20%20%20%20%20this.m_inv_dt0%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_contactManager.m_world%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20bd%20%3D%20new%20b2BodyDef()%3B%0D%0A%20%20%20%20%20%20this.m_groundBody%20%3D%20this.CreateBody(bd)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetDestructionListener%20%3D%20function%20(listener)%20%7B%0D%0A%20%20%20%20%20%20this.m_destructionListener%20%3D%20listener%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetContactFilter%20%3D%20function%20(filter)%20%7B%0D%0A%20%20%20%20%20%20this.m_contactManager.m_contactFilter%20%3D%20filter%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetContactListener%20%3D%20function%20(listener)%20%7B%0D%0A%20%20%20%20%20%20this.m_contactManager.m_contactListener%20%3D%20listener%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetDebugDraw%20%3D%20function%20(debugDraw)%20%7B%0D%0A%20%20%20%20%20%20this.m_debugDraw%20%3D%20debugDraw%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetBroadPhase%20%3D%20function%20(broadPhase)%20%7B%0D%0A%20%20%20%20%20%20var%20oldBroadPhase%20%3D%20this.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20this.m_contactManager.m_broadPhase%20%3D%20broadPhase%3B%0D%0A%20%20%20%20%20%20for%20(var%20b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20f%20%3D%20b.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20f.m_proxy%20%3D%20broadPhase.CreateProxy(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20oldBroadPhase.GetFatAABB(f.m_proxy)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.Validate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_contactManager.m_broadPhase.Validate()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetProxyCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_contactManager.m_broadPhase.GetProxyCount()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.CreateBody%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.IsLocked()%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20b%20%3D%20new%20b2Body(def%2C%20this)%3B%0D%0A%20%20%20%20%20%20b.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20b.m_next%20%3D%20this.m_bodyList%3B%0D%0A%20%20%20%20%20%20if%20(this.m_bodyList)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_bodyList.m_prev%20%3D%20b%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_bodyList%20%3D%20b%3B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_bodyCount%3B%0D%0A%20%20%20%20%20%20return%20b%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.DestroyBody%20%3D%20function%20(b)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.IsLocked()%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20jn%20%3D%20b.m_jointList%3B%0D%0A%20%20%20%20%20%20while%20(jn)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20jn0%20%3D%20jn%3B%0D%0A%20%20%20%20%20%20%20%20jn%20%3D%20jn.next%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_destructionListener)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_destructionListener.SayGoodbyeJoint(jn0.joint)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.DestroyJoint(jn0.joint)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20coe%20%3D%20b.m_controllerList%3B%0D%0A%20%20%20%20%20%20while%20(coe)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20coe0%20%3D%20coe%3B%0D%0A%20%20%20%20%20%20%20%20coe%20%3D%20coe.nextController%3B%0D%0A%20%20%20%20%20%20%20%20coe0.controller.RemoveBody(b)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20ce%20%3D%20b.m_contactList%3B%0D%0A%20%20%20%20%20%20while%20(ce)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20ce0%20%3D%20ce%3B%0D%0A%20%20%20%20%20%20%20%20ce%20%3D%20ce.next%3B%0D%0A%20%20%20%20%20%20%20%20this.m_contactManager.Destroy(ce0.contact)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20b.m_contactList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20f%20%3D%20b.m_fixtureList%3B%0D%0A%20%20%20%20%20%20while%20(f)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20f0%20%3D%20f%3B%0D%0A%20%20%20%20%20%20%20%20f%20%3D%20f.m_next%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_destructionListener)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_destructionListener.SayGoodbyeFixture(f0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20f0.DestroyProxy(this.m_contactManager.m_broadPhase)%3B%0D%0A%20%20%20%20%20%20%20%20f0.Destroy()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20b.m_fixtureList%20%3D%20null%3B%0D%0A%20%20%20%20%20%20b.m_fixtureCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(b.m_prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20b.m_prev.m_next%20%3D%20b.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20b.m_next.m_prev%20%3D%20b.m_prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(b%20%3D%3D%20this.m_bodyList)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_bodyList%20%3D%20b.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20--this.m_bodyCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.CreateJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20var%20j%20%3D%20b2Joint.Create(def%2C%20null)%3B%0D%0A%20%20%20%20%20%20j.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20j.m_next%20%3D%20this.m_jointList%3B%0D%0A%20%20%20%20%20%20if%20(this.m_jointList)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_jointList.m_prev%20%3D%20j%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_jointList%20%3D%20j%3B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_jointCount%3B%0D%0A%20%20%20%20%20%20j.m_edgeA.joint%20%3D%20j%3B%0D%0A%20%20%20%20%20%20j.m_edgeA.other%20%3D%20j.m_bodyB%3B%0D%0A%20%20%20%20%20%20j.m_edgeA.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20j.m_edgeA.next%20%3D%20j.m_bodyA.m_jointList%3B%0D%0A%20%20%20%20%20%20if%20(j.m_bodyA.m_jointList)%20j.m_bodyA.m_jointList.prev%20%3D%20j.m_edgeA%3B%0D%0A%20%20%20%20%20%20j.m_bodyA.m_jointList%20%3D%20j.m_edgeA%3B%0D%0A%20%20%20%20%20%20j.m_edgeB.joint%20%3D%20j%3B%0D%0A%20%20%20%20%20%20j.m_edgeB.other%20%3D%20j.m_bodyA%3B%0D%0A%20%20%20%20%20%20j.m_edgeB.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20j.m_edgeB.next%20%3D%20j.m_bodyB.m_jointList%3B%0D%0A%20%20%20%20%20%20if%20(j.m_bodyB.m_jointList)%20j.m_bodyB.m_jointList.prev%20%3D%20j.m_edgeB%3B%0D%0A%20%20%20%20%20%20j.m_bodyB.m_jointList%20%3D%20j.m_edgeB%3B%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20def.bodyA%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20def.bodyB%3B%0D%0A%20%20%20%20%20%20if%20(def.collideConnected%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20edge%20%3D%20bodyB.GetContactList()%3B%0D%0A%20%20%20%20%20%20%20%20while%20(edge)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(edge.other%20%3D%3D%20bodyA)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20edge.contact.FlagForFiltering()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20j%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.DestroyJoint%20%3D%20function%20(j)%20%7B%0D%0A%20%20%20%20%20%20var%20collideConnected%20%3D%20j.m_collideConnected%3B%0D%0A%20%20%20%20%20%20if%20(j.m_prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_prev.m_next%20%3D%20j.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(j.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_next.m_prev%20%3D%20j.m_prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(j%20%3D%3D%20this.m_jointList)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_jointList%20%3D%20j.m_next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20j.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20j.m_bodyB%3B%0D%0A%20%20%20%20%20%20bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20if%20(j.m_edgeA.prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_edgeA.prev.next%20%3D%20j.m_edgeA.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(j.m_edgeA.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_edgeA.next.prev%20%3D%20j.m_edgeA.prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(j.m_edgeA%20%3D%3D%20bodyA.m_jointList)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodyA.m_jointList%20%3D%20j.m_edgeA.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20j.m_edgeA.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20j.m_edgeA.next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(j.m_edgeB.prev)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_edgeB.prev.next%20%3D%20j.m_edgeB.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(j.m_edgeB.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_edgeB.next.prev%20%3D%20j.m_edgeB.prev%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(j.m_edgeB%20%3D%3D%20bodyB.m_jointList)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodyB.m_jointList%20%3D%20j.m_edgeB.next%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20j.m_edgeB.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20j.m_edgeB.next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20b2Joint.Destroy(j%2C%20null)%3B%0D%0A%20%20%20%20%20%20--this.m_jointCount%3B%0D%0A%20%20%20%20%20%20if%20(collideConnected%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20edge%20%3D%20bodyB.GetContactList()%3B%0D%0A%20%20%20%20%20%20%20%20while%20(edge)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(edge.other%20%3D%3D%20bodyA)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20edge.contact.FlagForFiltering()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.AddController%20%3D%20function%20(c)%20%7B%0D%0A%20%20%20%20%20%20c.m_next%20%3D%20this.m_controllerList%3B%0D%0A%20%20%20%20%20%20c.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20c%3B%0D%0A%20%20%20%20%20%20c.m_world%20%3D%20this%3B%0D%0A%20%20%20%20%20%20this.m_controllerCount%2B%2B%3B%0D%0A%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.RemoveController%20%3D%20function%20(c)%20%7B%0D%0A%20%20%20%20%20%20if%20(c.m_prev)%20c.m_prev.m_next%20%3D%20c.m_next%3B%0D%0A%20%20%20%20%20%20if%20(c.m_next)%20c.m_next.m_prev%20%3D%20c.m_prev%3B%0D%0A%20%20%20%20%20%20if%20(this.m_controllerList%20%3D%3D%20c)%20this.m_controllerList%20%3D%20c.m_next%3B%0D%0A%20%20%20%20%20%20this.m_controllerCount--%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.CreateController%20%3D%20function%20(controller)%20%7B%0D%0A%20%20%20%20%20%20if%20(controller.m_world%20!%3D%20this)%0D%0A%20%20%20%20%20%20%20%20throw%20new%20Error(%22Controller%20can%20only%20be%20a%20member%20of%20one%20world%22)%3B%0D%0A%20%20%20%20%20%20controller.m_next%20%3D%20this.m_controllerList%3B%0D%0A%20%20%20%20%20%20controller.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(this.m_controllerList)%20this.m_controllerList.m_prev%20%3D%20controller%3B%0D%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20controller%3B%0D%0A%20%20%20%20%20%20%2B%2Bthis.m_controllerCount%3B%0D%0A%20%20%20%20%20%20controller.m_world%20%3D%20this%3B%0D%0A%20%20%20%20%20%20return%20controller%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.DestroyController%20%3D%20function%20(controller)%20%7B%0D%0A%20%20%20%20%20%20controller.Clear()%3B%0D%0A%20%20%20%20%20%20if%20(controller.m_next)%20controller.m_next.m_prev%20%3D%20controller.m_prev%3B%0D%0A%20%20%20%20%20%20if%20(controller.m_prev)%20controller.m_prev.m_next%20%3D%20controller.m_next%3B%0D%0A%20%20%20%20%20%20if%20(controller%20%3D%3D%20this.m_controllerList)%0D%0A%20%20%20%20%20%20%20%20this.m_controllerList%20%3D%20controller.m_next%3B%0D%0A%20%20%20%20%20%20--this.m_controllerCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetWarmStarting%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20b2World.m_warmStarting%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetContinuousPhysics%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20b2World.m_continuousPhysics%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetBodyCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetJointCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_jointCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetContactCount%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_contactCount%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SetGravity%20%3D%20function%20(gravity)%20%7B%0D%0A%20%20%20%20%20%20this.m_gravity%20%3D%20gravity%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetGravity%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_gravity%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetGroundBody%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_groundBody%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.Step%20%3D%20function%20(%0D%0A%20%20%20%20%20%20dt%2C%0D%0A%20%20%20%20%20%20velocityIterations%2C%0D%0A%20%20%20%20%20%20positionIterations%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(dt%20%3D%3D%3D%20undefined)%20dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(velocityIterations%20%3D%3D%3D%20undefined)%20velocityIterations%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(positionIterations%20%3D%3D%3D%20undefined)%20positionIterations%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2World.e_newFixture)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_contactManager.FindNewContacts()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2World.e_newFixture%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2World.e_locked%3B%0D%0A%20%20%20%20%20%20var%20step%20%3D%20b2World.s_timestep2%3B%0D%0A%20%20%20%20%20%20step.dt%20%3D%20dt%3B%0D%0A%20%20%20%20%20%20step.velocityIterations%20%3D%20velocityIterations%3B%0D%0A%20%20%20%20%20%20step.positionIterations%20%3D%20positionIterations%3B%0D%0A%20%20%20%20%20%20if%20(dt%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20step.inv_dt%20%3D%201.0%20%2F%20dt%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20step.inv_dt%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20step.dtRatio%20%3D%20this.m_inv_dt0%20*%20dt%3B%0D%0A%20%20%20%20%20%20step.warmStarting%20%3D%20b2World.m_warmStarting%3B%0D%0A%20%20%20%20%20%20this.m_contactManager.Collide()%3B%0D%0A%20%20%20%20%20%20if%20(step.dt%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.Solve(step)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(b2World.m_continuousPhysics%20%26%26%20step.dt%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.SolveTOI(step)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(step.dt%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_inv_dt0%20%3D%20step.inv_dt%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2World.e_locked%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.ClearForces%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20for%20(var%20body%20%3D%20this.m_bodyList%3B%20body%3B%20body%20%3D%20body.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20body.m_force.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20body.m_torque%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.DrawDebugData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_debugDraw%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_debugDraw.m_sprite.graphics.clear()%3B%0D%0A%20%20%20%20%20%20var%20flags%20%3D%20this.m_debugDraw.GetFlags()%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20b%3B%0D%0A%20%20%20%20%20%20var%20f%3B%0D%0A%20%20%20%20%20%20var%20s%3B%0D%0A%20%20%20%20%20%20var%20j%3B%0D%0A%20%20%20%20%20%20var%20bp%3B%0D%0A%20%20%20%20%20%20var%20invQ%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20x1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20x2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20xf%3B%0D%0A%20%20%20%20%20%20var%20b1%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20var%20b2%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20var%20vs%20%3D%20%5Bnew%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%5D%3B%0D%0A%20%20%20%20%20%20var%20color%20%3D%20new%20b2Color(0%2C%200%2C%200)%3B%0D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_shapeBit)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20xf%20%3D%20b.m_xf%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(f%20%3D%20b.GetFixtureList()%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20f.GetShape()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(b.IsActive()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.5%2C%200.5%2C%200.3)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.5%2C%200.9%2C%200.5)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_kinematicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.5%2C%200.5%2C%200.9)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.6%2C%200.6%2C%200.6)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.9%2C%200.7%2C%200.7)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_jointBit)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%20this.m_jointList%3B%20j%3B%20j%20%3D%20j.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.DrawJoint(j)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_controllerBit)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20c%20%3D%20this.m_controllerList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20c.Draw(this.m_debugDraw)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_pairBit)%20%7B%0D%0A%20%20%20%20%20%20%20%20color.Set(0.3%2C%200.9%2C%200.9)%3B%0D%0A%20%20%20%20%20%20%20%20for%20(%0D%0A%20%20%20%20%20%20%20%20%20%20var%20contact%20%3D%20this.m_contactManager.m_contactList%3B%0D%0A%20%20%20%20%20%20%20%20%20%20contact%3B%0D%0A%20%20%20%20%20%20%20%20%20%20contact%20%3D%20contact.GetNext()%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cA%20%3D%20fixtureA.GetAABB().GetCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cB%20%3D%20fixtureB.GetAABB().GetCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(cA%2C%20cB%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_aabbBit)%20%7B%0D%0A%20%20%20%20%20%20%20%20bp%20%3D%20this.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20%20%20vs%20%3D%20%5Bnew%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%5D%3B%0D%0A%20%20%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.GetNext())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsActive()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(f%20%3D%20b.GetFixtureList()%3B%20f%3B%20f%20%3D%20f.GetNext())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20aabb%20%3D%20bp.GetFatAABB(f.m_proxy)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B0%5D.Set(aabb.lowerBound.x%2C%20aabb.lowerBound.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B1%5D.Set(aabb.upperBound.x%2C%20aabb.lowerBound.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B2%5D.Set(aabb.upperBound.x%2C%20aabb.upperBound.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B3%5D.Set(aabb.lowerBound.x%2C%20aabb.upperBound.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawPolygon(vs%2C%204%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_centerOfMassBit)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20xf%20%3D%20b2World.s_xf%3B%0D%0A%20%20%20%20%20%20%20%20%20%20xf.R%20%3D%20b.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20xf.position%20%3D%20b.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawTransform(xf)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.QueryAABB%20%3D%20function%20(callback%2C%20aabb)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20WorldQueryWrapper(proxy)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20callback(broadPhase.GetUserData(proxy))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20broadPhase.Query(WorldQueryWrapper%2C%20aabb)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.QueryShape%20%3D%20function%20(callback%2C%20shape%2C%20transform)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20if%20(transform%20%3D%3D%3D%20undefined)%20transform%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(transform%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20transform%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20%20%20transform.SetIdentity()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20WorldQueryWrapper(proxy)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20fixture%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20broadPhase.GetUserData(proxy)%20instanceof%20b2Fixture%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20broadPhase.GetUserData(proxy)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Shape.TestOverlap(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20shape%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fixture.GetShape()%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fixture.GetBody().GetTransform()%0D%0A%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20%20%20return%20callback(fixture)%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20aabb%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20shape.ComputeAABB(aabb%2C%20transform)%3B%0D%0A%20%20%20%20%20%20broadPhase.Query(WorldQueryWrapper%2C%20aabb)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.QueryPoint%20%3D%20function%20(callback%2C%20p)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20WorldQueryWrapper(proxy)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20fixture%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20broadPhase.GetUserData(proxy)%20instanceof%20b2Fixture%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20broadPhase.GetUserData(proxy)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fixture.TestPoint(p))%20return%20callback(fixture)%3B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20aabb%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20aabb.lowerBound.Set(%0D%0A%20%20%20%20%20%20%20%20p.x%20-%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20p.y%20-%20b2Settings.b2_linearSlop%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20aabb.upperBound.Set(%0D%0A%20%20%20%20%20%20%20%20p.x%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20p.y%20%2B%20b2Settings.b2_linearSlop%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20broadPhase.Query(WorldQueryWrapper%2C%20aabb)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.RayCast%20%3D%20function%20(callback%2C%20point1%2C%20point2)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0D%0A%20%20%20%20%20%20var%20output%20%3D%20new%20b2RayCastOutput()%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20RayCastWrapper(input%2C%20proxy)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20userData%20%3D%20broadPhase.GetUserData(proxy)%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixture%20%3D%20userData%20instanceof%20b2Fixture%20%3F%20userData%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20var%20hit%20%3D%20fixture.RayCast(output%2C%20input)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(hit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fraction%20%3D%20output.fraction%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20point%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(1.0%20-%20fraction)%20*%20point1.x%20%2B%20fraction%20*%20point2.x%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(1.0%20-%20fraction)%20*%20point1.y%20%2B%20fraction%20*%20point2.y%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20callback(fixture%2C%20point%2C%20output.normal%2C%20fraction)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20input.maxFraction%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20input%20%3D%20new%20b2RayCastInput(point1%2C%20point2)%3B%0D%0A%20%20%20%20%20%20broadPhase.RayCast(RayCastWrapper%2C%20input)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.RayCastOne%20%3D%20function%20(point1%2C%20point2)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20result%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20RayCastOneWrapper(fixture%2C%20point%2C%20normal%2C%20fraction)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(fraction%20%3D%3D%3D%20undefined)%20fraction%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20result%20%3D%20fixture%3B%0D%0A%20%20%20%20%20%20%20%20return%20fraction%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20__this.RayCast(RayCastOneWrapper%2C%20point1%2C%20point2)%3B%0D%0A%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.RayCastAll%20%3D%20function%20(point1%2C%20point2)%20%7B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20var%20result%20%3D%20new%20Vector()%3B%0D%0A%0D%0A%20%20%20%20%20%20function%20RayCastAllWrapper(fixture%2C%20point%2C%20normal%2C%20fraction)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(fraction%20%3D%3D%3D%20undefined)%20fraction%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20result%5Bresult.length%5D%20%3D%20fixture%3B%0D%0A%20%20%20%20%20%20%20%20return%201%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20__this.RayCast(RayCastAllWrapper%2C%20point1%2C%20point2)%3B%0D%0A%20%20%20%20%20%20return%20result%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetBodyList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetJointList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_jointList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.GetContactList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_contactList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.IsLocked%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2World.e_locked)%20%3E%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.Solve%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20b%3B%0D%0A%20%20%20%20%20%20for%20(%0D%0A%20%20%20%20%20%20%20%20var%20controller%20%3D%20this.m_controllerList%3B%0D%0A%20%20%20%20%20%20%20%20controller%3B%0D%0A%20%20%20%20%20%20%20%20controller%20%3D%20controller.m_next%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20controller.Step(step)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20island%20%3D%20this.m_island%3B%0D%0A%20%20%20%20%20%20island.Initialize(%0D%0A%20%20%20%20%20%20%20%20this.m_bodyCount%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactCount%2C%0D%0A%20%20%20%20%20%20%20%20this.m_jointCount%2C%0D%0A%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactManager.m_contactListener%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactSolver%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(var%20c%20%3D%20this.m_contactList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~b2Contact.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(var%20j%20%3D%20this.m_jointList%3B%20j%3B%20j%20%3D%20j.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_islandFlag%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20stackSize%20%3D%20parseInt(this.m_bodyCount)%3B%0D%0A%20%20%20%20%20%20var%20stack%20%3D%20this.s_stack%3B%0D%0A%20%20%20%20%20%20for%20(var%20seed%20%3D%20this.m_bodyList%3B%20seed%3B%20seed%20%3D%20seed.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(seed.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(seed.IsAwake()%20%3D%3D%20false%20%7C%7C%20seed.IsActive()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(seed.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20island.Clear()%3B%0D%0A%20%20%20%20%20%20%20%20var%20stackCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20stack%5BstackCount%2B%2B%5D%20%3D%20seed%3B%0D%0A%20%20%20%20%20%20%20%20seed.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20while%20(stackCount%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20stack%5B--stackCount%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20island.AddBody(b)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20var%20other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20ce%20%3D%20b.m_contactList%3B%20ce%3B%20ce%20%3D%20ce.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(ce.contact.m_flags%20%26%20b2Contact.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.IsSensor()%20%3D%3D%20true%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.IsEnabled()%20%3D%3D%20false%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.IsTouching()%20%3D%3D%20false%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddContact(ce.contact)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.m_flags%20%7C%3D%20b2Contact.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20ce.other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5BstackCount%2B%2B%5D%20%3D%20other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20jn%20%3D%20b.m_jointList%3B%20jn%3B%20jn%20%3D%20jn.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(jn.joint.m_islandFlag%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20jn.other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.IsActive()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddJoint(jn.joint)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20jn.joint.m_islandFlag%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5BstackCount%2B%2B%5D%20%3D%20other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20island.Solve(step%2C%20this.m_gravity%2C%20this.m_allowSleep)%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20island.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20island.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20stack.length%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(!stack%5Bi%5D)%20break%3B%0D%0A%20%20%20%20%20%20%20%20stack%5Bi%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false%20%7C%7C%20b.IsActive()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20b.SynchronizeFixtures()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_contactManager.FindNewContacts()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.SolveTOI%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20b%3B%0D%0A%20%20%20%20%20%20var%20fA%3B%0D%0A%20%20%20%20%20%20var%20fB%3B%0D%0A%20%20%20%20%20%20var%20bA%3B%0D%0A%20%20%20%20%20%20var%20bB%3B%0D%0A%20%20%20%20%20%20var%20cEdge%3B%0D%0A%20%20%20%20%20%20var%20j%3B%0D%0A%20%20%20%20%20%20var%20island%20%3D%20this.m_island%3B%0D%0A%20%20%20%20%20%20island.Initialize(%0D%0A%20%20%20%20%20%20%20%20this.m_bodyCount%2C%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxTOIContactsPerIsland%2C%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxTOIJointsPerIsland%2C%0D%0A%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactManager.m_contactListener%2C%0D%0A%20%20%20%20%20%20%20%20this.m_contactSolver%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20queue%20%3D%20b2World.s_queue%3B%0D%0A%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20b.m_sweep.t0%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20c%3B%0D%0A%20%20%20%20%20%20for%20(c%20%3D%20this.m_contactList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~(b2Contact.e_toiFlag%20%7C%20b2Contact.e_islandFlag)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(j%20%3D%20this.m_jointList%3B%20j%3B%20j%20%3D%20j.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20j.m_islandFlag%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20minContact%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20var%20minTOI%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20for%20(c%20%3D%20this.m_contactList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.IsSensor()%20%3D%3D%20true%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.IsEnabled()%20%3D%3D%20false%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.IsContinuous()%20%3D%3D%20false%0D%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20var%20toi%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(c.m_flags%20%26%20b2Contact.e_toiFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toi%20%3D%20c.m_toi%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fA%20%3D%20c.m_fixtureA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fB%20%3D%20c.m_fixtureB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bA%20%3D%20fA.m_body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bB%20%3D%20fB.m_body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(bA.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bA.IsAwake()%20%3D%3D%20false)%20%26%26%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(bB.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%20bB.IsAwake()%20%3D%3D%20false)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20t0%20%3D%20bA.m_sweep.t0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(bA.m_sweep.t0%20%3C%20bB.m_sweep.t0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t0%20%3D%20bB.m_sweep.t0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bA.m_sweep.Advance(t0)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(bB.m_sweep.t0%20%3C%20bA.m_sweep.t0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t0%20%3D%20bA.m_sweep.t0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bB.m_sweep.Advance(t0)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20toi%20%3D%20c.ComputeTOI(bA.m_sweep%2C%20bB.m_sweep)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(0.0%20%3C%3D%20toi%20%26%26%20toi%20%3C%3D%201.0)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(toi%20%3E%200.0%20%26%26%20toi%20%3C%201.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toi%20%3D%20(1.0%20-%20toi)%20*%20t0%20%2B%20toi%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(toi%20%3E%201)%20toi%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.m_toi%20%3D%20toi%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.m_flags%20%7C%3D%20b2Contact.e_toiFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(Number.MIN_VALUE%20%3C%20toi%20%26%26%20toi%20%3C%20minTOI)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minContact%20%3D%20c%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minTOI%20%3D%20toi%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(minContact%20%3D%3D%20null%20%7C%7C%201.0%20-%20100.0%20*%20Number.MIN_VALUE%20%3C%20minTOI)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20fA%20%3D%20minContact.m_fixtureA%3B%0D%0A%20%20%20%20%20%20%20%20fB%20%3D%20minContact.m_fixtureB%3B%0D%0A%20%20%20%20%20%20%20%20bA%20%3D%20fA.m_body%3B%0D%0A%20%20%20%20%20%20%20%20bB%20%3D%20fB.m_body%3B%0D%0A%20%20%20%20%20%20%20%20b2World.s_backupA.Set(bA.m_sweep)%3B%0D%0A%20%20%20%20%20%20%20%20b2World.s_backupB.Set(bB.m_sweep)%3B%0D%0A%20%20%20%20%20%20%20%20bA.Advance(minTOI)%3B%0D%0A%20%20%20%20%20%20%20%20bB.Advance(minTOI)%3B%0D%0A%20%20%20%20%20%20%20%20minContact.Update(this.m_contactManager.m_contactListener)%3B%0D%0A%20%20%20%20%20%20%20%20minContact.m_flags%20%26%3D%20~b2Contact.e_toiFlag%3B%0D%0A%20%20%20%20%20%20%20%20if%20(minContact.IsSensor()%20%3D%3D%20true%20%7C%7C%20minContact.IsEnabled()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bA.m_sweep.Set(b2World.s_backupA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bB.m_sweep.Set(b2World.s_backupB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(minContact.IsTouching()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20seed%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20%20%20if%20(seed.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20seed%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20island.Clear()%3B%0D%0A%20%20%20%20%20%20%20%20var%20queueStart%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20var%20queueSize%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20queue%5BqueueStart%20%2B%20queueSize%2B%2B%5D%20%3D%20seed%3B%0D%0A%20%20%20%20%20%20%20%20seed.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20while%20(queueSize%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20queue%5BqueueStart%2B%2B%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20--queueSize%3B%0D%0A%20%20%20%20%20%20%20%20%20%20island.AddBody(b)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(cEdge%20%3D%20b.m_contactList%3B%20cEdge%3B%20cEdge%20%3D%20cEdge.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(island.m_contactCount%20%3D%3D%20island.m_contactCapacity)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(cEdge.contact.m_flags%20%26%20b2Contact.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.IsSensor()%20%3D%3D%20true%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.IsEnabled()%20%3D%3D%20false%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.IsTouching()%20%3D%3D%20false%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddContact(cEdge.contact)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.m_flags%20%7C%3D%20b2Contact.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20other%20%3D%20cEdge.other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.GetType()%20!%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.Advance(minTOI)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20queue%5BqueueStart%20%2B%20queueSize%5D%20%3D%20other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2BqueueSize%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20jEdge%20%3D%20b.m_jointList%3B%20jEdge%3B%20jEdge%20%3D%20jEdge.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(island.m_jointCount%20%3D%3D%20island.m_jointCapacity)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(jEdge.joint.m_islandFlag%20%3D%3D%20true)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20jEdge.other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.IsActive()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddJoint(jEdge.joint)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20jEdge.joint.m_islandFlag%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.GetType()%20!%3D%20b2Body.b2_staticBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.Advance(minTOI)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20queue%5BqueueStart%20%2B%20queueSize%5D%20%3D%20other%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2BqueueSize%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20subStep%20%3D%20b2World.s_timestep%3B%0D%0A%20%20%20%20%20%20%20%20subStep.warmStarting%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20subStep.dt%20%3D%20(1.0%20-%20minTOI)%20*%20step.dt%3B%0D%0A%20%20%20%20%20%20%20%20subStep.inv_dt%20%3D%201.0%20%2F%20subStep.dt%3B%0D%0A%20%20%20%20%20%20%20%20subStep.dtRatio%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20subStep.velocityIterations%20%3D%20step.velocityIterations%3B%0D%0A%20%20%20%20%20%20%20%20subStep.positionIterations%20%3D%20step.positionIterations%3B%0D%0A%20%20%20%20%20%20%20%20island.SolveTOI(subStep)%3B%0D%0A%20%20%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20island.m_bodyCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20island.m_bodies%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20b.SynchronizeFixtures()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(cEdge%20%3D%20b.m_contactList%3B%20cEdge%3B%20cEdge%20%3D%20cEdge.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.m_flags%20%26%3D%20~b2Contact.e_toiFlag%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20island.m_contactCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20island.m_contacts%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~(b2Contact.e_toiFlag%20%7C%20b2Contact.e_islandFlag)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20island.m_jointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20j%20%3D%20island.m_joints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20j.m_islandFlag%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.m_contactManager.FindNewContacts()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.DrawJoint%20%3D%20function%20(joint)%20%7B%0D%0A%20%20%20%20%20%20var%20b1%20%3D%20joint.GetBodyA()%3B%0D%0A%20%20%20%20%20%20var%20b2%20%3D%20joint.GetBodyB()%3B%0D%0A%20%20%20%20%20%20var%20xf1%20%3D%20b1.m_xf%3B%0D%0A%20%20%20%20%20%20var%20xf2%20%3D%20b2.m_xf%3B%0D%0A%20%20%20%20%20%20var%20x1%20%3D%20xf1.position%3B%0D%0A%20%20%20%20%20%20var%20x2%20%3D%20xf2.position%3B%0D%0A%20%20%20%20%20%20var%20p1%20%3D%20joint.GetAnchorA()%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20joint.GetAnchorB()%3B%0D%0A%20%20%20%20%20%20var%20color%20%3D%20b2World.s_jointColor%3B%0D%0A%20%20%20%20%20%20switch%20(joint.m_type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_distanceJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_pulleyJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pulley%20%3D%20joint%20instanceof%20b2PulleyJoint%20%3F%20joint%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s1%20%3D%20pulley.GetGroundAnchorA()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s2%20%3D%20pulley.GetGroundAnchorB()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(s1%2C%20p1%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(s2%2C%20p2%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(s1%2C%20s2%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_mouseJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b1%20!%3D%20this.m_groundBody)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(x1%2C%20p1%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(b2%20!%3D%20this.m_groundBody)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(x2%2C%20p2%2C%20color)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2World.prototype.DrawShape%20%3D%20function%20(shape%2C%20xf%2C%20color)%20%7B%0D%0A%20%20%20%20%20%20switch%20(shape.m_type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_circleShape%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20circle%20%3D%20shape%20instanceof%20b2CircleShape%20%3F%20shape%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20center%20%3D%20b2Math.MulX(xf%2C%20circle.m_p)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20radius%20%3D%20circle.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20axis%20%3D%20xf.R.col1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSolidCircle(center%2C%20radius%2C%20axis%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_polygonShape%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20poly%20%3D%20shape%20instanceof%20b2PolygonShape%20%3F%20shape%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20vertexCount%20%3D%20parseInt(poly.GetVertexCount())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20localVertices%20%3D%20poly.GetVertices()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20vertices%20%3D%20new%20Vector(vertexCount)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20vertexCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vertices%5Bi%5D%20%3D%20b2Math.MulX(xf%2C%20localVertices%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSolidPolygon(vertices%2C%20vertexCount%2C%20color)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_edgeShape%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20edge%20%3D%20shape%20instanceof%20b2EdgeShape%20%3F%20shape%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2Math.MulX(xf%2C%20edge.GetVertex1())%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2Math.MulX(xf%2C%20edge.GetVertex2())%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_timestep2%20%3D%20new%20b2TimeStep()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_xf%20%3D%20new%20b2Transform()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_backupA%20%3D%20new%20b2Sweep()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_backupB%20%3D%20new%20b2Sweep()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_timestep%20%3D%20new%20b2TimeStep()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_queue%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_jointColor%20%3D%20new%20b2Color(0.5%2C%200.8%2C%200.8)%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.e_newFixture%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.e_locked%20%3D%200x0002%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0D%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0D%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0D%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0D%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0D%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0D%0A%20%20%20%20%20%20b2CircleContact%20%3D%20Box2D.Dynamics.Contacts.b2CircleContact%2C%0D%0A%20%20%20%20%20%20b2Contact%20%3D%20Box2D.Dynamics.Contacts.b2Contact%2C%0D%0A%20%20%20%20%20%20b2ContactConstraint%20%3D%20Box2D.Dynamics.Contacts.b2ContactConstraint%2C%0D%0A%20%20%20%20%20%20b2ContactConstraintPoint%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2ContactConstraintPoint%2C%0D%0A%20%20%20%20%20%20b2ContactEdge%20%3D%20Box2D.Dynamics.Contacts.b2ContactEdge%2C%0D%0A%20%20%20%20%20%20b2ContactFactory%20%3D%20Box2D.Dynamics.Contacts.b2ContactFactory%2C%0D%0A%20%20%20%20%20%20b2ContactRegister%20%3D%20Box2D.Dynamics.Contacts.b2ContactRegister%2C%0D%0A%20%20%20%20%20%20b2ContactResult%20%3D%20Box2D.Dynamics.Contacts.b2ContactResult%2C%0D%0A%20%20%20%20%20%20b2ContactSolver%20%3D%20Box2D.Dynamics.Contacts.b2ContactSolver%2C%0D%0A%20%20%20%20%20%20b2EdgeAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2EdgeAndCircleContact%2C%0D%0A%20%20%20%20%20%20b2NullContact%20%3D%20Box2D.Dynamics.Contacts.b2NullContact%2C%0D%0A%20%20%20%20%20%20b2PolyAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndCircleContact%2C%0D%0A%20%20%20%20%20%20b2PolyAndEdgeContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndEdgeContact%2C%0D%0A%20%20%20%20%20%20b2PolygonContact%20%3D%20Box2D.Dynamics.Contacts.b2PolygonContact%2C%0D%0A%20%20%20%20%20%20b2PositionSolverManifold%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold%2C%0D%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0D%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0D%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0D%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0D%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0D%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0D%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0D%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0D%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0D%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0D%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0D%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0D%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0D%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0D%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0D%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0D%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0D%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0D%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0D%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0D%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0D%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0D%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0D%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0D%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0D%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0D%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0D%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0D%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0D%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0D%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0D%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0D%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0D%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0D%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0D%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0D%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0D%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0D%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0D%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0D%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0D%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0D%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0D%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%3B%0D%0A%0D%0A%20%20%20%20Box2D.inherit(b2CircleContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0D%0A%20%20%20%20b2CircleContact.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0D%0A%20%20%20%20b2CircleContact.b2CircleContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleContact.Create%20%3D%20function%20(allocator)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2CircleContact()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0D%0A%20%20%20%20b2CircleContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2CircleContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20b2Collision.CollideCircles(%0D%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2CircleShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2CircleShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_xf%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.b2Contact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_nodeA%20%3D%20new%20b2ContactEdge()%3B%0D%0A%20%20%20%20%20%20this.m_nodeB%20%3D%20new%20b2ContactEdge()%3B%0D%0A%20%20%20%20%20%20this.m_manifold%20%3D%20new%20b2Manifold()%3B%0D%0A%20%20%20%20%20%20this.m_oldManifold%20%3D%20new%20b2Manifold()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.GetManifold%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_manifold%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.GetWorldManifold%20%3D%20function%20(worldManifold)%20%7B%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20this.m_fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20this.m_fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20shapeA%20%3D%20this.m_fixtureA.GetShape()%3B%0D%0A%20%20%20%20%20%20var%20shapeB%20%3D%20this.m_fixtureB.GetShape()%3B%0D%0A%20%20%20%20%20%20worldManifold.Initialize(%0D%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0D%0A%20%20%20%20%20%20%20%20bodyA.GetTransform()%2C%0D%0A%20%20%20%20%20%20%20%20shapeA.m_radius%2C%0D%0A%20%20%20%20%20%20%20%20bodyB.GetTransform()%2C%0D%0A%20%20%20%20%20%20%20%20shapeB.m_radius%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.IsTouching%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_touchingFlag)%20%3D%3D%20b2Contact.e_touchingFlag%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.IsContinuous%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_continuousFlag)%20%3D%3D%0D%0A%20%20%20%20%20%20%20%20b2Contact.e_continuousFlag%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.SetSensor%20%3D%20function%20(sensor)%20%7B%0D%0A%20%20%20%20%20%20if%20(sensor)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_sensorFlag%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_sensorFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.IsSensor%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Contact.e_sensorFlag)%20%3D%3D%20b2Contact.e_sensorFlag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.SetEnabled%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20if%20(flag)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_enabledFlag%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_enabledFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.IsEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_enabledFlag)%20%3D%3D%20b2Contact.e_enabledFlag%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.GetNext%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_next%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.GetFixtureA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_fixtureA%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.GetFixtureB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_fixtureB%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.FlagForFiltering%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_filterFlag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.b2Contact%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20if%20(fixtureA%20%3D%3D%3D%20undefined)%20fixtureA%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(fixtureB%20%3D%3D%3D%20undefined)%20fixtureB%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_flags%20%3D%20b2Contact.e_enabledFlag%3B%0D%0A%20%20%20%20%20%20if%20(!fixtureA%20%7C%7C%20!fixtureB)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureA%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(fixtureA.IsSensor()%20%7C%7C%20fixtureB.IsSensor())%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_sensorFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20bodyA.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20bodyA.IsBullet()%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20bodyB.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20bodyB.IsBullet()%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_continuousFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_fixtureA%20%3D%20fixtureA%3B%0D%0A%20%20%20%20%20%20this.m_fixtureB%20%3D%20fixtureB%3B%0D%0A%20%20%20%20%20%20this.m_manifold.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeA.contact%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeA.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeA.next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeA.other%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeB.contact%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeB.prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeB.next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_nodeB.other%20%3D%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.Update%20%3D%20function%20(listener)%20%7B%0D%0A%20%20%20%20%20%20var%20tManifold%20%3D%20this.m_oldManifold%3B%0D%0A%20%20%20%20%20%20this.m_oldManifold%20%3D%20this.m_manifold%3B%0D%0A%20%20%20%20%20%20this.m_manifold%20%3D%20tManifold%3B%0D%0A%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_enabledFlag%3B%0D%0A%20%20%20%20%20%20var%20touching%20%3D%20false%3B%0D%0A%20%20%20%20%20%20var%20wasTouching%20%3D%0D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_touchingFlag)%20%3D%3D%20b2Contact.e_touchingFlag%3B%0D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20this.m_fixtureA.m_body%3B%0D%0A%20%20%20%20%20%20var%20bodyB%20%3D%20this.m_fixtureB.m_body%3B%0D%0A%20%20%20%20%20%20var%20aabbOverlap%20%3D%20this.m_fixtureA.m_aabb.TestOverlap(%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB.m_aabb%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2Contact.e_sensorFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(aabbOverlap)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20shapeA%20%3D%20this.m_fixtureA.GetShape()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20shapeB%20%3D%20this.m_fixtureB.GetShape()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20xfA%20%3D%20bodyA.GetTransform()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20xfB%20%3D%20bodyB.GetTransform()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20touching%20%3D%20b2Shape.TestOverlap(shapeA%2C%20xfA%2C%20shapeB%2C%20xfB)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.m_manifold.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.IsBullet()%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.IsBullet()%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_continuousFlag%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_continuousFlag%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(aabbOverlap)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.Evaluate()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20touching%20%3D%20this.m_manifold.m_pointCount%20%3E%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_manifold.m_pointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20mp2%20%3D%20this.m_manifold.m_points%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_normalImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_tangentImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20id2%20%3D%20mp2.m_id%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20this.m_oldManifold.m_pointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20mp1%20%3D%20this.m_oldManifold.m_points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(mp1.m_id.key%20%3D%3D%20id2.key)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_normalImpulse%20%3D%20mp1.m_normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_tangentImpulse%20%3D%20mp1.m_tangentImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_manifold.m_pointCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(touching%20!%3D%20wasTouching)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(touching)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_touchingFlag%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_touchingFlag%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(wasTouching%20%3D%3D%20false%20%26%26%20touching%20%3D%3D%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20listener.BeginContact(this)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(wasTouching%20%3D%3D%20true%20%26%26%20touching%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20listener.EndContact(this)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20((this.m_flags%20%26%20b2Contact.e_sensorFlag)%20%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20listener.PreSolve(this%2C%20this.m_oldManifold)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.Evaluate%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Contact.prototype.ComputeTOI%20%3D%20function%20(sweepA%2C%20sweepB)%20%7B%0D%0A%20%20%20%20%20%20b2Contact.s_input.proxyA.Set(this.m_fixtureA.GetShape())%3B%0D%0A%20%20%20%20%20%20b2Contact.s_input.proxyB.Set(this.m_fixtureB.GetShape())%3B%0D%0A%20%20%20%20%20%20b2Contact.s_input.sweepA%20%3D%20sweepA%3B%0D%0A%20%20%20%20%20%20b2Contact.s_input.sweepB%20%3D%20sweepB%3B%0D%0A%20%20%20%20%20%20b2Contact.s_input.tolerance%20%3D%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%20%20return%20b2TimeOfImpact.TimeOfImpact(b2Contact.s_input)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag%20%3D%200x0001%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag%20%3D%200x0002%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_islandFlag%20%3D%200x0004%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_toiFlag%20%3D%200x0008%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag%20%3D%200x0010%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag%20%3D%200x0020%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_filterFlag%20%3D%200x0040%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.s_input%20%3D%20new%20b2TOIInput()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2ContactConstraint.b2ContactConstraint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.localPlaneNormal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localPoint%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.normalMass%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.K%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactConstraint.prototype.b2ContactConstraint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.points%5Bi%5D%20%3D%20new%20b2ContactConstraintPoint()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactConstraintPoint.b2ContactConstraintPoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.localPoint%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.rA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.rB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactEdge.b2ContactEdge%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactFactory.b2ContactFactory%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactFactory.prototype.b2ContactFactory%20%3D%20function%20(allocator)%20%7B%0D%0A%20%20%20%20%20%20this.m_allocator%20%3D%20allocator%3B%0D%0A%20%20%20%20%20%20this.InitializeRegisters()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactFactory.prototype.AddType%20%3D%20function%20(%0D%0A%20%20%20%20%20%20createFcn%2C%0D%0A%20%20%20%20%20%20destroyFcn%2C%0D%0A%20%20%20%20%20%20type1%2C%0D%0A%20%20%20%20%20%20type2%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(type1%20%3D%3D%3D%20undefined)%20type1%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(type2%20%3D%3D%3D%20undefined)%20type2%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_registers%5Btype1%5D%5Btype2%5D.createFcn%20%3D%20createFcn%3B%0D%0A%20%20%20%20%20%20this.m_registers%5Btype1%5D%5Btype2%5D.destroyFcn%20%3D%20destroyFcn%3B%0D%0A%20%20%20%20%20%20this.m_registers%5Btype1%5D%5Btype2%5D.primary%20%3D%20true%3B%0D%0A%20%20%20%20%20%20if%20(type1%20!%3D%20type2)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_registers%5Btype2%5D%5Btype1%5D.createFcn%20%3D%20createFcn%3B%0D%0A%20%20%20%20%20%20%20%20this.m_registers%5Btype2%5D%5Btype1%5D.destroyFcn%20%3D%20destroyFcn%3B%0D%0A%20%20%20%20%20%20%20%20this.m_registers%5Btype2%5D%5Btype1%5D.primary%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactFactory.prototype.InitializeRegisters%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_registers%20%3D%20new%20Vector(b2Shape.e_shapeTypeCount)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Shape.e_shapeTypeCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_registers%5Bi%5D%20%3D%20new%20Vector(b2Shape.e_shapeTypeCount)%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20b2Shape.e_shapeTypeCount%3B%20j%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_registers%5Bi%5D%5Bj%5D%20%3D%20new%20b2ContactRegister()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.AddType(%0D%0A%20%20%20%20%20%20%20%20b2CircleContact.Create%2C%0D%0A%20%20%20%20%20%20%20%20b2CircleContact.Destroy%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.AddType(%0D%0A%20%20%20%20%20%20%20%20b2PolyAndCircleContact.Create%2C%0D%0A%20%20%20%20%20%20%20%20b2PolyAndCircleContact.Destroy%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.AddType(%0D%0A%20%20%20%20%20%20%20%20b2PolygonContact.Create%2C%0D%0A%20%20%20%20%20%20%20%20b2PolygonContact.Destroy%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.AddType(%0D%0A%20%20%20%20%20%20%20%20b2EdgeAndCircleContact.Create%2C%0D%0A%20%20%20%20%20%20%20%20b2EdgeAndCircleContact.Destroy%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_edgeShape%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.AddType(%0D%0A%20%20%20%20%20%20%20%20b2PolyAndEdgeContact.Create%2C%0D%0A%20%20%20%20%20%20%20%20b2PolyAndEdgeContact.Destroy%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%2C%0D%0A%20%20%20%20%20%20%20%20b2Shape.e_edgeShape%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactFactory.prototype.Create%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20var%20type1%20%3D%20parseInt(fixtureA.GetType())%3B%0D%0A%20%20%20%20%20%20var%20type2%20%3D%20parseInt(fixtureB.GetType())%3B%0D%0A%20%20%20%20%20%20var%20reg%20%3D%20this.m_registers%5Btype1%5D%5Btype2%5D%3B%0D%0A%20%20%20%20%20%20var%20c%3B%0D%0A%20%20%20%20%20%20if%20(reg.pool)%20%7B%0D%0A%20%20%20%20%20%20%20%20c%20%3D%20reg.pool%3B%0D%0A%20%20%20%20%20%20%20%20reg.pool%20%3D%20c.m_next%3B%0D%0A%20%20%20%20%20%20%20%20reg.poolCount--%3B%0D%0A%20%20%20%20%20%20%20%20c.Reset(fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20createFcn%20%3D%20reg.createFcn%3B%0D%0A%20%20%20%20%20%20if%20(createFcn%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(reg.primary)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20createFcn(this.m_allocator)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20c.Reset(fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20createFcn(this.m_allocator)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20c.Reset(fixtureB%2C%20fixtureA)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20c%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactFactory.prototype.Destroy%20%3D%20function%20(contact)%20%7B%0D%0A%20%20%20%20%20%20if%20(contact.m_manifold.m_pointCount%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20contact.m_fixtureA.m_body.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20contact.m_fixtureB.m_body.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20type1%20%3D%20parseInt(contact.m_fixtureA.GetType())%3B%0D%0A%20%20%20%20%20%20var%20type2%20%3D%20parseInt(contact.m_fixtureB.GetType())%3B%0D%0A%20%20%20%20%20%20var%20reg%20%3D%20this.m_registers%5Btype1%5D%5Btype2%5D%3B%0D%0A%20%20%20%20%20%20if%20(true)%20%7B%0D%0A%20%20%20%20%20%20%20%20reg.poolCount%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20contact.m_next%20%3D%20reg.pool%3B%0D%0A%20%20%20%20%20%20%20%20reg.pool%20%3D%20contact%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20destroyFcn%20%3D%20reg.destroyFcn%3B%0D%0A%20%20%20%20%20%20destroyFcn(contact%2C%20this.m_allocator)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactRegister.b2ContactRegister%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactResult.b2ContactResult%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.id%20%3D%20new%20b2ContactID()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactSolver.b2ContactSolver%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_step%20%3D%20new%20b2TimeStep()%3B%0D%0A%20%20%20%20%20%20this.m_constraints%20%3D%20new%20Vector()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactSolver.prototype.b2ContactSolver%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2ContactSolver.prototype.Initialize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20step%2C%0D%0A%20%20%20%20%20%20contacts%2C%0D%0A%20%20%20%20%20%20contactCount%2C%0D%0A%20%20%20%20%20%20allocator%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(contactCount%20%3D%3D%3D%20undefined)%20contactCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20contact%3B%0D%0A%20%20%20%20%20%20this.m_step.Set(step)%3B%0D%0A%20%20%20%20%20%20this.m_allocator%20%3D%20allocator%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20this.m_constraintCount%20%3D%20contactCount%3B%0D%0A%20%20%20%20%20%20while%20(this.m_constraints.length%20%3C%20this.m_constraintCount)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_constraints%5Bthis.m_constraints.length%5D%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20new%20b2ContactConstraint()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20contactCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20contact%20%3D%20contacts%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.m_fixtureA%3B%0D%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.m_fixtureB%3B%0D%0A%20%20%20%20%20%20%20%20var%20shapeA%20%3D%20fixtureA.m_shape%3B%0D%0A%20%20%20%20%20%20%20%20var%20shapeB%20%3D%20fixtureB.m_shape%3B%0D%0A%20%20%20%20%20%20%20%20var%20radiusA%20%3D%20shapeA.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20var%20radiusB%20%3D%20shapeB.m_radius%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.m_body%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.m_body%3B%0D%0A%20%20%20%20%20%20%20%20var%20manifold%20%3D%20contact.GetManifold()%3B%0D%0A%20%20%20%20%20%20%20%20var%20friction%20%3D%20b2Settings.b2MixFriction(%0D%0A%20%20%20%20%20%20%20%20%20%20fixtureA.GetFriction()%2C%0D%0A%20%20%20%20%20%20%20%20%20%20fixtureB.GetFriction()%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20restitution%20%3D%20b2Settings.b2MixRestitution(%0D%0A%20%20%20%20%20%20%20%20%20%20fixtureA.GetRestitution()%2C%0D%0A%20%20%20%20%20%20%20%20%20%20fixtureB.GetRestitution()%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20vAX%20%3D%20bodyA.m_linearVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20vAY%20%3D%20bodyA.m_linearVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20vBX%20%3D%20bodyB.m_linearVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20vBY%20%3D%20bodyB.m_linearVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20wA%20%3D%20bodyA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20var%20wB%20%3D%20bodyB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2Assert(manifold.m_pointCount%20%3E%200)%3B%0D%0A%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.Initialize(%0D%0A%20%20%20%20%20%20%20%20%20%20manifold%2C%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20%20%20radiusA%2C%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20%20%20radiusB%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20normalX%20%3D%20b2ContactSolver.s_worldManifold.m_normal.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20normalY%20%3D%20b2ContactSolver.s_worldManifold.m_normal.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20cc%20%3D%20this.m_constraints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20cc.bodyA%20%3D%20bodyA%3B%0D%0A%20%20%20%20%20%20%20%20cc.bodyB%20%3D%20bodyB%3B%0D%0A%20%20%20%20%20%20%20%20cc.manifold%20%3D%20manifold%3B%0D%0A%20%20%20%20%20%20%20%20cc.normal.x%20%3D%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20cc.normal.y%20%3D%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20cc.pointCount%20%3D%20manifold.m_pointCount%3B%0D%0A%20%20%20%20%20%20%20%20cc.friction%20%3D%20friction%3B%0D%0A%20%20%20%20%20%20%20%20cc.restitution%20%3D%20restitution%3B%0D%0A%20%20%20%20%20%20%20%20cc.localPlaneNormal.x%20%3D%20manifold.m_localPlaneNormal.x%3B%0D%0A%20%20%20%20%20%20%20%20cc.localPlaneNormal.y%20%3D%20manifold.m_localPlaneNormal.y%3B%0D%0A%20%20%20%20%20%20%20%20cc.localPoint.x%20%3D%20manifold.m_localPoint.x%3B%0D%0A%20%20%20%20%20%20%20%20cc.localPoint.y%20%3D%20manifold.m_localPoint.y%3B%0D%0A%20%20%20%20%20%20%20%20cc.radius%20%3D%20radiusA%20%2B%20radiusB%3B%0D%0A%20%20%20%20%20%20%20%20cc.type%20%3D%20manifold.m_type%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20k%20%3D%200%3B%20k%20%3C%20cc.pointCount%3B%20%2B%2Bk)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cp%20%3D%20manifold.m_points%5Bk%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20ccp%20%3D%20cc.points%5Bk%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20%3D%20cp.m_normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20%3D%20cp.m_tangentImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.localPoint.SetV(cp.m_localPoint)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rAX%20%3D%20(ccp.rA.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.x%20-%20bodyA.m_sweep.c.x)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rAY%20%3D%20(ccp.rA.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.y%20-%20bodyA.m_sweep.c.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rBX%20%3D%20(ccp.rB.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.x%20-%20bodyB.m_sweep.c.x)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rBY%20%3D%20(ccp.rB.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.y%20-%20bodyB.m_sweep.c.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rnA%20%3D%20rAX%20*%20normalY%20-%20rAY%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rnB%20%3D%20rBX%20*%20normalY%20-%20rBY%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20rnA%20*%3D%20rnA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20rnB%20*%3D%20rnB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20kNormal%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invMass%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invMass%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invI%20*%20rnA%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invI%20*%20rnB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.normalMass%20%3D%201.0%20%2F%20kNormal%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20kEqualized%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_mass%20*%20bodyA.m_invMass%20%2B%20bodyB.m_mass%20*%20bodyB.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20%20%20kEqualized%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_mass%20*%20bodyA.m_invI%20*%20rnA%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_mass%20*%20bodyB.m_invI%20*%20rnB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.equalizedMass%20%3D%201.0%20%2F%20kEqualized%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tangentX%20%3D%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tangentY%20%3D%20-normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rtA%20%3D%20rAX%20*%20tangentY%20-%20rAY%20*%20tangentX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rtB%20%3D%20rBX%20*%20tangentY%20-%20rBY%20*%20tangentX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20rtA%20*%3D%20rtA%3B%0D%0A%20%20%20%20%20%20%20%20%20%20rtB%20*%3D%20rtB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20kTangent%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invMass%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invMass%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invI%20*%20rtA%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invI%20*%20rtB%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.tangentMass%20%3D%201.0%20%2F%20kTangent%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.velocityBias%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tX%20%3D%20vBX%20%2B%20-wB%20*%20rBY%20-%20vAX%20-%20-wA%20*%20rAY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20tY%20%3D%20vBY%20%2B%20wB%20*%20rBX%20-%20vAY%20-%20wA%20*%20rAX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20vRel%20%3D%20cc.normal.x%20*%20tX%20%2B%20cc.normal.y%20*%20tY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(vRel%20%3C%20-b2Settings.b2_velocityThreshold)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.velocityBias%20%2B%3D%20-cc.restitution%20*%20vRel%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(cc.pointCount%20%3D%3D%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20ccp1%20%3D%20cc.points%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20ccp2%20%3D%20cc.points%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rn1A%20%3D%20ccp1.rA.x%20*%20normalY%20-%20ccp1.rA.y%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rn1B%20%3D%20ccp1.rB.x%20*%20normalY%20-%20ccp1.rB.y%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rn2A%20%3D%20ccp2.rA.x%20*%20normalY%20-%20ccp2.rA.y%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rn2B%20%3D%20ccp2.rB.x%20*%20normalY%20-%20ccp2.rB.y%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k11%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20invMassA%20%2B%20invMassB%20%2B%20invIA%20*%20rn1A%20*%20rn1A%20%2B%20invIB%20*%20rn1B%20*%20rn1B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k22%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20invMassA%20%2B%20invMassB%20%2B%20invIA%20*%20rn2A%20*%20rn2A%20%2B%20invIB%20*%20rn2B%20*%20rn2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k12%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20invMassA%20%2B%20invMassB%20%2B%20invIA%20*%20rn1A%20*%20rn2A%20%2B%20invIB%20*%20rn1B%20*%20rn2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k_maxConditionNumber%20%3D%20100.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(k11%20*%20k11%20%3C%20k_maxConditionNumber%20*%20(k11%20*%20k22%20-%20k12%20*%20k12))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.K.col1.Set(k11%2C%20k12)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.K.col2.Set(k12%2C%20k22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.K.GetInverse(cc.normalMass)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.pointCount%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactSolver.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20tVec2%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20c.bodyA%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20c.bodyB%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20normalX%20%3D%20c.normal.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20normalY%20%3D%20c.normal.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20tangentX%20%3D%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20var%20tangentY%20%3D%20-normalX%3B%0D%0A%20%20%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20var%20j%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20var%20tCount%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20tCount%20%3D%20c.pointCount%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20tCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ccp%20%3D%20c.points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20PX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20*%20normalX%20%2B%20ccp.tangentImpulse%20*%20tangentX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20PY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20*%20normalY%20%2B%20ccp.tangentImpulse%20*%20tangentY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_angularVelocity%20-%3D%20invIA%20*%20(ccp.rA.x%20*%20PY%20-%20ccp.rA.y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_linearVelocity.x%20-%3D%20invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_linearVelocity.y%20-%3D%20invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_angularVelocity%20%2B%3D%20invIB%20*%20(ccp.rB.x%20*%20PY%20-%20ccp.rB.y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_linearVelocity.x%20%2B%3D%20invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_linearVelocity.y%20%2B%3D%20invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20tCount%20%3D%20c.pointCount%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20tCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ccp2%20%3D%20c.points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp2.normalImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp2.tangentImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactSolver.prototype.SolveVelocityConstraints%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20j%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20ccp%3B%0D%0A%20%20%20%20%20%20var%20rAX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20rAY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20rBX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20rBY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20dvX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20dvY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20vn%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20vt%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20lambda%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20maxFriction%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20newImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20PX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P1X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P1Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P2X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P2Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20c.bodyA%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20c.bodyB%3B%0D%0A%20%20%20%20%20%20%20%20var%20wA%20%3D%20bodyA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20var%20wB%20%3D%20bodyB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20%20%20var%20vA%20%3D%20bodyA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20%20%20var%20vB%20%3D%20bodyB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20normalX%20%3D%20c.normal.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20normalY%20%3D%20c.normal.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20tangentX%20%3D%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20var%20tangentY%20%3D%20-normalX%3B%0D%0A%20%20%20%20%20%20%20%20var%20friction%20%3D%20c.friction%3B%0D%0A%20%20%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20c.pointCount%3B%20j%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp%20%3D%20c.points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dvX%20%3D%20vB.x%20-%20wB%20*%20ccp.rB.y%20-%20vA.x%20%2B%20wA%20*%20ccp.rA.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dvY%20%3D%20vB.y%20%2B%20wB%20*%20ccp.rB.x%20-%20vA.y%20-%20wA%20*%20ccp.rA.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vt%20%3D%20dvX%20*%20tangentX%20%2B%20dvY%20*%20tangentY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20ccp.tangentMass%20*%20-vt%3B%0D%0A%20%20%20%20%20%20%20%20%20%20maxFriction%20%3D%20friction%20*%20ccp.normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20%2B%20lambda%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-maxFriction%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20maxFriction%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20newImpulse%20-%20ccp.tangentImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20PX%20%3D%20lambda%20*%20tangentX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20PY%20%3D%20lambda%20*%20tangentY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20wA%20-%3D%20invIA%20*%20(ccp.rA.x%20*%20PY%20-%20ccp.rA.y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%20invIB%20*%20(ccp.rB.x%20*%20PY%20-%20ccp.rB.y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20%3D%20newImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20tCount%20%3D%20parseInt(c.pointCount)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(c.pointCount%20%3D%3D%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp%20%3D%20c.points%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dvX%20%3D%20vB.x%20%2B%20-wB%20*%20ccp.rB.y%20-%20vA.x%20-%20-wA%20*%20ccp.rA.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20dvY%20%3D%20vB.y%20%2B%20wB%20*%20ccp.rB.x%20-%20vA.y%20-%20wA%20*%20ccp.rA.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vn%20%3D%20dvX%20*%20normalX%20%2B%20dvY%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20-ccp.normalMass%20*%20(vn%20-%20ccp.velocityBias)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20ccp.normalImpulse%20%2B%20lambda%3B%0D%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20newImpulse%20%3E%200%20%3F%20newImpulse%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20newImpulse%20-%20ccp.normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20PX%20%3D%20lambda%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20PY%20%3D%20lambda%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20wA%20-%3D%20invIA%20*%20(ccp.rA.x%20*%20PY%20-%20ccp.rA.y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%20invIB%20*%20(ccp.rB.x%20*%20PY%20-%20ccp.rB.y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20%3D%20newImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cp1%20%3D%20c.points%5B0%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20cp2%20%3D%20c.points%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20aX%20%3D%20cp1.normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20aY%20%3D%20cp2.normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20dv1X%20%3D%20vB.x%20-%20wB%20*%20cp1.rB.y%20-%20vA.x%20%2B%20wA%20*%20cp1.rA.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20dv1Y%20%3D%20vB.y%20%2B%20wB%20*%20cp1.rB.x%20-%20vA.y%20-%20wA%20*%20cp1.rA.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20dv2X%20%3D%20vB.x%20-%20wB%20*%20cp2.rB.y%20-%20vA.x%20%2B%20wA%20*%20cp2.rA.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20dv2Y%20%3D%20vB.y%20%2B%20wB%20*%20cp2.rB.x%20-%20vA.y%20-%20wA%20*%20cp2.rA.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20vn1%20%3D%20dv1X%20*%20normalX%20%2B%20dv1Y%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20vn2%20%3D%20dv2X%20*%20normalX%20%2B%20dv2Y%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20bX%20%3D%20vn1%20-%20cp1.velocityBias%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20bY%20%3D%20vn2%20-%20cp2.velocityBias%3B%0D%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20c.K%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bX%20-%3D%20tMat.col1.x%20*%20aX%20%2B%20tMat.col2.x%20*%20aY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bY%20-%3D%20tMat.col1.y%20*%20aX%20%2B%20tMat.col2.y%20*%20aY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k_errorTol%20%3D%200.001%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20c.normalMass%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20xX%20%3D%20-(tMat.col1.x%20*%20bX%20%2B%20tMat.col2.x%20*%20bY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20xY%20%3D%20-(tMat.col1.y%20*%20bX%20%2B%20tMat.col2.y%20*%20bY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(xX%20%3E%3D%200.0%20%26%26%20xY%20%3E%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xX%20%3D%20-cp1.normalMass%20*%20bX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xY%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vn1%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vn2%20%3D%20c.K.col1.y%20*%20xX%20%2B%20bY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(xX%20%3E%3D%200.0%20%26%26%20vn2%20%3E%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xX%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xY%20%3D%20-cp2.normalMass%20*%20bY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vn1%20%3D%20c.K.col2.x%20*%20xY%20%2B%20bX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vn2%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(xY%20%3E%3D%200.0%20%26%26%20vn1%20%3E%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xX%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20xY%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vn1%20%3D%20bX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vn2%20%3D%20bY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(vn1%20%3E%3D%200.0%20%26%26%20vn2%20%3E%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20bodyA.m_angularVelocity%20%3D%20wA%3B%0D%0A%20%20%20%20%20%20%20%20bodyB.m_angularVelocity%20%3D%20wB%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactSolver.prototype.FinalizeVelocityConstraints%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20m%20%3D%20c.manifold%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20c.pointCount%3B%20%2B%2Bj)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20point1%20%3D%20m.m_points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20point2%20%3D%20c.points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20point1.m_normalImpulse%20%3D%20point2.normalImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%20%20point1.m_tangentImpulse%20%3D%20point2.tangentImpulse%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ContactSolver.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20minSeparation%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20c.bodyA%3B%0D%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20c.bodyB%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_mass%20*%20bodyA.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_mass%20*%20bodyA.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_mass%20*%20bodyB.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_mass%20*%20bodyB.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20b2ContactSolver.s_psm.Initialize(c)%3B%0D%0A%20%20%20%20%20%20%20%20var%20normal%20%3D%20b2ContactSolver.s_psm.m_normal%3B%0D%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20c.pointCount%3B%20j%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20ccp%20%3D%20c.points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20point%20%3D%20b2ContactSolver.s_psm.m_points%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20separation%20%3D%20b2ContactSolver.s_psm.m_separations%5Bj%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rAX%20%3D%20point.x%20-%20bodyA.m_sweep.c.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rAY%20%3D%20point.y%20-%20bodyA.m_sweep.c.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rBX%20%3D%20point.x%20-%20bodyB.m_sweep.c.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20rBY%20%3D%20point.y%20-%20bodyB.m_sweep.c.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20minSeparation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20minSeparation%20%3C%20separation%20%3F%20minSeparation%20%3A%20separation%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20baumgarte%20*%20(separation%20%2B%20b2Settings.b2_linearSlop)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20impulse%20%3D%20-ccp.equalizedMass%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20PX%20%3D%20impulse%20*%20normal.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20PY%20%3D%20impulse%20*%20normal.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_sweep.c.x%20-%3D%20invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_sweep.c.y%20-%3D%20invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_sweep.a%20-%3D%20invIA%20*%20(rAX%20*%20PY%20-%20rAY%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_sweep.c.x%20%2B%3D%20invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_sweep.c.y%20%2B%3D%20invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_sweep.a%20%2B%3D%20invIB%20*%20(rBX%20*%20PY%20-%20rBY%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bodyB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20minSeparation%20%3E%20-1.5%20*%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2ContactSolver.s_worldManifold%20%3D%0D%0A%20%20%20%20%20%20%20%20new%20b2WorldManifold()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2ContactSolver.s_psm%20%3D%0D%0A%20%20%20%20%20%20%20%20new%20b2PositionSolverManifold()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Box2D.inherit(b2EdgeAndCircleContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.b2EdgeAndCircleContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.Create%20%3D%20function%20(allocator)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2EdgeAndCircleContact()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20this.b2CollideEdgeAndCircle(%0D%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2EdgeShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2CircleShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_xf%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2EdgeAndCircleContact.prototype.b2CollideEdgeAndCircle%20%3D%20function%20(%0D%0A%20%20%20%20%20%20manifold%2C%0D%0A%20%20%20%20%20%20edge%2C%0D%0A%20%20%20%20%20%20xf1%2C%0D%0A%20%20%20%20%20%20circle%2C%0D%0A%20%20%20%20%20%20xf2%0D%0A%20%20%20%20)%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2NullContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0D%0A%20%20%20%20b2NullContact.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0D%0A%20%20%20%20b2NullContact.b2NullContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2NullContact.prototype.b2NullContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Contact.call(this)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2NullContact.prototype.Evaluate%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PolyAndCircleContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0D%0A%20%20%20%20b2PolyAndCircleContact.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0D%0A%20%20%20%20b2PolyAndCircleContact.b2PolyAndCircleContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndCircleContact.Create%20%3D%20function%20(allocator)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2PolyAndCircleContact()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndCircleContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0D%0A%20%20%20%20b2PolyAndCircleContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureA.GetType()%20%3D%3D%20b2Shape.e_polygonShape)%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureB.GetType()%20%3D%3D%20b2Shape.e_circleShape)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndCircleContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.m_body%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.m_body%3B%0D%0A%20%20%20%20%20%20b2Collision.CollidePolygonAndCircle(%0D%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2PolygonShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2CircleShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_xf%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PolyAndEdgeContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.b2PolyAndEdgeContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.Create%20%3D%20function%20(allocator)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2PolyAndEdgeContact()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureA.GetType()%20%3D%3D%20b2Shape.e_polygonShape)%3B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureB.GetType()%20%3D%3D%20b2Shape.e_edgeShape)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20this.b2CollidePolyAndEdge(%0D%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2PolygonShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2EdgeShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_xf%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolyAndEdgeContact.prototype.b2CollidePolyAndEdge%20%3D%20function%20(%0D%0A%20%20%20%20%20%20manifold%2C%0D%0A%20%20%20%20%20%20polygon%2C%0D%0A%20%20%20%20%20%20xf1%2C%0D%0A%20%20%20%20%20%20edge%2C%0D%0A%20%20%20%20%20%20xf2%0D%0A%20%20%20%20)%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PolygonContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0D%0A%20%20%20%20b2PolygonContact.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0D%0A%20%20%20%20b2PolygonContact.b2PolygonContact%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonContact.Create%20%3D%20function%20(allocator)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20b2PolygonContact()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0D%0A%20%20%20%20b2PolygonContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0D%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PolygonContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0D%0A%20%20%20%20%20%20b2Collision.CollidePolygons(%0D%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2PolygonShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0D%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2PolygonShape%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_xf%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PositionSolverManifold.b2PositionSolverManifold%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2PositionSolverManifold.prototype.b2PositionSolverManifold%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_normal%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_separations%20%3D%20new%20Vector_a2j_Number(%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxManifoldPoints%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.m_points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_points%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PositionSolverManifold.prototype.Initialize%20%3D%20function%20(cc)%20%7B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(cc.pointCount%20%3E%200)%3B%0D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20clipPointX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20clipPointY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20planePointX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20planePointY%20%3D%200%3B%0D%0A%20%20%20%20%20%20switch%20(cc.type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_circles%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.points%5B0%5D.localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dX%20%3D%20pointBX%20-%20pointAX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dY%20%3D%20pointBY%20-%20pointAY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20d2%20%3D%20dX%20*%20dX%20%2B%20dY%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(d2%20%3E%20Number.MIN_VALUE%20*%20Number.MIN_VALUE)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20d%20%3D%20Math.sqrt(d2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20dX%20%2F%20d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20dY%20%2F%20d%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.x%20%3D%200.5%20*%20(pointAX%20%2B%20pointBX)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.y%20%3D%200.5%20*%20(pointAY%20%2B%20pointBY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_separations%5B0%5D%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20*%20this.m_normal.x%20%2B%20dY%20*%20this.m_normal.y%20-%20cc.radius%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceA%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPlaneNormal%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20cc.pointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.points%5Bi%5D.localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_separations%5Bi%5D%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20this.m_normal.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20this.m_normal.y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.radius%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.x%20%3D%20clipPointX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.y%20%3D%20clipPointY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceB%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPlaneNormal%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20cc.pointCount%3B%20%2B%2Bi)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.points%5Bi%5D.localPoint%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_separations%5Bi%5D%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20this.m_normal.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20this.m_normal.y%20-%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.radius%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.Set(clipPointX%2C%20clipPointY)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20*%3D%20-1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20*%3D%20-1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointA%20%3D%0D%0A%20%20%20%20%20%20%20%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointB%20%3D%0D%0A%20%20%20%20%20%20%20%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0D%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0D%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0D%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0D%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0D%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0D%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0D%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0D%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0D%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0D%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0D%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0D%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0D%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0D%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0D%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0D%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0D%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0D%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0D%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0D%0A%20%20%20%20%20%20b2BuoyancyController%20%3D%20Box2D.Dynamics.Controllers.b2BuoyancyController%2C%0D%0A%20%20%20%20%20%20b2ConstantAccelController%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantAccelController%2C%0D%0A%20%20%20%20%20%20b2ConstantForceController%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantForceController%2C%0D%0A%20%20%20%20%20%20b2Controller%20%3D%20Box2D.Dynamics.Controllers.b2Controller%2C%0D%0A%20%20%20%20%20%20b2ControllerEdge%20%3D%20Box2D.Dynamics.Controllers.b2ControllerEdge%2C%0D%0A%20%20%20%20%20%20b2GravityController%20%3D%20Box2D.Dynamics.Controllers.b2GravityController%2C%0D%0A%20%20%20%20%20%20b2TensorDampingController%20%3D%0D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2TensorDampingController%3B%0D%0A%0D%0A%20%20%20%20Box2D.inherit(%0D%0A%20%20%20%20%20%20b2BuoyancyController%2C%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0D%0A%20%20%20%20)%3B%0D%0A%20%20%20%20b2BuoyancyController.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0D%0A%20%20%20%20b2BuoyancyController.b2BuoyancyController%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2(0%2C%20-1)%3B%0D%0A%20%20%20%20%20%20this.offset%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.density%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.velocity%20%3D%20new%20b2Vec2(0%2C%200)%3B%0D%0A%20%20%20%20%20%20this.linearDrag%20%3D%202%3B%0D%0A%20%20%20%20%20%20this.angularDrag%20%3D%201%3B%0D%0A%20%20%20%20%20%20this.useDensity%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.useWorldGravity%20%3D%20true%3B%0D%0A%20%20%20%20%20%20this.gravity%20%3D%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2BuoyancyController.prototype.Step%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20if%20(!this.m_bodyList)%20return%3B%0D%0A%20%20%20%20%20%20if%20(this.useWorldGravity)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.gravity%20%3D%20this.GetWorld().GetGravity().Copy()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0D%0A%20%20%20%20%20%20%20%20if%20(body.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20areac%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20var%20massc%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20var%20area%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20var%20mass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20for%20(%0D%0A%20%20%20%20%20%20%20%20%20%20var%20fixture%20%3D%20body.GetFixtureList()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20fixture%3B%0D%0A%20%20%20%20%20%20%20%20%20%20fixture%20%3D%20fixture.GetNext()%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20sc%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20sarea%20%3D%20fixture%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.GetShape()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20.ComputeSubmergedArea(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.normal%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.offset%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20body.GetTransform()%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sc%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20area%20%2B%3D%20sarea%3B%0D%0A%20%20%20%20%20%20%20%20%20%20areac.x%20%2B%3D%20sarea%20*%20sc.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20areac.y%20%2B%3D%20sarea%20*%20sc.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20shapeDensity%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.useDensity)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20shapeDensity%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20shapeDensity%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20mass%20%2B%3D%20sarea%20*%20shapeDensity%3B%0D%0A%20%20%20%20%20%20%20%20%20%20massc.x%20%2B%3D%20sarea%20*%20sc.x%20*%20shapeDensity%3B%0D%0A%20%20%20%20%20%20%20%20%20%20massc.y%20%2B%3D%20sarea%20*%20sc.y%20*%20shapeDensity%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20areac.x%20%2F%3D%20area%3B%0D%0A%20%20%20%20%20%20%20%20areac.y%20%2F%3D%20area%3B%0D%0A%20%20%20%20%20%20%20%20massc.x%20%2F%3D%20mass%3B%0D%0A%20%20%20%20%20%20%20%20massc.y%20%2F%3D%20mass%3B%0D%0A%20%20%20%20%20%20%20%20if%20(area%20%3C%20Number.MIN_VALUE)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20var%20buoyancyForce%20%3D%20this.gravity.GetNegative()%3B%0D%0A%20%20%20%20%20%20%20%20buoyancyForce.Multiply(this.density%20*%20area)%3B%0D%0A%20%20%20%20%20%20%20%20body.ApplyForce(buoyancyForce%2C%20massc)%3B%0D%0A%20%20%20%20%20%20%20%20var%20dragForce%20%3D%20body.GetLinearVelocityFromWorldPoint(areac)%3B%0D%0A%20%20%20%20%20%20%20%20dragForce.Subtract(this.velocity)%3B%0D%0A%20%20%20%20%20%20%20%20dragForce.Multiply(-this.linearDrag%20*%20area)%3B%0D%0A%20%20%20%20%20%20%20%20body.ApplyForce(dragForce%2C%20areac)%3B%0D%0A%20%20%20%20%20%20%20%20body.ApplyTorque(%0D%0A%20%20%20%20%20%20%20%20%20%20(-body.GetInertia()%20%2F%20body.GetMass())%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20area%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetAngularVelocity()%20*%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.angularDrag%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2BuoyancyController.prototype.Draw%20%3D%20function%20(debugDraw)%20%7B%0D%0A%20%20%20%20%20%20var%20r%20%3D%201000%3B%0D%0A%20%20%20%20%20%20var%20p1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20p1.x%20%3D%20this.normal.x%20*%20this.offset%20%2B%20this.normal.y%20*%20r%3B%0D%0A%20%20%20%20%20%20p1.y%20%3D%20this.normal.y%20*%20this.offset%20-%20this.normal.x%20*%20r%3B%0D%0A%20%20%20%20%20%20p2.x%20%3D%20this.normal.x%20*%20this.offset%20-%20this.normal.y%20*%20r%3B%0D%0A%20%20%20%20%20%20p2.y%20%3D%20this.normal.y%20*%20this.offset%20%2B%20this.normal.x%20*%20r%3B%0D%0A%20%20%20%20%20%20var%20color%20%3D%20new%20b2Color(0%2C%200%2C%201)%3B%0D%0A%20%20%20%20%20%20debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(%0D%0A%20%20%20%20%20%20b2ConstantAccelController%2C%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0D%0A%20%20%20%20)%3B%0D%0A%20%20%20%20b2ConstantAccelController.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0D%0A%20%20%20%20b2ConstantAccelController.b2ConstantAccelController%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.A%20%3D%20new%20b2Vec2(0%2C%200)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ConstantAccelController.prototype.Step%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20smallA%20%3D%20new%20b2Vec2(this.A.x%20*%20step.dt%2C%20this.A.y%20*%20step.dt)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!body.IsAwake())%20continue%3B%0D%0A%20%20%20%20%20%20%20%20body.SetLinearVelocity(%0D%0A%20%20%20%20%20%20%20%20%20%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().x%20%2B%20smallA.x%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().y%20%2B%20smallA.y%0D%0A%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(%0D%0A%20%20%20%20%20%20b2ConstantForceController%2C%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0D%0A%20%20%20%20)%3B%0D%0A%20%20%20%20b2ConstantForceController.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0D%0A%20%20%20%20b2ConstantForceController.b2ConstantForceController%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.F%20%3D%20new%20b2Vec2(0%2C%200)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ConstantForceController.prototype.Step%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!body.IsAwake())%20continue%3B%0D%0A%20%20%20%20%20%20%20%20body.ApplyForce(this.F%2C%20body.GetWorldCenter())%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Controller.b2Controller%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.Step%20%3D%20function%20(step)%20%7B%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.Draw%20%3D%20function%20(debugDraw)%20%7B%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.AddBody%20%3D%20function%20(body)%20%7B%0D%0A%20%20%20%20%20%20var%20edge%20%3D%20new%20b2ControllerEdge()%3B%0D%0A%20%20%20%20%20%20edge.controller%20%3D%20this%3B%0D%0A%20%20%20%20%20%20edge.body%20%3D%20body%3B%0D%0A%20%20%20%20%20%20edge.nextBody%20%3D%20this.m_bodyList%3B%0D%0A%20%20%20%20%20%20edge.prevBody%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_bodyList%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20if%20(edge.nextBody)%20edge.nextBody.prevBody%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20this.m_bodyCount%2B%2B%3B%0D%0A%20%20%20%20%20%20edge.nextController%20%3D%20body.m_controllerList%3B%0D%0A%20%20%20%20%20%20edge.prevController%20%3D%20null%3B%0D%0A%20%20%20%20%20%20body.m_controllerList%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20if%20(edge.nextController)%20edge.nextController.prevController%20%3D%20edge%3B%0D%0A%20%20%20%20%20%20body.m_controllerCount%2B%2B%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.RemoveBody%20%3D%20function%20(body)%20%7B%0D%0A%20%20%20%20%20%20var%20edge%20%3D%20body.m_controllerList%3B%0D%0A%20%20%20%20%20%20while%20(edge%20%26%26%20edge.controller%20!%3D%20this)%20edge%20%3D%20edge.nextController%3B%0D%0A%20%20%20%20%20%20if%20(edge.prevBody)%20edge.prevBody.nextBody%20%3D%20edge.nextBody%3B%0D%0A%20%20%20%20%20%20if%20(edge.nextBody)%20edge.nextBody.prevBody%20%3D%20edge.prevBody%3B%0D%0A%20%20%20%20%20%20if%20(edge.nextController)%0D%0A%20%20%20%20%20%20%20%20edge.nextController.prevController%20%3D%20edge.prevController%3B%0D%0A%20%20%20%20%20%20if%20(edge.prevController)%0D%0A%20%20%20%20%20%20%20%20edge.prevController.nextController%20%3D%20edge.nextController%3B%0D%0A%20%20%20%20%20%20if%20(this.m_bodyList%20%3D%3D%20edge)%20this.m_bodyList%20%3D%20edge.nextBody%3B%0D%0A%20%20%20%20%20%20if%20(body.m_controllerList%20%3D%3D%20edge)%0D%0A%20%20%20%20%20%20%20%20body.m_controllerList%20%3D%20edge.nextController%3B%0D%0A%20%20%20%20%20%20body.m_controllerCount--%3B%0D%0A%20%20%20%20%20%20this.m_bodyCount--%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.Clear%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20while%20(this.m_bodyList)%20this.RemoveBody(this.m_bodyList.body)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.GetNext%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_next%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.GetWorld%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_world%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Controller.prototype.GetBodyList%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyList%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2ControllerEdge.b2ControllerEdge%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2GravityController%2C%20Box2D.Dynamics.Controllers.b2Controller)%3B%0D%0A%20%20%20%20b2GravityController.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0D%0A%20%20%20%20b2GravityController.b2GravityController%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.G%20%3D%201%3B%0D%0A%20%20%20%20%20%20this.invSqr%20%3D%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GravityController.prototype.Step%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20i%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20body1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20p1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20mass1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20j%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20body2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20dx%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20dy%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20f%20%3D%20null%3B%0D%0A%20%20%20%20%20%20if%20(this.invSqr)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20body1%20%3D%20i.body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20p1%20%3D%20body1.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20mass1%20%3D%20body1.GetMass()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%20this.m_bodyList%3B%20j%20!%3D%20i%3B%20j%20%3D%20j.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body2%20%3D%20j.body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20p2%20%3D%20body2.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dx%20%3D%20p2.x%20-%20p1.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dy%20%3D%20p2.y%20-%20p1.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20r2%20%3D%20dx%20*%20dx%20%2B%20dy%20*%20dy%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(r2%20%3C%20Number.MIN_VALUE)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f%20%3D%20new%20b2Vec2(dx%2C%20dy)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply((this.G%20%2F%20r2%20%2F%20Math.sqrt(r2))%20*%20mass1%20*%20body2.GetMass())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body1.IsAwake())%20body1.ApplyForce(f%2C%20p1)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply(-1)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body2.IsAwake())%20body2.ApplyForce(f%2C%20p2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20body1%20%3D%20i.body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20p1%20%3D%20body1.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20mass1%20%3D%20body1.GetMass()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%20this.m_bodyList%3B%20j%20!%3D%20i%3B%20j%20%3D%20j.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body2%20%3D%20j.body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20p2%20%3D%20body2.GetWorldCenter()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dx%20%3D%20p2.x%20-%20p1.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dy%20%3D%20p2.y%20-%20p1.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20r2%20%3D%20dx%20*%20dx%20%2B%20dy%20*%20dy%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(r2%20%3C%20Number.MIN_VALUE)%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f%20%3D%20new%20b2Vec2(dx%2C%20dy)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply((this.G%20%2F%20r2)%20*%20mass1%20*%20body2.GetMass())%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body1.IsAwake())%20body1.ApplyForce(f%2C%20p1)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply(-1)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body2.IsAwake())%20body2.ApplyForce(f%2C%20p2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(%0D%0A%20%20%20%20%20%20b2TensorDampingController%2C%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0D%0A%20%20%20%20)%3B%0D%0A%20%20%20%20b2TensorDampingController.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0D%0A%20%20%20%20b2TensorDampingController.b2TensorDampingController%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(%0D%0A%20%20%20%20%20%20%20%20this%2C%0D%0A%20%20%20%20%20%20%20%20arguments%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.T%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.maxTimestep%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2TensorDampingController.prototype.SetAxisAligned%20%3D%20function%20(%0D%0A%20%20%20%20%20%20xDamping%2C%0D%0A%20%20%20%20%20%20yDamping%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(xDamping%20%3D%3D%3D%20undefined)%20xDamping%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(yDamping%20%3D%3D%3D%20undefined)%20yDamping%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.T.col1.x%20%3D%20-xDamping%3B%0D%0A%20%20%20%20%20%20this.T.col1.y%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.T.col2.x%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.T.col2.y%20%3D%20-yDamping%3B%0D%0A%20%20%20%20%20%20if%20(xDamping%20%3E%200%20%7C%7C%20yDamping%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.maxTimestep%20%3D%201%20%2F%20Math.max(xDamping%2C%20yDamping)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.maxTimestep%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2TensorDampingController.prototype.Step%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20timestep%20%3D%20step.dt%3B%0D%0A%20%20%20%20%20%20if%20(timestep%20%3C%3D%20Number.MIN_VALUE)%20return%3B%0D%0A%20%20%20%20%20%20if%20(timestep%20%3E%20this.maxTimestep%20%26%26%20this.maxTimestep%20%3E%200)%0D%0A%20%20%20%20%20%20%20%20timestep%20%3D%20this.maxTimestep%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!body.IsAwake())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20damping%20%3D%20body.GetWorldVector(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.MulMV(this.T%2C%20body.GetLocalVector(body.GetLinearVelocity()))%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20body.SetLinearVelocity(%0D%0A%20%20%20%20%20%20%20%20%20%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().x%20%2B%20damping.x%20*%20timestep%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().y%20%2B%20damping.y%20*%20timestep%0D%0A%20%20%20%20%20%20%20%20%20%20)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0D%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0D%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0D%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0D%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0D%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0D%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0D%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0D%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0D%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0D%0A%20%20%20%20%20%20b2DistanceJoint%20%3D%20Box2D.Dynamics.Joints.b2DistanceJoint%2C%0D%0A%20%20%20%20%20%20b2DistanceJointDef%20%3D%20Box2D.Dynamics.Joints.b2DistanceJointDef%2C%0D%0A%20%20%20%20%20%20b2FrictionJoint%20%3D%20Box2D.Dynamics.Joints.b2FrictionJoint%2C%0D%0A%20%20%20%20%20%20b2FrictionJointDef%20%3D%20Box2D.Dynamics.Joints.b2FrictionJointDef%2C%0D%0A%20%20%20%20%20%20b2GearJoint%20%3D%20Box2D.Dynamics.Joints.b2GearJoint%2C%0D%0A%20%20%20%20%20%20b2GearJointDef%20%3D%20Box2D.Dynamics.Joints.b2GearJointDef%2C%0D%0A%20%20%20%20%20%20b2Jacobian%20%3D%20Box2D.Dynamics.Joints.b2Jacobian%2C%0D%0A%20%20%20%20%20%20b2Joint%20%3D%20Box2D.Dynamics.Joints.b2Joint%2C%0D%0A%20%20%20%20%20%20b2JointDef%20%3D%20Box2D.Dynamics.Joints.b2JointDef%2C%0D%0A%20%20%20%20%20%20b2JointEdge%20%3D%20Box2D.Dynamics.Joints.b2JointEdge%2C%0D%0A%20%20%20%20%20%20b2LineJoint%20%3D%20Box2D.Dynamics.Joints.b2LineJoint%2C%0D%0A%20%20%20%20%20%20b2LineJointDef%20%3D%20Box2D.Dynamics.Joints.b2LineJointDef%2C%0D%0A%20%20%20%20%20%20b2MouseJoint%20%3D%20Box2D.Dynamics.Joints.b2MouseJoint%2C%0D%0A%20%20%20%20%20%20b2MouseJointDef%20%3D%20Box2D.Dynamics.Joints.b2MouseJointDef%2C%0D%0A%20%20%20%20%20%20b2PrismaticJoint%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJoint%2C%0D%0A%20%20%20%20%20%20b2PrismaticJointDef%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJointDef%2C%0D%0A%20%20%20%20%20%20b2PulleyJoint%20%3D%20Box2D.Dynamics.Joints.b2PulleyJoint%2C%0D%0A%20%20%20%20%20%20b2PulleyJointDef%20%3D%20Box2D.Dynamics.Joints.b2PulleyJointDef%2C%0D%0A%20%20%20%20%20%20b2RevoluteJoint%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJoint%2C%0D%0A%20%20%20%20%20%20b2RevoluteJointDef%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJointDef%2C%0D%0A%20%20%20%20%20%20b2WeldJoint%20%3D%20Box2D.Dynamics.Joints.b2WeldJoint%2C%0D%0A%20%20%20%20%20%20b2WeldJointDef%20%3D%20Box2D.Dynamics.Joints.b2WeldJointDef%2C%0D%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0D%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0D%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0D%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0D%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0D%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0D%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0D%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0D%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0D%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0D%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0D%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0D%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0D%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%3B%0D%0A%0D%0A%20%20%20%20Box2D.inherit(b2DistanceJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2DistanceJoint.b2DistanceJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_u%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u.x%2C%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetLength%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_length%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.SetLength%20%3D%20function%20(length)%20%7B%0D%0A%20%20%20%20%20%20if%20(length%20%3D%3D%3D%20undefined)%20length%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_length%20%3D%20length%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetFrequency%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_frequencyHz%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.SetFrequency%20%3D%20function%20(hz)%20%7B%0D%0A%20%20%20%20%20%20if%20(hz%20%3D%3D%3D%20undefined)%20hz%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20hz%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.GetDampingRatio%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_dampingRatio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.SetDampingRatio%20%3D%20function%20(ratio)%20%7B%0D%0A%20%20%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20ratio%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20ratio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.b2DistanceJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_length%20%3D%20def.length%3B%0D%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20def.frequencyHz%3B%0D%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20def.dampingRatio%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_gamma%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_bias%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20this.m_u.x%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20this.m_u.y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(this.m_u.x%20*%20this.m_u.x%20%2B%20this.m_u.y%20*%20this.m_u.y)%3B%0D%0A%20%20%20%20%20%20if%20(length%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_u.Multiply(1.0%20%2F%20length)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_u.SetZero()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20cr1u%20%3D%20r1X%20*%20this.m_u.y%20-%20r1Y%20*%20this.m_u.x%3B%0D%0A%20%20%20%20%20%20var%20cr2u%20%3D%20r2X%20*%20this.m_u.y%20-%20r2Y%20*%20this.m_u.x%3B%0D%0A%20%20%20%20%20%20var%20invMass%20%3D%0D%0A%20%20%20%20%20%20%20%20bA.m_invMass%20%2B%0D%0A%20%20%20%20%20%20%20%20bA.m_invI%20*%20cr1u%20*%20cr1u%20%2B%0D%0A%20%20%20%20%20%20%20%20bB.m_invMass%20%2B%0D%0A%20%20%20%20%20%20%20%20bB.m_invI%20*%20cr2u%20*%20cr2u%3B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20invMass%20!%3D%200.0%20%3F%201.0%20%2F%20invMass%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20if%20(this.m_frequencyHz%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20C%20%3D%20length%20-%20this.m_length%3B%0D%0A%20%20%20%20%20%20%20%20var%20omega%20%3D%202.0%20*%20Math.PI%20*%20this.m_frequencyHz%3B%0D%0A%20%20%20%20%20%20%20%20var%20d%20%3D%202.0%20*%20this.m_mass%20*%20this.m_dampingRatio%20*%20omega%3B%0D%0A%20%20%20%20%20%20%20%20var%20k%20%3D%20this.m_mass%20*%20omega%20*%20omega%3B%0D%0A%20%20%20%20%20%20%20%20this.m_gamma%20%3D%20step.dt%20*%20(d%20%2B%20step.dt%20*%20k)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_gamma%20%3D%20this.m_gamma%20!%3D%200.0%20%3F%201%20%2F%20this.m_gamma%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_bias%20%3D%20C%20*%20step.dt%20*%20k%20*%20this.m_gamma%3B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%20invMass%20%2B%20this.m_gamma%3B%0D%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%20this.m_mass%20!%3D%200.0%20%3F%201.0%20%2F%20this.m_mass%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%20this.m_impulse%20*%20this.m_u.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%20this.m_impulse%20*%20this.m_u.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20bA.m_invMass%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20bA.m_invMass%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20bA.m_invI%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20v1X%20%3D%20bA.m_linearVelocity.x%20%2B%20-bA.m_angularVelocity%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20var%20v1Y%20%3D%20bA.m_linearVelocity.y%20%2B%20bA.m_angularVelocity%20*%20r1X%3B%0D%0A%20%20%20%20%20%20var%20v2X%20%3D%20bB.m_linearVelocity.x%20%2B%20-bB.m_angularVelocity%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20var%20v2Y%20%3D%20bB.m_linearVelocity.y%20%2B%20bB.m_angularVelocity%20*%20r2X%3B%0D%0A%20%20%20%20%20%20var%20Cdot%20%3D%20this.m_u.x%20*%20(v2X%20-%20v1X)%20%2B%20this.m_u.y%20*%20(v2Y%20-%20v1Y)%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%0D%0A%20%20%20%20%20%20%20%20-this.m_mass%20*%20(Cdot%20%2B%20this.m_bias%20%2B%20this.m_gamma%20*%20this.m_impulse)%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%2B%3D%20impulse%3B%0D%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse%20*%20this.m_u.x%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse%20*%20this.m_u.y%3B%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20bA.m_invMass%20*%20PX%3B%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20bA.m_invMass%20*%20PY%3B%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20bA.m_invI%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20PX%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20PY%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20if%20(this.m_frequencyHz%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0D%0A%20%20%20%20%20%20dX%20%2F%3D%20length%3B%0D%0A%20%20%20%20%20%20dY%20%2F%3D%20length%3B%0D%0A%20%20%20%20%20%20var%20C%20%3D%20length%20-%20this.m_length%3B%0D%0A%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20C%2C%0D%0A%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_mass%20*%20C%3B%0D%0A%20%20%20%20%20%20this.m_u.Set(dX%2C%20dY)%3B%0D%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse%20*%20this.m_u.x%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse%20*%20this.m_u.y%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20bA.m_invMass%20*%20PX%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20bA.m_invMass%20*%20PY%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20bA.m_invI%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20PX%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20PY%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX)%3B%0D%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20return%20b2Math.Abs(C)%20%3C%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2DistanceJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2DistanceJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2DistanceJointDef.b2DistanceJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJointDef.prototype.b2DistanceJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_distanceJoint%3B%0D%0A%20%20%20%20%20%20this.length%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.frequencyHz%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.dampingRatio%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DistanceJointDef.prototype.Initialize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20bA%2C%0D%0A%20%20%20%20%20%20bB%2C%0D%0A%20%20%20%20%20%20anchorA%2C%0D%0A%20%20%20%20%20%20anchorB%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchorA))%3B%0D%0A%20%20%20%20%20%20this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchorB))%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20anchorB.x%20-%20anchorA.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20anchorB.y%20-%20anchorA.y%3B%0D%0A%20%20%20%20%20%20this.length%20%3D%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0D%0A%20%20%20%20%20%20this.frequencyHz%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.dampingRatio%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2FrictionJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2FrictionJoint.b2FrictionJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_linearMass%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.m_linearImpulse%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchorA)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchorB)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_linearImpulse.x%2C%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_linearImpulse.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_angularImpulse%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.SetMaxForce%20%3D%20function%20(force)%20%7B%0D%0A%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20force%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20force%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.GetMaxForce%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_maxForce%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.SetMaxTorque%20%3D%20function%20(torque)%20%7B%0D%0A%20%20%20%20%20%20if%20(torque%20%3D%3D%3D%20undefined)%20torque%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_maxTorque%20%3D%20torque%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.GetMaxTorque%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_maxTorque%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.b2FrictionJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorA.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorB.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_linearMass.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_angularMass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_linearImpulse.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_angularImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20def.maxForce%3B%0D%0A%20%20%20%20%20%20this.m_maxTorque%20%3D%20def.maxTorque%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20var%20K%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20K.col1.x%20%3D%20mA%20%2B%20mB%3B%0D%0A%20%20%20%20%20%20K.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20K.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20K.col2.y%20%3D%20mA%20%2B%20mB%3B%0D%0A%20%20%20%20%20%20K.col1.x%20%2B%3D%20iA%20*%20rAY%20*%20rAY%3B%0D%0A%20%20%20%20%20%20K.col2.x%20%2B%3D%20-iA%20*%20rAX%20*%20rAY%3B%0D%0A%20%20%20%20%20%20K.col1.y%20%2B%3D%20-iA%20*%20rAX%20*%20rAY%3B%0D%0A%20%20%20%20%20%20K.col2.y%20%2B%3D%20iA%20*%20rAX%20*%20rAX%3B%0D%0A%20%20%20%20%20%20K.col1.x%20%2B%3D%20iB%20*%20rBY%20*%20rBY%3B%0D%0A%20%20%20%20%20%20K.col2.x%20%2B%3D%20-iB%20*%20rBX%20*%20rBY%3B%0D%0A%20%20%20%20%20%20K.col1.y%20%2B%3D%20-iB%20*%20rBX%20*%20rBY%3B%0D%0A%20%20%20%20%20%20K.col2.y%20%2B%3D%20iB%20*%20rBX%20*%20rBX%3B%0D%0A%20%20%20%20%20%20K.GetInverse(this.m_linearMass)%3B%0D%0A%20%20%20%20%20%20this.m_angularMass%20%3D%20iA%20%2B%20iB%3B%0D%0A%20%20%20%20%20%20if%20(this.m_angularMass%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_angularMass%20%3D%201.0%20%2F%20this.m_angularMass%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.x%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.y%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_angularImpulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20var%20P%20%3D%20this.m_linearImpulse%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20mA%20*%20P.x%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20mA%20*%20P.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20iA%20*%20(rAX%20*%20P.y%20-%20rAY%20*%20P.x%20%2B%20this.m_angularImpulse)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20mB%20*%20P.x%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20mB%20*%20P.y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20iB%20*%20(rBX%20*%20P.y%20-%20rBY%20*%20P.x%20%2B%20this.m_angularImpulse)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_angularImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20vA%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20wA%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20vB%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20wB%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20maxImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%20wB%20-%20wA%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_angularMass%20*%20Cdot%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_angularImpulse%3B%0D%0A%20%20%20%20%20%20%20%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxTorque%3B%0D%0A%20%20%20%20%20%20%20%20this.m_angularImpulse%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_angularImpulse%20%2B%20impulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_angularImpulse%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20wA%20-%3D%20iA%20*%20impulse%3B%0D%0A%20%20%20%20%20%20%20%20wB%20%2B%3D%20iB%20*%20impulse%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20CdotX%20%3D%20vB.x%20-%20wB%20*%20rBY%20-%20vA.x%20%2B%20wA%20*%20rAY%3B%0D%0A%20%20%20%20%20%20%20%20var%20CdotY%20%3D%20vB.y%20%2B%20wB%20*%20rBX%20-%20vA.y%20-%20wA%20*%20rAX%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulseV%20%3D%20b2Math.MulMV(%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_linearMass%2C%0D%0A%20%20%20%20%20%20%20%20%20%20new%20b2Vec2(-CdotX%2C%20-CdotY)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldImpulseV%20%3D%20this.m_linearImpulse.Copy()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.Add(impulseV)%3B%0D%0A%20%20%20%20%20%20%20%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxForce%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_linearImpulse.LengthSquared()%20%3E%20maxImpulse%20*%20maxImpulse)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_linearImpulse.Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_linearImpulse.Multiply(maxImpulse)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20impulseV%20%3D%20b2Math.SubtractVV(this.m_linearImpulse%2C%20oldImpulseV)%3B%0D%0A%20%20%20%20%20%20%20%20vA.x%20-%3D%20mA%20*%20impulseV.x%3B%0D%0A%20%20%20%20%20%20%20%20vA.y%20-%3D%20mA%20*%20impulseV.y%3B%0D%0A%20%20%20%20%20%20%20%20wA%20-%3D%20iA%20*%20(rAX%20*%20impulseV.y%20-%20rAY%20*%20impulseV.x)%3B%0D%0A%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20mB%20*%20impulseV.x%3B%0D%0A%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20mB%20*%20impulseV.y%3B%0D%0A%20%20%20%20%20%20%20%20wB%20%2B%3D%20iB%20*%20(rBX%20*%20impulseV.y%20-%20rBY%20*%20impulseV.x)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20wA%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20wB%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2FrictionJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2FrictionJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2FrictionJointDef.b2FrictionJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJointDef.prototype.b2FrictionJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_frictionJoint%3B%0D%0A%20%20%20%20%20%20this.maxForce%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.maxTorque%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2FrictionJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor)%20%7B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchor))%3B%0D%0A%20%20%20%20%20%20this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchor))%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2GearJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2GearJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2GearJoint.b2GearJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_J%20%3D%20new%20b2Jacobian()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_J.linearB.x%2C%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_J.linearB.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_bodyB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%20this.m_localAnchor1.x%20-%20this.m_bodyB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%20this.m_localAnchor1.y%20-%20this.m_bodyB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0D%0A%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0D%0A%20%20%20%20%20%20rX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20PX%20%3D%20this.m_impulse%20*%20this.m_J.linearB.x%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%20this.m_impulse%20*%20this.m_J.linearB.y%3B%0D%0A%20%20%20%20%20%20return%20inv_dt%20*%20(this.m_impulse%20*%20this.m_J.angularB%20-%20rX%20*%20PY%20%2B%20rY%20*%20PX)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.GetRatio%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_ratio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.SetRatio%20%3D%20function%20(ratio)%20%7B%0D%0A%20%20%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20ratio%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_ratio%20%3D%20ratio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.b2GearJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20var%20type1%20%3D%20parseInt(def.joint1.m_type)%3B%0D%0A%20%20%20%20%20%20var%20type2%20%3D%20parseInt(def.joint2.m_type)%3B%0D%0A%20%20%20%20%20%20this.m_revolute1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_prismatic1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_revolute2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_prismatic2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20var%20coordinate1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20coordinate2%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_ground1%20%3D%20def.joint1.GetBodyA()%3B%0D%0A%20%20%20%20%20%20this.m_bodyA%20%3D%20def.joint1.GetBodyB()%3B%0D%0A%20%20%20%20%20%20if%20(type1%20%3D%3D%20b2Joint.e_revoluteJoint)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_revolute1%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20def.joint1%20instanceof%20b2RevoluteJoint%20%3F%20def.joint1%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_revolute1.GetJointAngle()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_prismatic1%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20def.joint1%20instanceof%20b2PrismaticJoint%20%3F%20def.joint1%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_prismatic1.GetJointTranslation()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_ground2%20%3D%20def.joint2.GetBodyA()%3B%0D%0A%20%20%20%20%20%20this.m_bodyB%20%3D%20def.joint2.GetBodyB()%3B%0D%0A%20%20%20%20%20%20if%20(type2%20%3D%3D%20b2Joint.e_revoluteJoint)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_revolute2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20def.joint2%20instanceof%20b2RevoluteJoint%20%3F%20def.joint2%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_revolute2.GetJointAngle()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_prismatic2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20def.joint2%20instanceof%20b2PrismaticJoint%20%3F%20def.joint2%20%3A%20null%3B%0D%0A%20%20%20%20%20%20%20%20this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_prismatic2.GetJointTranslation()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_ratio%20%3D%20def.ratio%3B%0D%0A%20%20%20%20%20%20this.m_constant%20%3D%20coordinate1%20%2B%20this.m_ratio%20*%20coordinate2%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20g1%20%3D%20this.m_ground1%3B%0D%0A%20%20%20%20%20%20var%20g2%20%3D%20this.m_ground2%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20ugX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20ugY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tVec%3B%0D%0A%20%20%20%20%20%20var%20crug%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20K%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_J.SetZero()%3B%0D%0A%20%20%20%20%20%20if%20(this.m_revolute1)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_J.angularA%20%3D%20-1.0%3B%0D%0A%20%20%20%20%20%20%20%20K%20%2B%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20g1.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_prismatic1.m_localXAxis1%3B%0D%0A%20%20%20%20%20%20%20%20ugX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20ugY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20rX%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20rY%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0D%0A%20%20%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0D%0A%20%20%20%20%20%20%20%20rX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20crug%20%3D%20rX%20*%20ugY%20-%20rY%20*%20ugX%3B%0D%0A%20%20%20%20%20%20%20%20this.m_J.linearA.Set(-ugX%2C%20-ugY)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_J.angularA%20%3D%20-crug%3B%0D%0A%20%20%20%20%20%20%20%20K%20%2B%3D%20bA.m_invMass%20%2B%20bA.m_invI%20*%20crug%20*%20crug%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_revolute2)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_J.angularB%20%3D%20-this.m_ratio%3B%0D%0A%20%20%20%20%20%20%20%20K%20%2B%3D%20this.m_ratio%20*%20this.m_ratio%20*%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20g2.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_prismatic2.m_localXAxis1%3B%0D%0A%20%20%20%20%20%20%20%20ugX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20ugY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20rX%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20rY%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0D%0A%20%20%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0D%0A%20%20%20%20%20%20%20%20rX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20crug%20%3D%20rX%20*%20ugY%20-%20rY%20*%20ugX%3B%0D%0A%20%20%20%20%20%20%20%20this.m_J.linearB.Set(-this.m_ratio%20*%20ugX%2C%20-this.m_ratio%20*%20ugY)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_J.angularB%20%3D%20-this.m_ratio%20*%20crug%3B%0D%0A%20%20%20%20%20%20%20%20K%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_ratio%20*%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_ratio%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(bB.m_invMass%20%2B%20bB.m_invI%20*%20crug%20*%20crug)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20K%20%3E%200.0%20%3F%201.0%20%2F%20K%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20bA.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearA.x%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20bA.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearA.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20this.m_impulse%20*%20this.m_J.angularA%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20bB.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearB.x%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20bB.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearB.y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20this.m_impulse%20*%20this.m_J.angularB%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20Cdot%20%3D%20this.m_J.Compute(%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity%2C%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity%2C%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_mass%20*%20Cdot%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%2B%3D%20impulse%3B%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.x%3B%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.y%3B%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20impulse%20*%20this.m_J.angularA%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.x%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.y%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20impulse%20*%20this.m_J.angularB%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20coordinate1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20coordinate2%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_revolute1)%20%7B%0D%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_revolute1.GetJointAngle()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_prismatic1.GetJointTranslation()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_revolute2)%20%7B%0D%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_revolute2.GetJointAngle()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_prismatic2.GetJointTranslation()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20C%20%3D%20this.m_constant%20-%20(coordinate1%20%2B%20this.m_ratio%20*%20coordinate2)%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_mass%20*%20C%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.c.x%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.x%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.c.y%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.y%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.a%20%2B%3D%20bA.m_invI%20*%20impulse%20*%20this.m_J.angularA%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.x%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.y%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20impulse%20*%20this.m_J.angularB%3B%0D%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20return%20linearError%20%3C%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2GearJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2GearJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2GearJointDef.b2GearJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2GearJointDef.prototype.b2GearJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_gearJoint%3B%0D%0A%20%20%20%20%20%20this.joint1%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.joint2%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.ratio%20%3D%201.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Jacobian.b2Jacobian%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.linearA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.linearB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Jacobian.prototype.SetZero%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.linearA.SetZero()%3B%0D%0A%20%20%20%20%20%20this.angularA%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.linearB.SetZero()%3B%0D%0A%20%20%20%20%20%20this.angularB%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Jacobian.prototype.Set%20%3D%20function%20(x1%2C%20a1%2C%20x2%2C%20a2)%20%7B%0D%0A%20%20%20%20%20%20if%20(a1%20%3D%3D%3D%20undefined)%20a1%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(a2%20%3D%3D%3D%20undefined)%20a2%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.linearA.SetV(x1)%3B%0D%0A%20%20%20%20%20%20this.angularA%20%3D%20a1%3B%0D%0A%20%20%20%20%20%20this.linearB.SetV(x2)%3B%0D%0A%20%20%20%20%20%20this.angularB%20%3D%20a2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Jacobian.prototype.Compute%20%3D%20function%20(x1%2C%20a1%2C%20x2%2C%20a2)%20%7B%0D%0A%20%20%20%20%20%20if%20(a1%20%3D%3D%3D%20undefined)%20a1%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(a2%20%3D%3D%3D%20undefined)%20a2%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20this.linearA.x%20*%20x1.x%20%2B%0D%0A%20%20%20%20%20%20%20%20this.linearA.y%20*%20x1.y%20%2B%0D%0A%20%20%20%20%20%20%20%20this.angularA%20*%20a1%20%2B%0D%0A%20%20%20%20%20%20%20%20(this.linearB.x%20*%20x2.x%20%2B%20this.linearB.y%20*%20x2.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20this.angularB%20*%20a2%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.b2Joint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_edgeA%20%3D%20new%20b2JointEdge()%3B%0D%0A%20%20%20%20%20%20this.m_edgeB%20%3D%20new%20b2JointEdge()%3B%0D%0A%20%20%20%20%20%20this.m_localCenterA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localCenterB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetType%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_type%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetBodyA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetBodyB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetNext%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_next%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.GetUserData%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_userData%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.SetUserData%20%3D%20function%20(data)%20%7B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20data%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.IsActive%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.IsActive()%20%26%26%20this.m_bodyB.IsActive()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.Create%20%3D%20function%20(def%2C%20allocator)%20%7B%0D%0A%20%20%20%20%20%20var%20joint%20%3D%20null%3B%0D%0A%20%20%20%20%20%20switch%20(def.type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_distanceJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2DistanceJoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2DistanceJointDef%20%3F%20def%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_mouseJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2MouseJoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2MouseJointDef%20%3F%20def%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_prismaticJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2PrismaticJoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2PrismaticJointDef%20%3F%20def%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_revoluteJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2RevoluteJoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2RevoluteJointDef%20%3F%20def%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_pulleyJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2PulleyJoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2PulleyJointDef%20%3F%20def%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_gearJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2GearJoint(def%20instanceof%20b2GearJointDef%20%3F%20def%20%3A%20null)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_lineJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2LineJoint(def%20instanceof%20b2LineJointDef%20%3F%20def%20%3A%20null)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_weldJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2WeldJoint(def%20instanceof%20b2WeldJointDef%20%3F%20def%20%3A%20null)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_frictionJoint%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2FrictionJoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2FrictionJointDef%20%3F%20def%20%3A%20null%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20joint%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.Destroy%20%3D%20function%20(joint%2C%20allocator)%20%7B%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.b2Joint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20b2Settings.b2Assert(def.bodyA%20!%3D%20def.bodyB)%3B%0D%0A%20%20%20%20%20%20this.m_type%20%3D%20def.type%3B%0D%0A%20%20%20%20%20%20this.m_prev%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.m_bodyA%20%3D%20def.bodyA%3B%0D%0A%20%20%20%20%20%20this.m_bodyB%20%3D%20def.bodyB%3B%0D%0A%20%20%20%20%20%20this.m_collideConnected%20%3D%20def.collideConnected%3B%0D%0A%20%20%20%20%20%20this.m_islandFlag%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.m_userData%20%3D%20def.userData%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.FinalizeVelocityConstraints%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2Joint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_unknownJoint%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint%20%3D%201%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint%20%3D%202%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_distanceJoint%20%3D%203%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint%20%3D%204%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_mouseJoint%20%3D%205%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_gearJoint%20%3D%206%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_lineJoint%20%3D%207%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_weldJoint%20%3D%208%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_frictionJoint%20%3D%209%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit%20%3D%200%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit%20%3D%201%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit%20%3D%202%3B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_equalLimits%20%3D%203%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20b2JointDef.b2JointDef%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20b2JointDef.prototype.b2JointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_unknownJoint%3B%0D%0A%20%20%20%20%20%20this.userData%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20null%3B%0D%0A%20%20%20%20%20%20this.collideConnected%20%3D%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2JointEdge.b2JointEdge%20%3D%20function%20()%20%7B%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2LineJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2LineJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2LineJoint.b2LineJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localXAxis1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localYAxis1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_axis%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_perp%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_K%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.x)%2C%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.y)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetJointTranslation%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20p1%20%3D%20bA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20bB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p2.x%20-%20p1.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p2.y%20-%20p1.y%3B%0D%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0D%0A%20%20%20%20%20%20var%20translation%20%3D%20axis.x%20*%20dX%20%2B%20axis.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20return%20translation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetJointSpeed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0D%0A%20%20%20%20%20%20var%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0D%0A%20%20%20%20%20%20var%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20speed%20%3D%0D%0A%20%20%20%20%20%20%20%20dX%20*%20(-w1%20*%20axis.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20dY%20*%20(w1%20*%20axis.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20(axis.x%20*%20(v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20axis.y%20*%20(v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X))%3B%0D%0A%20%20%20%20%20%20return%20speed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.IsLimitEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_enableLimit%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.EnableLimit%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetLowerLimit%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_lowerTranslation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetUpperLimit%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_upperTranslation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.SetLimits%20%3D%20function%20(lower%2C%20upper)%20%7B%0D%0A%20%20%20%20%20%20if%20(lower%20%3D%3D%3D%20undefined)%20lower%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(upper%20%3D%3D%3D%20undefined)%20upper%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20lower%3B%0D%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20upper%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.IsMotorEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_enableMotor%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.EnableMotor%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.SetMotorSpeed%20%3D%20function%20(speed)%20%7B%0D%0A%20%20%20%20%20%20if%20(speed%20%3D%3D%3D%20undefined)%20speed%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20speed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetMotorSpeed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_motorSpeed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.SetMaxMotorForce%20%3D%20function%20(force)%20%7B%0D%0A%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20force%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20force%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetMaxMotorForce%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_maxMotorForce%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.GetMotorForce%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_motorImpulse%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.b2LineJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_localXAxis1.SetV(def.localAxisA)%3B%0D%0A%20%20%20%20%20%20this.m_localYAxis1.x%20%3D%20-this.m_localXAxis1.y%3B%0D%0A%20%20%20%20%20%20this.m_localYAxis1.y%20%3D%20this.m_localXAxis1.x%3B%0D%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_motorMass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20def.lowerTranslation%3B%0D%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20def.upperTranslation%3B%0D%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20def.maxMotorForce%3B%0D%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20def.motorSpeed%3B%0D%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20def.enableLimit%3B%0D%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20def.enableMotor%3B%0D%0A%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20this.m_axis.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_perp.SetZero()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_localCenterA.SetV(bA.GetLocalCenter())%3B%0D%0A%20%20%20%20%20%20this.m_localCenterB.SetV(bB.GetLocalCenter())%3B%0D%0A%20%20%20%20%20%20var%20xf1%20%3D%20bA.GetTransform()%3B%0D%0A%20%20%20%20%20%20var%20xf2%20%3D%20bB.GetTransform()%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20this.m_invMassA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20this.m_invMassB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20this.m_invIA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20this.m_invIB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localXAxis1))%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassA%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassB%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invIA%20*%20this.m_a1%20*%20this.m_a1%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invIB%20*%20this.m_a2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_motorMass%20%3E%20Number.MIN_VALUE%20%3F%201.0%20%2F%20this.m_motorMass%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_perp.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localYAxis1))%3B%0D%0A%20%20%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20m1%20%3D%20this.m_invMassA%3B%0D%0A%20%20%20%20%20%20%20%20var%20m2%20%3D%20this.m_invMassB%3B%0D%0A%20%20%20%20%20%20%20%20var%20i1%20%3D%20this.m_invIA%3B%0D%0A%20%20%20%20%20%20%20%20var%20i2%20%3D%20this.m_invIB%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20jointTransition%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0D%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_equalLimits%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3C%3D%20this.m_lowerTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atLowerLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3E%3D%20this.m_upperTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atUpperLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20L1%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s1%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20%20%20var%20L2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s2%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20PX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20L1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20L2%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_equalLimits)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20this.m_motorMass%20*%20(this.m_motorSpeed%20-%20Cdot)%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_motorImpulse%3B%0D%0A%20%20%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxMotorForce%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_motorImpulse%20%2B%20impulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_motorImpulse%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20PX%20%3D%20impulse%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20PY%20%3D%20impulse%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20L1%20%3D%20impulse%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20%20%20L2%20%3D%20impulse%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20Cdot1%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_perp.x%20*%20(v2.x%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20this.m_perp.y%20*%20(v2.y%20-%20v1.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20this.m_s2%20*%20w2%20-%0D%0A%20%20%20%20%20%20%20%20this.m_s1%20*%20w1%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0D%0A%20%20%20%20%20%20%20%20var%20f1%20%3D%20this.m_impulse.Copy()%3B%0D%0A%20%20%20%20%20%20%20%20var%20df%20%3D%20this.m_K.Solve(new%20b2Vec2()%2C%20-Cdot1%2C%20-Cdot2)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.Add(df)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%20b2Math.Max(this.m_impulse.y%2C%200.0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%20b2Math.Min(this.m_impulse.y%2C%200.0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20b%20%3D%20-Cdot1%20-%20(this.m_impulse.y%20-%20f1.y)%20*%20this.m_K.col2.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20f2r%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_K.col1.x%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20f2r%20%3D%20b%20%2F%20this.m_K.col1.x%20%2B%20f1.x%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20f2r%20%3D%20f1.x%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%3D%20f2r%3B%0D%0A%20%20%20%20%20%20%20%20df.x%20%3D%20this.m_impulse.x%20-%20f1.x%3B%0D%0A%20%20%20%20%20%20%20%20df.y%20%3D%20this.m_impulse.y%20-%20f1.y%3B%0D%0A%20%20%20%20%20%20%20%20PX%20%3D%20df.x%20*%20this.m_perp.x%20%2B%20df.y%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20PY%20%3D%20df.x%20*%20this.m_perp.y%20%2B%20df.y%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20L1%20%3D%20df.x%20*%20this.m_s1%20%2B%20df.y%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20%20%20L2%20%3D%20df.x%20*%20this.m_s2%20%2B%20df.y%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20df2%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_K.col1.x%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20df2%20%3D%20-Cdot1%20%2F%20this.m_K.col1.x%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20df2%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20df2%3B%0D%0A%20%20%20%20%20%20%20%20PX%20%3D%20df2%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20%20%20PY%20%3D%20df2%20*%20this.m_perp.y%3B%0D%0A%20%20%20%20%20%20%20%20L1%20%3D%20df2%20*%20this.m_s1%3B%0D%0A%20%20%20%20%20%20%20%20L2%20%3D%20df2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.SetV(v1)%3B%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20w1%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.SetV(v2)%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20w2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20limitC%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20oldLimitImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20c1%20%3D%20bA.m_sweep.c%3B%0D%0A%20%20%20%20%20%20var%20a1%20%3D%20bA.m_sweep.a%3B%0D%0A%20%20%20%20%20%20var%20c2%20%3D%20bB.m_sweep.c%3B%0D%0A%20%20%20%20%20%20var%20a2%20%3D%20bB.m_sweep.a%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20m1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20m2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20angularError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20active%20%3D%20false%3B%0D%0A%20%20%20%20%20%20var%20C2%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20R1%20%3D%20b2Mat22.FromAngle(a1)%3B%0D%0A%20%20%20%20%20%20var%20R2%20%3D%20b2Mat22.FromAngle(a2)%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20R1%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20R2%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20c2.x%20%2B%20r2X%20-%20c1.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20c2.y%20%2B%20r2Y%20-%20c1.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.MulMV(R1%2C%20this.m_localXAxis1)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20translation%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0D%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Abs(translation)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3C%3D%20this.m_lowerTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_lowerTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20this.m_lowerTranslation%20-%20translation%3B%0D%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3E%3D%20this.m_upperTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_upperTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20translation%20-%20this.m_upperTranslation%3B%0D%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_perp%20%3D%20b2Math.MulMV(R1%2C%20this.m_localYAxis1)%3B%0D%0A%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20var%20C1%20%3D%20this.m_perp.x%20*%20dX%20%2B%20this.m_perp.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20b2Math.Abs(C1))%3B%0D%0A%20%20%20%20%20%20angularError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20if%20(active)%20%7B%0D%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0D%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0D%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0D%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.Solve(impulse%2C%20-C1%2C%20-C2)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0D%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0D%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0D%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0D%0A%20%20%20%20%20%20%20%20var%20k11%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulse1%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20if%20(k11%20!%3D%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20impulse1%20%3D%20-C1%20%2F%20k11%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20impulse1%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20impulse.x%20%3D%20impulse1%3B%0D%0A%20%20%20%20%20%20%20%20impulse.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse.x%20*%20this.m_perp.x%20%2B%20impulse.y%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse.x%20*%20this.m_perp.y%20%2B%20impulse.y%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20var%20L1%20%3D%20impulse.x%20*%20this.m_s1%20%2B%20impulse.y%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20var%20L2%20%3D%20impulse.x%20*%20this.m_s2%20%2B%20impulse.y%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20c1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20c1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20a1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20c2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20c2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20a2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.a%20%3D%20a1%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.a%20%3D%20a2%3B%0D%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20linearError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0D%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2LineJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2LineJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2LineJointDef.b2LineJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAxisA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJointDef.prototype.b2LineJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_lineJoint%3B%0D%0A%20%20%20%20%20%20this.localAxisA.Set(1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.enableLimit%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.lowerTranslation%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.upperTranslation%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.enableMotor%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.maxMotorForce%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.motorSpeed%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2LineJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor%2C%20axis)%20%7B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchor)%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchor)%3B%0D%0A%20%20%20%20%20%20this.localAxisA%20%3D%20this.bodyA.GetLocalVector(axis)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2MouseJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2MouseJoint.b2MouseJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.K%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.K1%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.K2%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_target%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.m_C%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_target%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(inv_dt%20*%20this.m_impulse.x%2C%20inv_dt%20*%20this.m_impulse.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetTarget%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_target%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.SetTarget%20%3D%20function%20(target)%20%7B%0D%0A%20%20%20%20%20%20if%20(this.m_bodyB.IsAwake()%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_target%20%3D%20target%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetMaxForce%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_maxForce%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.SetMaxForce%20%3D%20function%20(maxForce)%20%7B%0D%0A%20%20%20%20%20%20if%20(maxForce%20%3D%3D%3D%20undefined)%20maxForce%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20maxForce%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetFrequency%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_frequencyHz%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.SetFrequency%20%3D%20function%20(hz)%20%7B%0D%0A%20%20%20%20%20%20if%20(hz%20%3D%3D%3D%20undefined)%20hz%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20hz%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.GetDampingRatio%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_dampingRatio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.SetDampingRatio%20%3D%20function%20(ratio)%20%7B%0D%0A%20%20%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20ratio%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20ratio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.b2MouseJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20this.m_target.SetV(def.target)%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20this.m_target.x%20-%20this.m_bodyB.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%20this.m_target.y%20-%20this.m_bodyB.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_bodyB.m_xf.R%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor.x%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor.y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0D%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20def.maxForce%3B%0D%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20def.frequencyHz%3B%0D%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20def.dampingRatio%3B%0D%0A%20%20%20%20%20%20this.m_beta%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_gamma%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20b%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20mass%20%3D%20b.GetMass()%3B%0D%0A%20%20%20%20%20%20var%20omega%20%3D%202.0%20*%20Math.PI%20*%20this.m_frequencyHz%3B%0D%0A%20%20%20%20%20%20var%20d%20%3D%202.0%20*%20mass%20*%20this.m_dampingRatio%20*%20omega%3B%0D%0A%20%20%20%20%20%20var%20k%20%3D%20mass%20*%20omega%20*%20omega%3B%0D%0A%20%20%20%20%20%20this.m_gamma%20%3D%20step.dt%20*%20(d%20%2B%20step.dt%20*%20k)%3B%0D%0A%20%20%20%20%20%20this.m_gamma%20%3D%20this.m_gamma%20!%3D%200%20%3F%201%20%2F%20this.m_gamma%20%3A%200.0%3B%0D%0A%20%20%20%20%20%20this.m_beta%20%3D%20step.dt%20*%20k%20*%20this.m_gamma%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20b.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%20this.m_localAnchor.x%20-%20b.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%20this.m_localAnchor.y%20-%20b.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0D%0A%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0D%0A%20%20%20%20%20%20rX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20invMass%20%3D%20b.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20invI%20%3D%20b.m_invI%3B%0D%0A%20%20%20%20%20%20this.K1.col1.x%20%3D%20invMass%3B%0D%0A%20%20%20%20%20%20this.K1.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.K1.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.K1.col2.y%20%3D%20invMass%3B%0D%0A%20%20%20%20%20%20this.K2.col1.x%20%3D%20invI%20*%20rY%20*%20rY%3B%0D%0A%20%20%20%20%20%20this.K2.col2.x%20%3D%20-invI%20*%20rX%20*%20rY%3B%0D%0A%20%20%20%20%20%20this.K2.col1.y%20%3D%20-invI%20*%20rX%20*%20rY%3B%0D%0A%20%20%20%20%20%20this.K2.col2.y%20%3D%20invI%20*%20rX%20*%20rX%3B%0D%0A%20%20%20%20%20%20this.K.SetM(this.K1)%3B%0D%0A%20%20%20%20%20%20this.K.AddM(this.K2)%3B%0D%0A%20%20%20%20%20%20this.K.col1.x%20%2B%3D%20this.m_gamma%3B%0D%0A%20%20%20%20%20%20this.K.col2.y%20%2B%3D%20this.m_gamma%3B%0D%0A%20%20%20%20%20%20this.K.GetInverse(this.m_mass)%3B%0D%0A%20%20%20%20%20%20this.m_C.x%20%3D%20b.m_sweep.c.x%20%2B%20rX%20-%20this.m_target.x%3B%0D%0A%20%20%20%20%20%20this.m_C.y%20%3D%20b.m_sweep.c.y%20%2B%20rY%20-%20this.m_target.y%3B%0D%0A%20%20%20%20%20%20b.m_angularVelocity%20*%3D%200.98%3B%0D%0A%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20b.m_linearVelocity.x%20%2B%3D%20invMass%20*%20this.m_impulse.x%3B%0D%0A%20%20%20%20%20%20b.m_linearVelocity.y%20%2B%3D%20invMass%20*%20this.m_impulse.y%3B%0D%0A%20%20%20%20%20%20b.m_angularVelocity%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20invI%20*%20(rX%20*%20this.m_impulse.y%20-%20rY%20*%20this.m_impulse.x)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20b%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20b.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rX%20%3D%20this.m_localAnchor.x%20-%20b.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rY%20%3D%20this.m_localAnchor.y%20-%20b.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0D%0A%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0D%0A%20%20%20%20%20%20rX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20CdotX%20%3D%20b.m_linearVelocity.x%20%2B%20-b.m_angularVelocity%20*%20rY%3B%0D%0A%20%20%20%20%20%20var%20CdotY%20%3D%20b.m_linearVelocity.y%20%2B%20b.m_angularVelocity%20*%20rX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20this.m_mass%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20CdotX%20%2B%20this.m_beta%20*%20this.m_C.x%20%2B%20this.m_gamma%20*%20this.m_impulse.x%3B%0D%0A%20%20%20%20%20%20tY%20%3D%20CdotY%20%2B%20this.m_beta%20*%20this.m_C.y%20%2B%20this.m_gamma%20*%20this.m_impulse.y%3B%0D%0A%20%20%20%20%20%20var%20impulseX%20%3D%20-(tMat.col1.x%20*%20tX%20%2B%20tMat.col2.x%20*%20tY)%3B%0D%0A%20%20%20%20%20%20var%20impulseY%20%3D%20-(tMat.col1.y%20*%20tX%20%2B%20tMat.col2.y%20*%20tY)%3B%0D%0A%20%20%20%20%20%20var%20oldImpulseX%20%3D%20this.m_impulse.x%3B%0D%0A%20%20%20%20%20%20var%20oldImpulseY%20%3D%20this.m_impulse.y%3B%0D%0A%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20impulseX%3B%0D%0A%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20impulseY%3B%0D%0A%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxForce%3B%0D%0A%20%20%20%20%20%20if%20(this.m_impulse.LengthSquared()%20%3E%20maxImpulse%20*%20maxImpulse)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.Multiply(maxImpulse%20%2F%20this.m_impulse.Length())%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20impulseX%20%3D%20this.m_impulse.x%20-%20oldImpulseX%3B%0D%0A%20%20%20%20%20%20impulseY%20%3D%20this.m_impulse.y%20-%20oldImpulseY%3B%0D%0A%20%20%20%20%20%20b.m_linearVelocity.x%20%2B%3D%20b.m_invMass%20*%20impulseX%3B%0D%0A%20%20%20%20%20%20b.m_linearVelocity.y%20%2B%3D%20b.m_invMass%20*%20impulseY%3B%0D%0A%20%20%20%20%20%20b.m_angularVelocity%20%2B%3D%20b.m_invI%20*%20(rX%20*%20impulseY%20-%20rY%20*%20impulseX)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2MouseJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2MouseJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2MouseJointDef.b2MouseJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.target%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2MouseJointDef.prototype.b2MouseJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_mouseJoint%3B%0D%0A%20%20%20%20%20%20this.maxForce%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.frequencyHz%20%3D%205.0%3B%0D%0A%20%20%20%20%20%20this.dampingRatio%20%3D%200.7%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PrismaticJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2PrismaticJoint.b2PrismaticJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localXAxis1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localYAxis1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_axis%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_perp%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_K%20%3D%20new%20b2Mat33()%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.x)%2C%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.y)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.y%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetJointTranslation%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20p1%20%3D%20bA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20var%20p2%20%3D%20bB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p2.x%20-%20p1.x%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p2.y%20-%20p1.y%3B%0D%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0D%0A%20%20%20%20%20%20var%20translation%20%3D%20axis.x%20*%20dX%20%2B%20axis.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20return%20translation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetJointSpeed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0D%0A%20%20%20%20%20%20var%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0D%0A%20%20%20%20%20%20var%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0D%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20speed%20%3D%0D%0A%20%20%20%20%20%20%20%20dX%20*%20(-w1%20*%20axis.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20dY%20*%20(w1%20*%20axis.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20(axis.x%20*%20(v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20axis.y%20*%20(v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X))%3B%0D%0A%20%20%20%20%20%20return%20speed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.IsLimitEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_enableLimit%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.EnableLimit%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetLowerLimit%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_lowerTranslation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetUpperLimit%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_upperTranslation%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.SetLimits%20%3D%20function%20(lower%2C%20upper)%20%7B%0D%0A%20%20%20%20%20%20if%20(lower%20%3D%3D%3D%20undefined)%20lower%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(upper%20%3D%3D%3D%20undefined)%20upper%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20lower%3B%0D%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20upper%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.IsMotorEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_enableMotor%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.EnableMotor%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.SetMotorSpeed%20%3D%20function%20(speed)%20%7B%0D%0A%20%20%20%20%20%20if%20(speed%20%3D%3D%3D%20undefined)%20speed%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20speed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetMotorSpeed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_motorSpeed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.SetMaxMotorForce%20%3D%20function%20(force)%20%7B%0D%0A%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20force%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20force%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.GetMotorForce%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_motorImpulse%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.b2PrismaticJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_localXAxis1.SetV(def.localAxisA)%3B%0D%0A%20%20%20%20%20%20this.m_localYAxis1.x%20%3D%20-this.m_localXAxis1.y%3B%0D%0A%20%20%20%20%20%20this.m_localYAxis1.y%20%3D%20this.m_localXAxis1.x%3B%0D%0A%20%20%20%20%20%20this.m_refAngle%20%3D%20def.referenceAngle%3B%0D%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_motorMass%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20def.lowerTranslation%3B%0D%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20def.upperTranslation%3B%0D%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20def.maxMotorForce%3B%0D%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20def.motorSpeed%3B%0D%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20def.enableLimit%3B%0D%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20def.enableMotor%3B%0D%0A%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20this.m_axis.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_perp.SetZero()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_localCenterA.SetV(bA.GetLocalCenter())%3B%0D%0A%20%20%20%20%20%20this.m_localCenterB.SetV(bB.GetLocalCenter())%3B%0D%0A%20%20%20%20%20%20var%20xf1%20%3D%20bA.GetTransform()%3B%0D%0A%20%20%20%20%20%20var%20xf2%20%3D%20bB.GetTransform()%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20this.m_invMassA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20this.m_invMassB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20this.m_invIA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20this.m_invIB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_axis.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localXAxis1))%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassA%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassB%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invIA%20*%20this.m_a1%20*%20this.m_a1%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_invIB%20*%20this.m_a2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_motorMass%20%3E%20Number.MIN_VALUE)%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%201.0%20%2F%20this.m_motorMass%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_perp.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localYAxis1))%3B%0D%0A%20%20%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20m1%20%3D%20this.m_invMassA%3B%0D%0A%20%20%20%20%20%20%20%20var%20m2%20%3D%20this.m_invMassB%3B%0D%0A%20%20%20%20%20%20%20%20var%20i1%20%3D%20this.m_invIA%3B%0D%0A%20%20%20%20%20%20%20%20var%20i2%20%3D%20this.m_invIB%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%20i1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.z%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%20i1%20%2B%20i2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.z%20%3D%20i1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col3.x%20%3D%20this.m_K.col1.z%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col3.y%20%3D%20this.m_K.col2.z%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col3.z%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20jointTransition%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0D%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_equalLimits%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3C%3D%20this.m_lowerTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atLowerLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3E%3D%20this.m_upperTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atUpperLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.x%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20L1%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s1%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20%20%20var%20L2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s2%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20PX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20L1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20L2%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_equalLimits)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20this.m_motorMass%20*%20(this.m_motorSpeed%20-%20Cdot)%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_motorImpulse%3B%0D%0A%20%20%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxMotorForce%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_motorImpulse%20%2B%20impulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_motorImpulse%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20PX%20%3D%20impulse%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20PY%20%3D%20impulse%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20L1%20%3D%20impulse%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20%20%20L2%20%3D%20impulse%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20Cdot1X%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_perp.x%20*%20(v2.x%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20this.m_perp.y%20*%20(v2.y%20-%20v1.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20this.m_s2%20*%20w2%20-%0D%0A%20%20%20%20%20%20%20%20this.m_s1%20*%20w1%3B%0D%0A%20%20%20%20%20%20var%20Cdot1Y%20%3D%20w2%20-%20w1%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot2%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0D%0A%20%20%20%20%20%20%20%20var%20f1%20%3D%20this.m_impulse.Copy()%3B%0D%0A%20%20%20%20%20%20%20%20var%20df%20%3D%20this.m_K.Solve33(new%20b2Vec3()%2C%20-Cdot1X%2C%20-Cdot1Y%2C%20-Cdot2)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.Add(df)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%20b2Math.Max(this.m_impulse.z%2C%200.0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%20b2Math.Min(this.m_impulse.z%2C%200.0)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20var%20bX%20%3D%20-Cdot1X%20-%20(this.m_impulse.z%20-%20f1.z)%20*%20this.m_K.col3.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20bY%20%3D%20-Cdot1Y%20-%20(this.m_impulse.z%20-%20f1.z)%20*%20this.m_K.col3.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20f2r%20%3D%20this.m_K.Solve22(new%20b2Vec2()%2C%20bX%2C%20bY)%3B%0D%0A%20%20%20%20%20%20%20%20f2r.x%20%2B%3D%20f1.x%3B%0D%0A%20%20%20%20%20%20%20%20f2r.y%20%2B%3D%20f1.y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%3D%20f2r.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%20f2r.y%3B%0D%0A%20%20%20%20%20%20%20%20df.x%20%3D%20this.m_impulse.x%20-%20f1.x%3B%0D%0A%20%20%20%20%20%20%20%20df.y%20%3D%20this.m_impulse.y%20-%20f1.y%3B%0D%0A%20%20%20%20%20%20%20%20df.z%20%3D%20this.m_impulse.z%20-%20f1.z%3B%0D%0A%20%20%20%20%20%20%20%20PX%20%3D%20df.x%20*%20this.m_perp.x%20%2B%20df.z%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20PY%20%3D%20df.x%20*%20this.m_perp.y%20%2B%20df.z%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20%20%20L1%20%3D%20df.x%20*%20this.m_s1%20%2B%20df.y%20%2B%20df.z%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20%20%20L2%20%3D%20df.x%20*%20this.m_s2%20%2B%20df.y%20%2B%20df.z%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20df2%20%3D%20this.m_K.Solve22(new%20b2Vec2()%2C%20-Cdot1X%2C%20-Cdot1Y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20df2.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20df2.y%3B%0D%0A%20%20%20%20%20%20%20%20PX%20%3D%20df2.x%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20%20%20PY%20%3D%20df2.x%20*%20this.m_perp.y%3B%0D%0A%20%20%20%20%20%20%20%20L1%20%3D%20df2.x%20*%20this.m_s1%20%2B%20df2.y%3B%0D%0A%20%20%20%20%20%20%20%20L2%20%3D%20df2.x%20*%20this.m_s2%20%2B%20df2.y%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.SetV(v1)%3B%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20w1%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.SetV(v2)%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20w2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20limitC%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20oldLimitImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20c1%20%3D%20bA.m_sweep.c%3B%0D%0A%20%20%20%20%20%20var%20a1%20%3D%20bA.m_sweep.a%3B%0D%0A%20%20%20%20%20%20var%20c2%20%3D%20bB.m_sweep.c%3B%0D%0A%20%20%20%20%20%20var%20a2%20%3D%20bB.m_sweep.a%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20m1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20m2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20i2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20angularError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20active%20%3D%20false%3B%0D%0A%20%20%20%20%20%20var%20C2%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20R1%20%3D%20b2Mat22.FromAngle(a1)%3B%0D%0A%20%20%20%20%20%20var%20R2%20%3D%20b2Mat22.FromAngle(a2)%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20R1%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20R2%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20c2.x%20%2B%20r2X%20-%20c1.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20c2.y%20%2B%20r2Y%20-%20c1.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.MulMV(R1%2C%20this.m_localXAxis1)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20translation%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0D%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Abs(translation)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3C%3D%20this.m_lowerTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_lowerTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20this.m_lowerTranslation%20-%20translation%3B%0D%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3E%3D%20this.m_upperTranslation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_upperTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20translation%20-%20this.m_upperTranslation%3B%0D%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_perp%20%3D%20b2Math.MulMV(R1%2C%20this.m_localYAxis1)%3B%0D%0A%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20var%20C1X%20%3D%20this.m_perp.x%20*%20dX%20%2B%20this.m_perp.y%20*%20dY%3B%0D%0A%20%20%20%20%20%20var%20C1Y%20%3D%20a2%20-%20a1%20-%20this.m_refAngle%3B%0D%0A%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20b2Math.Abs(C1X))%3B%0D%0A%20%20%20%20%20%20angularError%20%3D%20b2Math.Abs(C1Y)%3B%0D%0A%20%20%20%20%20%20if%20(active)%20%7B%0D%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0D%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0D%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0D%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%20i1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.z%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%20i1%20%2B%20i2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.z%20%3D%20i1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col3.x%20%3D%20this.m_K.col1.z%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col3.y%20%3D%20this.m_K.col2.z%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col3.z%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.Solve33(impulse%2C%20-C1X%2C%20-C1Y%2C%20-C2)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0D%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0D%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0D%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0D%0A%20%20%20%20%20%20%20%20var%20k11%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20var%20k12%20%3D%20i1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%3B%0D%0A%20%20%20%20%20%20%20%20var%20k22%20%3D%20i1%20%2B%20i2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col1.Set(k11%2C%20k12%2C%200.0)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_K.col2.Set(k12%2C%20k22%2C%200.0)%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulse1%20%3D%20this.m_K.Solve22(new%20b2Vec2()%2C%20-C1X%2C%20-C1Y)%3B%0D%0A%20%20%20%20%20%20%20%20impulse.x%20%3D%20impulse1.x%3B%0D%0A%20%20%20%20%20%20%20%20impulse.y%20%3D%20impulse1.y%3B%0D%0A%20%20%20%20%20%20%20%20impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse.x%20*%20this.m_perp.x%20%2B%20impulse.z%20*%20this.m_axis.x%3B%0D%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse.x%20*%20this.m_perp.y%20%2B%20impulse.z%20*%20this.m_axis.y%3B%0D%0A%20%20%20%20%20%20var%20L1%20%3D%20impulse.x%20*%20this.m_s1%20%2B%20impulse.y%20%2B%20impulse.z%20*%20this.m_a1%3B%0D%0A%20%20%20%20%20%20var%20L2%20%3D%20impulse.x%20*%20this.m_s2%20%2B%20impulse.y%20%2B%20impulse.z%20*%20this.m_a2%3B%0D%0A%20%20%20%20%20%20c1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0D%0A%20%20%20%20%20%20c1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0D%0A%20%20%20%20%20%20a1%20-%3D%20this.m_invIA%20*%20L1%3B%0D%0A%20%20%20%20%20%20c2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0D%0A%20%20%20%20%20%20c2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0D%0A%20%20%20%20%20%20a2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.a%20%3D%20a1%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.a%20%3D%20a2%3B%0D%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20linearError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0D%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PrismaticJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2PrismaticJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2PrismaticJointDef.b2PrismaticJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAxisA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJointDef.prototype.b2PrismaticJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_prismaticJoint%3B%0D%0A%20%20%20%20%20%20this.localAxisA.Set(1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.referenceAngle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.enableLimit%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.lowerTranslation%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.upperTranslation%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.enableMotor%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.maxMotorForce%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.motorSpeed%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PrismaticJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor%2C%20axis)%20%7B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchor)%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchor)%3B%0D%0A%20%20%20%20%20%20this.localAxisA%20%3D%20this.bodyA.GetLocalVector(axis)%3B%0D%0A%20%20%20%20%20%20this.referenceAngle%20%3D%20this.bodyB.GetAngle()%20-%20this.bodyA.GetAngle()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2PulleyJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2PulleyJoint.b2PulleyJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_u1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_u2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u2.x%2C%0D%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u2.y%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetGroundAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20a%20%3D%20this.m_ground.m_xf.position.Copy()%3B%0D%0A%20%20%20%20%20%20a.Add(this.m_groundAnchor1)%3B%0D%0A%20%20%20%20%20%20return%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetGroundAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20a%20%3D%20this.m_ground.m_xf.position.Copy()%3B%0D%0A%20%20%20%20%20%20a.Add(this.m_groundAnchor2)%3B%0D%0A%20%20%20%20%20%20return%20a%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetLength1%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20p%20%3D%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%20%20var%20sX%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor1.x%3B%0D%0A%20%20%20%20%20%20var%20sY%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor1.y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p.x%20-%20sX%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p.y%20-%20sY%3B%0D%0A%20%20%20%20%20%20return%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetLength2%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20var%20p%20%3D%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%20%20var%20sX%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor2.x%3B%0D%0A%20%20%20%20%20%20var%20sY%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor2.y%3B%0D%0A%20%20%20%20%20%20var%20dX%20%3D%20p.x%20-%20sX%3B%0D%0A%20%20%20%20%20%20var%20dY%20%3D%20p.y%20-%20sY%3B%0D%0A%20%20%20%20%20%20return%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.GetRatio%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_ratio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.b2PulleyJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_ground%20%3D%20this.m_bodyA.m_world.m_groundBody%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor1.x%20%3D%0D%0A%20%20%20%20%20%20%20%20def.groundAnchorA.x%20-%20this.m_ground.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor1.y%20%3D%0D%0A%20%20%20%20%20%20%20%20def.groundAnchorA.y%20-%20this.m_ground.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor2.x%20%3D%0D%0A%20%20%20%20%20%20%20%20def.groundAnchorB.x%20-%20this.m_ground.m_xf.position.x%3B%0D%0A%20%20%20%20%20%20this.m_groundAnchor2.y%20%3D%0D%0A%20%20%20%20%20%20%20%20def.groundAnchorB.y%20-%20this.m_ground.m_xf.position.y%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_ratio%20%3D%20def.ratio%3B%0D%0A%20%20%20%20%20%20this.m_constant%20%3D%20def.lengthA%20%2B%20this.m_ratio%20*%20def.lengthB%3B%0D%0A%20%20%20%20%20%20this.m_maxLength1%20%3D%20b2Math.Min(%0D%0A%20%20%20%20%20%20%20%20def.maxLengthA%2C%0D%0A%20%20%20%20%20%20%20%20this.m_constant%20-%20this.m_ratio%20*%20b2PulleyJoint.b2_minPulleyLength%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.m_maxLength2%20%3D%20b2Math.Min(%0D%0A%20%20%20%20%20%20%20%20def.maxLengthB%2C%0D%0A%20%20%20%20%20%20%20%20(this.m_constant%20-%20b2PulleyJoint.b2_minPulleyLength)%20%2F%20this.m_ratio%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_limitImpulse1%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_limitImpulse2%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0D%0A%20%20%20%20%20%20var%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0D%0A%20%20%20%20%20%20var%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0D%0A%20%20%20%20%20%20var%20s1X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor1.x%3B%0D%0A%20%20%20%20%20%20var%20s1Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor1.y%3B%0D%0A%20%20%20%20%20%20var%20s2X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor2.x%3B%0D%0A%20%20%20%20%20%20var%20s2Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor2.y%3B%0D%0A%20%20%20%20%20%20this.m_u1.Set(p1X%20-%20s1X%2C%20p1Y%20-%20s1Y)%3B%0D%0A%20%20%20%20%20%20this.m_u2.Set(p2X%20-%20s2X%2C%20p2Y%20-%20s2Y)%3B%0D%0A%20%20%20%20%20%20var%20length1%20%3D%20this.m_u1.Length()%3B%0D%0A%20%20%20%20%20%20var%20length2%20%3D%20this.m_u2.Length()%3B%0D%0A%20%20%20%20%20%20if%20(length1%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_u1.Multiply(1.0%20%2F%20length1)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_u1.SetZero()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(length2%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_u2.Multiply(1.0%20%2F%20length2)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_u2.SetZero()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20C%20%3D%20this.m_constant%20-%20length1%20-%20this.m_ratio%20*%20length2%3B%0D%0A%20%20%20%20%20%20if%20(C%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_state%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_state%20%3D%20b2Joint.e_atUpperLimit%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(length1%20%3C%20this.m_maxLength1)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState1%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState1%20%3D%20b2Joint.e_atUpperLimit%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(length2%20%3C%20this.m_maxLength2)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState2%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState2%20%3D%20b2Joint.e_atUpperLimit%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20var%20cr1u1%20%3D%20r1X%20*%20this.m_u1.y%20-%20r1Y%20*%20this.m_u1.x%3B%0D%0A%20%20%20%20%20%20var%20cr2u2%20%3D%20r2X%20*%20this.m_u2.y%20-%20r2Y%20*%20this.m_u2.x%3B%0D%0A%20%20%20%20%20%20this.m_limitMass1%20%3D%20bA.m_invMass%20%2B%20bA.m_invI%20*%20cr1u1%20*%20cr1u1%3B%0D%0A%20%20%20%20%20%20this.m_limitMass2%20%3D%20bB.m_invMass%20%2B%20bB.m_invI%20*%20cr2u2%20*%20cr2u2%3B%0D%0A%20%20%20%20%20%20this.m_pulleyMass%20%3D%0D%0A%20%20%20%20%20%20%20%20this.m_limitMass1%20%2B%20this.m_ratio%20*%20this.m_ratio%20*%20this.m_limitMass2%3B%0D%0A%20%20%20%20%20%20this.m_limitMass1%20%3D%201.0%20%2F%20this.m_limitMass1%3B%0D%0A%20%20%20%20%20%20this.m_limitMass2%20%3D%201.0%20%2F%20this.m_limitMass2%3B%0D%0A%20%20%20%20%20%20this.m_pulleyMass%20%3D%201.0%20%2F%20this.m_pulleyMass%3B%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20var%20P1X%20%3D%20(-this.m_impulse%20-%20this.m_limitImpulse1)%20*%20this.m_u1.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20P1Y%20%3D%20(-this.m_impulse%20-%20this.m_limitImpulse1)%20*%20this.m_u1.y%3B%0D%0A%20%20%20%20%20%20%20%20var%20P2X%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(-this.m_ratio%20*%20this.m_impulse%20-%20this.m_limitImpulse2)%20*%20this.m_u2.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20P2Y%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20(-this.m_ratio%20*%20this.m_impulse%20-%20this.m_limitImpulse2)%20*%20this.m_u2.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20P1X%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20P1Y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20P1Y%20-%20r1Y%20*%20P1X)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20P2X%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20P2Y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20P2Y%20-%20r2Y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20v1X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v1Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v2X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v2Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P1X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P1Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P2X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20P2Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20Cdot%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20oldImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_state%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20v1X%20%3D%20bA.m_linearVelocity.x%20%2B%20-bA.m_angularVelocity%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20v1Y%20%3D%20bA.m_linearVelocity.y%20%2B%20bA.m_angularVelocity%20*%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20v2X%20%3D%20bB.m_linearVelocity.x%20%2B%20-bB.m_angularVelocity%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20v2Y%20%3D%20bB.m_linearVelocity.y%20%2B%20bB.m_angularVelocity%20*%20r2X%3B%0D%0A%20%20%20%20%20%20%20%20Cdot%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20-(this.m_u1.x%20*%20v1X%20%2B%20this.m_u1.y%20*%20v1Y)%20-%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_ratio%20*%20(this.m_u2.x%20*%20v2X%20%2B%20this.m_u2.y%20*%20v2Y)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_pulleyMass%20*%20-Cdot%3B%0D%0A%20%20%20%20%20%20%20%20oldImpulse%20%3D%20this.m_impulse%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%20b2Math.Max(0.0%2C%20this.m_impulse%20%2B%20impulse)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_impulse%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20P1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0D%0A%20%20%20%20%20%20%20%20P1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0D%0A%20%20%20%20%20%20%20%20P2X%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.x%3B%0D%0A%20%20%20%20%20%20%20%20P2Y%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20P1X%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20P1Y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20P1Y%20-%20r1Y%20*%20P1X)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20P2X%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20P2Y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20P2Y%20-%20r2Y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_limitState1%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20v1X%20%3D%20bA.m_linearVelocity.x%20%2B%20-bA.m_angularVelocity%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20v1Y%20%3D%20bA.m_linearVelocity.y%20%2B%20bA.m_angularVelocity%20*%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20Cdot%20%3D%20-(this.m_u1.x%20*%20v1X%20%2B%20this.m_u1.y%20*%20v1Y)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass1%20*%20Cdot%3B%0D%0A%20%20%20%20%20%20%20%20oldImpulse%20%3D%20this.m_limitImpulse1%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20%3D%20b2Math.Max(0.0%2C%20this.m_limitImpulse1%20%2B%20impulse)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_limitImpulse1%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20P1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0D%0A%20%20%20%20%20%20%20%20P1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20P1X%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20P1Y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20P1Y%20-%20r1Y%20*%20P1X)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_limitState2%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20v2X%20%3D%20bB.m_linearVelocity.x%20%2B%20-bB.m_angularVelocity%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20v2Y%20%3D%20bB.m_linearVelocity.y%20%2B%20bB.m_angularVelocity%20*%20r2X%3B%0D%0A%20%20%20%20%20%20%20%20Cdot%20%3D%20-(this.m_u2.x%20*%20v2X%20%2B%20this.m_u2.y%20*%20v2Y)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass2%20*%20Cdot%3B%0D%0A%20%20%20%20%20%20%20%20oldImpulse%20%3D%20this.m_limitImpulse2%3B%0D%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20%3D%20b2Math.Max(0.0%2C%20this.m_limitImpulse2%20%2B%20impulse)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_limitImpulse2%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20P2X%20%3D%20-impulse%20*%20this.m_u2.x%3B%0D%0A%20%20%20%20%20%20%20%20P2Y%20%3D%20-impulse%20*%20this.m_u2.y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20P2X%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20P2Y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20P2Y%20-%20r2Y%20*%20P2X)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20s1X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor1.x%3B%0D%0A%20%20%20%20%20%20var%20s1Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor1.y%3B%0D%0A%20%20%20%20%20%20var%20s2X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor2.x%3B%0D%0A%20%20%20%20%20%20var%20s2Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor2.y%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p1X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p1Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p2X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20p2Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20length1%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20length2%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20C%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20oldImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20oldLimitPositionImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20if%20(this.m_state%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0D%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_u1.Set(p1X%20-%20s1X%2C%20p1Y%20-%20s1Y)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_u2.Set(p2X%20-%20s2X%2C%20p2Y%20-%20s2Y)%3B%0D%0A%20%20%20%20%20%20%20%20length1%20%3D%20this.m_u1.Length()%3B%0D%0A%20%20%20%20%20%20%20%20length2%20%3D%20this.m_u2.Length()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(length1%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.Multiply(1.0%20%2F%20length1)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(length2%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.Multiply(1.0%20%2F%20length2)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20C%20%3D%20this.m_constant%20-%20length1%20-%20this.m_ratio%20*%20length2%3B%0D%0A%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20-C)%3B%0D%0A%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_pulleyMass%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20p1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0D%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0D%0A%20%20%20%20%20%20%20%20p2X%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.x%3B%0D%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20%2B%3D%20bA.m_invMass%20*%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20%2B%3D%20bA.m_invMass%20*%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20p1Y%20-%20r1Y%20*%20p1X)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20p2X%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20p2Y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20p2Y%20-%20r2Y%20*%20p2X)%3B%0D%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_limitState1%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_u1.Set(p1X%20-%20s1X%2C%20p1Y%20-%20s1Y)%3B%0D%0A%20%20%20%20%20%20%20%20length1%20%3D%20this.m_u1.Length()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(length1%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.x%20*%3D%201.0%20%2F%20length1%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.y%20*%3D%201.0%20%2F%20length1%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20C%20%3D%20this.m_maxLength1%20-%20length1%3B%0D%0A%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20-C)%3B%0D%0A%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass1%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20p1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0D%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20%2B%3D%20bA.m_invMass%20*%20p1X%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20%2B%3D%20bA.m_invMass%20*%20p1Y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20p1Y%20-%20r1Y%20*%20p1X)%3B%0D%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_limitState2%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0D%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20this.m_u2.Set(p2X%20-%20s2X%2C%20p2Y%20-%20s2Y)%3B%0D%0A%20%20%20%20%20%20%20%20length2%20%3D%20this.m_u2.Length()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(length2%20%3E%20b2Settings.b2_linearSlop)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.x%20*%3D%201.0%20%2F%20length2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.y%20*%3D%201.0%20%2F%20length2%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20C%20%3D%20this.m_maxLength2%20-%20length2%3B%0D%0A%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20-C)%3B%0D%0A%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_linearSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass2%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20p2X%20%3D%20-impulse%20*%20this.m_u2.x%3B%0D%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20-impulse%20*%20this.m_u2.y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20p2X%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20p2Y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20p2Y%20-%20r2Y%20*%20p2X)%3B%0D%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20linearError%20%3C%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength%20%3D%202.0%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Box2D.inherit(b2PulleyJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2PulleyJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2PulleyJointDef.b2PulleyJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.groundAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.groundAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJointDef.prototype.b2PulleyJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_pulleyJoint%3B%0D%0A%20%20%20%20%20%20this.groundAnchorA.Set(-1.0%2C%201.0)%3B%0D%0A%20%20%20%20%20%20this.groundAnchorB.Set(1.0%2C%201.0)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA.Set(-1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.localAnchorB.Set(1.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.lengthA%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.maxLengthA%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.lengthB%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.maxLengthB%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.ratio%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.collideConnected%20%3D%20true%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2PulleyJointDef.prototype.Initialize%20%3D%20function%20(%0D%0A%20%20%20%20%20%20bA%2C%0D%0A%20%20%20%20%20%20bB%2C%0D%0A%20%20%20%20%20%20gaA%2C%0D%0A%20%20%20%20%20%20gaB%2C%0D%0A%20%20%20%20%20%20anchorA%2C%0D%0A%20%20%20%20%20%20anchorB%2C%0D%0A%20%20%20%20%20%20r%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(r%20%3D%3D%3D%20undefined)%20r%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.groundAnchorA.SetV(gaA)%3B%0D%0A%20%20%20%20%20%20this.groundAnchorB.SetV(gaB)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchorA)%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchorB)%3B%0D%0A%20%20%20%20%20%20var%20d1X%20%3D%20anchorA.x%20-%20gaA.x%3B%0D%0A%20%20%20%20%20%20var%20d1Y%20%3D%20anchorA.y%20-%20gaA.y%3B%0D%0A%20%20%20%20%20%20this.lengthA%20%3D%20Math.sqrt(d1X%20*%20d1X%20%2B%20d1Y%20*%20d1Y)%3B%0D%0A%20%20%20%20%20%20var%20d2X%20%3D%20anchorB.x%20-%20gaB.x%3B%0D%0A%20%20%20%20%20%20var%20d2Y%20%3D%20anchorB.y%20-%20gaB.y%3B%0D%0A%20%20%20%20%20%20this.lengthB%20%3D%20Math.sqrt(d2X%20*%20d2X%20%2B%20d2Y%20*%20d2Y)%3B%0D%0A%20%20%20%20%20%20this.ratio%20%3D%20r%3B%0D%0A%20%20%20%20%20%20var%20C%20%3D%20this.lengthA%20%2B%20this.ratio%20*%20this.lengthB%3B%0D%0A%20%20%20%20%20%20this.maxLengthA%20%3D%20C%20-%20this.ratio%20*%20b2PulleyJoint.b2_minPulleyLength%3B%0D%0A%20%20%20%20%20%20this.maxLengthB%20%3D%20(C%20-%20b2PulleyJoint.b2_minPulleyLength)%20%2F%20this.ratio%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2RevoluteJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2RevoluteJoint.b2RevoluteJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.K%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.K1%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.K2%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.K3%20%3D%20new%20b2Mat22()%3B%0D%0A%20%20%20%20%20%20this.impulse3%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.impulse2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.reduced%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat33()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(inv_dt%20*%20this.m_impulse.x%2C%20inv_dt%20*%20this.m_impulse.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetJointAngle%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20this.m_bodyB.m_sweep.a%20-%20this.m_bodyA.m_sweep.a%20-%20this.m_referenceAngle%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetJointSpeed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.m_angularVelocity%20-%20this.m_bodyA.m_angularVelocity%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.IsLimitEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_enableLimit%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.EnableLimit%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetLowerLimit%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_lowerAngle%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetUpperLimit%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_upperAngle%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.SetLimits%20%3D%20function%20(lower%2C%20upper)%20%7B%0D%0A%20%20%20%20%20%20if%20(lower%20%3D%3D%3D%20undefined)%20lower%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(upper%20%3D%3D%3D%20undefined)%20upper%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_lowerAngle%20%3D%20lower%3B%0D%0A%20%20%20%20%20%20this.m_upperAngle%20%3D%20upper%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.IsMotorEnabled%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20return%20this.m_enableMotor%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.EnableMotor%20%3D%20function%20(flag)%20%7B%0D%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20flag%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.SetMotorSpeed%20%3D%20function%20(speed)%20%7B%0D%0A%20%20%20%20%20%20if%20(speed%20%3D%3D%3D%20undefined)%20speed%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20speed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetMotorSpeed%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_motorSpeed%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.SetMaxMotorTorque%20%3D%20function%20(torque)%20%7B%0D%0A%20%20%20%20%20%20if%20(torque%20%3D%3D%3D%20undefined)%20torque%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_maxMotorTorque%20%3D%20torque%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.GetMotorTorque%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_maxMotorTorque%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.b2RevoluteJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_referenceAngle%20%3D%20def.referenceAngle%3B%0D%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.m_lowerAngle%20%3D%20def.lowerAngle%3B%0D%0A%20%20%20%20%20%20this.m_upperAngle%20%3D%20def.upperAngle%3B%0D%0A%20%20%20%20%20%20this.m_maxMotorTorque%20%3D%20def.maxMotorTorque%3B%0D%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20def.motorSpeed%3B%0D%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20def.enableLimit%3B%0D%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20def.enableMotor%3B%0D%0A%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%7C%7C%20this.m_enableLimit)%20%7B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20m1%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20m2%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20i1%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20i2%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.x%20%3D%20m1%20%2B%20m2%20%2B%20r1Y%20*%20r1Y%20*%20i1%20%2B%20r2Y%20*%20r2Y%20*%20i2%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.x%20%3D%20-r1Y%20*%20r1X%20*%20i1%20-%20r2Y%20*%20r2X%20*%20i2%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.x%20%3D%20-r1Y%20*%20i1%20-%20r2Y%20*%20i2%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.y%20%3D%20this.m_mass.col2.x%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.y%20%3D%20m1%20%2B%20m2%20%2B%20r1X%20*%20r1X%20*%20i1%20%2B%20r2X%20*%20r2X%20*%20i2%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.y%20%3D%20r1X%20*%20i1%20%2B%20r2X%20*%20i2%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.z%20%3D%20this.m_mass.col3.x%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.z%20%3D%20this.m_mass.col3.y%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.z%20%3D%20i1%20%2B%20i2%3B%0D%0A%20%20%20%20%20%20this.m_motorMass%20%3D%201.0%20%2F%20(i1%20%2B%20i2)%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20jointAngle%20%3D%20bB.m_sweep.a%20-%20bA.m_sweep.a%20-%20this.m_referenceAngle%3B%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperAngle%20-%20this.m_lowerAngle)%20%3C%0D%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_angularSlop%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_equalLimits%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointAngle%20%3C%3D%20this.m_lowerAngle)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atLowerLimit%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointAngle%20%3E%3D%20this.m_upperAngle)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atUpperLimit%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%20this.m_impulse.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%20this.m_impulse.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20m1%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20m1%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX%20%2B%20this.m_motorImpulse%20%2B%20this.m_impulse.z)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20m2%20*%20PX%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20m2%20*%20PY%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i2%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX%20%2B%20this.m_motorImpulse%20%2B%20this.m_impulse.z)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20newImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r1X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r1Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r2X%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20r2Y%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20m1%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20m2%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20i1%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20i2%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_equalLimits)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%20w2%20-%20w1%20-%20this.m_motorSpeed%3B%0D%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20this.m_motorMass%20*%20-Cdot%3B%0D%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_motorImpulse%3B%0D%0A%20%20%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxMotorTorque%3B%0D%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_motorImpulse%20%2B%20impulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0D%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_motorImpulse%20-%20oldImpulse%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20i1%20*%20impulse%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20i2%20*%20impulse%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot1X%20%3D%20v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot1Y%20%3D%20v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20Cdot2%20%3D%20w2%20-%20w1%3B%0D%0A%20%20%20%20%20%20%20%20this.m_mass.Solve33(this.impulse3%2C%20-Cdot1X%2C%20-Cdot1Y%2C%20-Cdot2)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_equalLimits)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.Add(this.impulse3)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20this.m_impulse.z%20%2B%20this.impulse3.z%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(newImpulse%20%3C%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_mass.Solve22(this.reduced%2C%20-Cdot1X%2C%20-Cdot1Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.x%20%3D%20this.reduced.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.y%20%3D%20this.reduced.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.z%20%3D%20-this.m_impulse.z%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20this.reduced.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20this.reduced.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20this.m_impulse.z%20%2B%20this.impulse3.z%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(newImpulse%20%3E%200.0)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_mass.Solve22(this.reduced%2C%20-Cdot1X%2C%20-Cdot1Y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.x%20%3D%20this.reduced.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.y%20%3D%20this.reduced.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.z%20%3D%20-this.m_impulse.z%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20this.reduced.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20this.reduced.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20m1%20*%20this.impulse3.x%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20m1%20*%20this.impulse3.y%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(r1X%20*%20this.impulse3.y%20-%20r1Y%20*%20this.impulse3.x%20%2B%20this.impulse3.z)%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20m2%20*%20this.impulse3.x%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20m2%20*%20this.impulse3.y%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20i2%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(r2X%20*%20this.impulse3.y%20-%20r2Y%20*%20this.impulse3.x%20%2B%20this.impulse3.z)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20var%20CdotX%20%3D%20v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20CdotY%20%3D%20v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20this.m_mass.Solve22(this.impulse2%2C%20-CdotX%2C%20-CdotY)%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20this.impulse2.x%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20this.impulse2.y%3B%0D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20m1%20*%20this.impulse2.x%3B%0D%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20m1%20*%20this.impulse2.y%3B%0D%0A%20%20%20%20%20%20%20%20w1%20-%3D%20i1%20*%20(r1X%20*%20this.impulse2.y%20-%20r1Y%20*%20this.impulse2.x)%3B%0D%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20m2%20*%20this.impulse2.x%3B%0D%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20m2%20*%20this.impulse2.y%3B%0D%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20i2%20*%20(r2X%20*%20this.impulse2.y%20-%20r2Y%20*%20this.impulse2.x)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20bA.m_linearVelocity.SetV(v1)%3B%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20w1%3B%0D%0A%20%20%20%20%20%20bB.m_linearVelocity.SetV(v2)%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20w2%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20oldLimitImpulse%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20C%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20angularError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20positionError%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20impulseX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20impulseY%20%3D%200%3B%0D%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20angle%20%3D%20bB.m_sweep.a%20-%20bA.m_sweep.a%20-%20this.m_referenceAngle%3B%0D%0A%20%20%20%20%20%20%20%20var%20limitImpulse%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_equalLimits)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20angle%20-%20this.m_lowerAngle%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxAngularCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxAngularCorrection%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20limitImpulse%20%3D%20-this.m_motorMass%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20%20%20angularError%20%3D%20b2Math.Abs(C)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20angle%20-%20this.m_lowerAngle%3B%0D%0A%20%20%20%20%20%20%20%20%20%20angularError%20%3D%20-C%3B%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_angularSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxAngularCorrection%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20limitImpulse%20%3D%20-this.m_motorMass%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20angle%20-%20this.m_upperAngle%3B%0D%0A%20%20%20%20%20%20%20%20%20%20angularError%20%3D%20C%3B%0D%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20C%20-%20b2Settings.b2_angularSlop%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxAngularCorrection%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20limitImpulse%20%3D%20-this.m_motorMass%20*%20C%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20bA.m_invI%20*%20limitImpulse%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20limitImpulse%3B%0D%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20%20%20var%20CX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20var%20CY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20var%20CLengthSquared%20%3D%20CX%20*%20CX%20%2B%20CY%20*%20CY%3B%0D%0A%20%20%20%20%20%20%20%20var%20CLength%20%3D%20Math.sqrt(CLengthSquared)%3B%0D%0A%20%20%20%20%20%20%20%20positionError%20%3D%20CLength%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMass1%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invMass2%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20%20%20var%20invI1%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20invI2%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20%20%20var%20k_allowedStretch%20%3D%2010.0%20*%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%20%20%20%20if%20(CLengthSquared%20%3E%20k_allowedStretch%20*%20k_allowedStretch)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20uX%20%3D%20CX%20%2F%20CLength%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20uY%20%3D%20CY%20%2F%20CLength%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k%20%3D%20invMass1%20%2B%20invMass2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20m%20%3D%201.0%20%2F%20k%3B%0D%0A%20%20%20%20%20%20%20%20%20%20impulseX%20%3D%20m%20*%20-CX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20impulseY%20%3D%20m%20*%20-CY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20var%20k_beta%20%3D%200.5%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20k_beta%20*%20invMass1%20*%20impulseX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20k_beta%20*%20invMass1%20*%20impulseY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20k_beta%20*%20invMass2%20*%20impulseX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20k_beta%20*%20invMass2%20*%20impulseY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20CX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20%20%20CY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20this.K1.col1.x%20%3D%20invMass1%20%2B%20invMass2%3B%0D%0A%20%20%20%20%20%20%20%20this.K1.col2.x%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.K1.col1.y%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20%20%20this.K1.col2.y%20%3D%20invMass1%20%2B%20invMass2%3B%0D%0A%20%20%20%20%20%20%20%20this.K2.col1.x%20%3D%20invI1%20*%20r1Y%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20this.K2.col2.x%20%3D%20-invI1%20*%20r1X%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20this.K2.col1.y%20%3D%20-invI1%20*%20r1X%20*%20r1Y%3B%0D%0A%20%20%20%20%20%20%20%20this.K2.col2.y%20%3D%20invI1%20*%20r1X%20*%20r1X%3B%0D%0A%20%20%20%20%20%20%20%20this.K3.col1.x%20%3D%20invI2%20*%20r2Y%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20this.K3.col2.x%20%3D%20-invI2%20*%20r2X%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20this.K3.col1.y%20%3D%20-invI2%20*%20r2X%20*%20r2Y%3B%0D%0A%20%20%20%20%20%20%20%20this.K3.col2.y%20%3D%20invI2%20*%20r2X%20*%20r2X%3B%0D%0A%20%20%20%20%20%20%20%20this.K.SetM(this.K1)%3B%0D%0A%20%20%20%20%20%20%20%20this.K.AddM(this.K2)%3B%0D%0A%20%20%20%20%20%20%20%20this.K.AddM(this.K3)%3B%0D%0A%20%20%20%20%20%20%20%20this.K.Solve(b2RevoluteJoint.tImpulse%2C%20-CX%2C%20-CY)%3B%0D%0A%20%20%20%20%20%20%20%20impulseX%20%3D%20b2RevoluteJoint.tImpulse.x%3B%0D%0A%20%20%20%20%20%20%20%20impulseY%20%3D%20b2RevoluteJoint.tImpulse.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20bA.m_invMass%20*%20impulseX%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20bA.m_invMass%20*%20impulseY%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20bA.m_invI%20*%20(r1X%20*%20impulseY%20-%20r1Y%20*%20impulseX)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20impulseX%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20impulseY%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20impulseY%20-%20r2Y%20*%20impulseX)%3B%0D%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20positionError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0D%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2RevoluteJoint.tImpulse%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20Box2D.inherit(b2RevoluteJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2RevoluteJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2RevoluteJointDef.b2RevoluteJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJointDef.prototype.b2RevoluteJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_revoluteJoint%3B%0D%0A%20%20%20%20%20%20this.localAnchorA.Set(0.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.localAnchorB.Set(0.0%2C%200.0)%3B%0D%0A%20%20%20%20%20%20this.referenceAngle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.lowerAngle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.upperAngle%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.maxMotorTorque%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.motorSpeed%20%3D%200.0%3B%0D%0A%20%20%20%20%20%20this.enableLimit%20%3D%20false%3B%0D%0A%20%20%20%20%20%20this.enableMotor%20%3D%20false%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2RevoluteJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor)%20%7B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchor)%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchor)%3B%0D%0A%20%20%20%20%20%20this.referenceAngle%20%3D%20this.bodyB.GetAngle()%20-%20this.bodyA.GetAngle()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2WeldJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0D%0A%20%20%20%20b2WeldJoint.b2WeldJoint%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat33()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchorA)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchorB)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20new%20b2Vec2(inv_dt%20*%20this.m_impulse.x%2C%20inv_dt%20*%20this.m_impulse.y)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0D%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0D%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.z%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.b2WeldJoint%20%3D%20function%20(def)%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorA.SetV(def.localAnchorA)%3B%0D%0A%20%20%20%20%20%20this.m_localAnchorB.SetV(def.localAnchorB)%3B%0D%0A%20%20%20%20%20%20this.m_referenceAngle%20%3D%20def.referenceAngle%3B%0D%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat33()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.x%20%3D%20mA%20%2B%20mB%20%2B%20rAY%20*%20rAY%20*%20iA%20%2B%20rBY%20*%20rBY%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.x%20%3D%20-rAY%20*%20rAX%20*%20iA%20-%20rBY%20*%20rBX%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.x%20%3D%20-rAY%20*%20iA%20-%20rBY%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.y%20%3D%20this.m_mass.col2.x%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.y%20%3D%20mA%20%2B%20mB%20%2B%20rAX%20*%20rAX%20*%20iA%20%2B%20rBX%20*%20rBX%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.y%20%3D%20rAX%20*%20iA%20%2B%20rBX%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.z%20%3D%20this.m_mass.col3.x%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.z%20%3D%20this.m_mass.col3.y%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.z%20%3D%20iA%20%2B%20iB%3B%0D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.z%20*%3D%20step.dtRatio%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20mA%20*%20this.m_impulse.x%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20mA%20*%20this.m_impulse.y%3B%0D%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%0D%0A%20%20%20%20%20%20%20%20%20%20iA%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(rAX%20*%20this.m_impulse.y%20-%20rAY%20*%20this.m_impulse.x%20%2B%20this.m_impulse.z)%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20mB%20*%20this.m_impulse.x%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20mB%20*%20this.m_impulse.y%3B%0D%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%0D%0A%20%20%20%20%20%20%20%20%20%20iB%20*%0D%0A%20%20%20%20%20%20%20%20%20%20(rBX%20*%20this.m_impulse.y%20-%20rBY%20*%20this.m_impulse.x%20%2B%20this.m_impulse.z)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20var%20vA%20%3D%20bA.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20wA%20%3D%20bA.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20vB%20%3D%20bB.m_linearVelocity%3B%0D%0A%20%20%20%20%20%20var%20wB%20%3D%20bB.m_angularVelocity%3B%0D%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20Cdot1X%20%3D%20vB.x%20-%20wB%20*%20rBY%20-%20vA.x%20%2B%20wA%20*%20rAY%3B%0D%0A%20%20%20%20%20%20var%20Cdot1Y%20%3D%20vB.y%20%2B%20wB%20*%20rBX%20-%20vA.y%20-%20wA%20*%20rAX%3B%0D%0A%20%20%20%20%20%20var%20Cdot2%20%3D%20wB%20-%20wA%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.m_mass.Solve33(impulse%2C%20-Cdot1X%2C%20-Cdot1Y%2C%20-Cdot2)%3B%0D%0A%20%20%20%20%20%20this.m_impulse.Add(impulse)%3B%0D%0A%20%20%20%20%20%20vA.x%20-%3D%20mA%20*%20impulse.x%3B%0D%0A%20%20%20%20%20%20vA.y%20-%3D%20mA%20*%20impulse.y%3B%0D%0A%20%20%20%20%20%20wA%20-%3D%20iA%20*%20(rAX%20*%20impulse.y%20-%20rAY%20*%20impulse.x%20%2B%20impulse.z)%3B%0D%0A%20%20%20%20%20%20vB.x%20%2B%3D%20mB%20*%20impulse.x%3B%0D%0A%20%20%20%20%20%20vB.y%20%2B%3D%20mB%20*%20impulse.y%3B%0D%0A%20%20%20%20%20%20wB%20%2B%3D%20iB%20*%20(rBX%20*%20impulse.y%20-%20rBY%20*%20impulse.x%20%2B%20impulse.z)%3B%0D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20wA%3B%0D%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20wB%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0D%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20tMat%3B%0D%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0D%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0D%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0D%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0D%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0D%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0D%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0D%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0D%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0D%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0D%0A%20%20%20%20%20%20var%20C1X%20%3D%20bB.m_sweep.c.x%20%2B%20rBX%20-%20bA.m_sweep.c.x%20-%20rAX%3B%0D%0A%20%20%20%20%20%20var%20C1Y%20%3D%20bB.m_sweep.c.y%20%2B%20rBY%20-%20bA.m_sweep.c.y%20-%20rAY%3B%0D%0A%20%20%20%20%20%20var%20C2%20%3D%20bB.m_sweep.a%20-%20bA.m_sweep.a%20-%20this.m_referenceAngle%3B%0D%0A%20%20%20%20%20%20var%20k_allowedStretch%20%3D%2010.0%20*%20b2Settings.b2_linearSlop%3B%0D%0A%20%20%20%20%20%20var%20positionError%20%3D%20Math.sqrt(C1X%20*%20C1X%20%2B%20C1Y%20*%20C1Y)%3B%0D%0A%20%20%20%20%20%20var%20angularError%20%3D%20b2Math.Abs(C2)%3B%0D%0A%20%20%20%20%20%20if%20(positionError%20%3E%20k_allowedStretch)%20%7B%0D%0A%20%20%20%20%20%20%20%20iA%20*%3D%201.0%3B%0D%0A%20%20%20%20%20%20%20%20iB%20*%3D%201.0%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20this.m_mass.col1.x%20%3D%20mA%20%2B%20mB%20%2B%20rAY%20*%20rAY%20*%20iA%20%2B%20rBY%20*%20rBY%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.x%20%3D%20-rAY%20*%20rAX%20*%20iA%20-%20rBY%20*%20rBX%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.x%20%3D%20-rAY%20*%20iA%20-%20rBY%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.y%20%3D%20this.m_mass.col2.x%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.y%20%3D%20mA%20%2B%20mB%20%2B%20rAX%20*%20rAX%20*%20iA%20%2B%20rBX%20*%20rBX%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.y%20%3D%20rAX%20*%20iA%20%2B%20rBX%20*%20iB%3B%0D%0A%20%20%20%20%20%20this.m_mass.col1.z%20%3D%20this.m_mass.col3.x%3B%0D%0A%20%20%20%20%20%20this.m_mass.col2.z%20%3D%20this.m_mass.col3.y%3B%0D%0A%20%20%20%20%20%20this.m_mass.col3.z%20%3D%20iA%20%2B%20iB%3B%0D%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec3()%3B%0D%0A%20%20%20%20%20%20this.m_mass.Solve33(impulse%2C%20-C1X%2C%20-C1Y%2C%20-C2)%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20mA%20*%20impulse.x%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20mA%20*%20impulse.y%3B%0D%0A%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20iA%20*%20(rAX%20*%20impulse.y%20-%20rAY%20*%20impulse.x%20%2B%20impulse.z)%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20mB%20*%20impulse.x%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20mB%20*%20impulse.y%3B%0D%0A%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20iB%20*%20(rBX%20*%20impulse.y%20-%20rBY%20*%20impulse.x%20%2B%20impulse.z)%3B%0D%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20positionError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0D%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20Box2D.inherit(b2WeldJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0D%0A%20%20%20%20b2WeldJointDef.prototype.__super%20%3D%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0D%0A%20%20%20%20b2WeldJointDef.b2WeldJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0D%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJointDef.prototype.b2WeldJointDef%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0D%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_weldJoint%3B%0D%0A%20%20%20%20%20%20this.referenceAngle%20%3D%200.0%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2WeldJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor)%20%7B%0D%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0D%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0D%0A%20%20%20%20%20%20this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchor))%3B%0D%0A%20%20%20%20%20%20this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchor))%3B%0D%0A%20%20%20%20%20%20this.referenceAngle%20%3D%20this.bodyB.GetAngle()%20-%20this.bodyA.GetAngle()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20(function%20()%20%7B%0D%0A%20%20%20%20var%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%3B%0D%0A%20%20%20%20b2DebugDraw.b2DebugDraw%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_drawScale%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.m_lineThickness%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.m_alpha%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.m_fillAlpha%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20this.m_xformScale%20%3D%201.0%3B%0D%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0D%0A%20%20%20%20%20%20%2F%2F%23WORKAROUND%0D%0A%20%20%20%20%20%20this.m_sprite%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20graphics%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20clear%3A%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20__this.m_ctx.clearRect(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20__this.m_ctx.canvas.width%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20__this.m_ctx.canvas.height%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype._color%20%3D%20function%20(color%2C%20alpha)%20%7B%0D%0A%20%20%20%20%20%20return%20(%0D%0A%20%20%20%20%20%20%20%20%22rgba(%22%20%2B%0D%0A%20%20%20%20%20%20%20%20((color%20%26%200xff0000)%20%3E%3E%2016)%20%2B%0D%0A%20%20%20%20%20%20%20%20%22%2C%22%20%2B%0D%0A%20%20%20%20%20%20%20%20((color%20%26%200xff00)%20%3E%3E%208)%20%2B%0D%0A%20%20%20%20%20%20%20%20%22%2C%22%20%2B%0D%0A%20%20%20%20%20%20%20%20(color%20%26%200xff)%20%2B%0D%0A%20%20%20%20%20%20%20%20%22%2C%22%20%2B%0D%0A%20%20%20%20%20%20%20%20alpha%20%2B%0D%0A%20%20%20%20%20%20%20%20%22)%22%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.b2DebugDraw%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20this.m_drawFlags%20%3D%200%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetFlags%20%3D%20function%20(flags)%20%7B%0D%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_drawFlags%20%3D%20flags%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetFlags%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_drawFlags%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.AppendFlags%20%3D%20function%20(flags)%20%7B%0D%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_drawFlags%20%7C%3D%20flags%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.ClearFlags%20%3D%20function%20(flags)%20%7B%0D%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_drawFlags%20%26%3D%20~flags%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetSprite%20%3D%20function%20(sprite)%20%7B%0D%0A%20%20%20%20%20%20this.m_ctx%20%3D%20sprite%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetSprite%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_ctx%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetDrawScale%20%3D%20function%20(drawScale)%20%7B%0D%0A%20%20%20%20%20%20if%20(drawScale%20%3D%3D%3D%20undefined)%20drawScale%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_drawScale%20%3D%20drawScale%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetDrawScale%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_drawScale%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetLineThickness%20%3D%20function%20(lineThickness)%20%7B%0D%0A%20%20%20%20%20%20if%20(lineThickness%20%3D%3D%3D%20undefined)%20lineThickness%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_lineThickness%20%3D%20lineThickness%3B%0D%0A%20%20%20%20%20%20this.m_ctx.strokeWidth%20%3D%20lineThickness%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetLineThickness%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_lineThickness%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetAlpha%20%3D%20function%20(alpha)%20%7B%0D%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_alpha%20%3D%20alpha%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetAlpha%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_alpha%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetFillAlpha%20%3D%20function%20(alpha)%20%7B%0D%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_fillAlpha%20%3D%20alpha%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetFillAlpha%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_fillAlpha%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.SetXFormScale%20%3D%20function%20(xformScale)%20%7B%0D%0A%20%20%20%20%20%20if%20(xformScale%20%3D%3D%3D%20undefined)%20xformScale%20%3D%200%3B%0D%0A%20%20%20%20%20%20this.m_xformScale%20%3D%20xformScale%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.GetXFormScale%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20%20%20return%20this.m_xformScale%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawPolygon%20%3D%20function%20(%0D%0A%20%20%20%20%20%20vertices%2C%0D%0A%20%20%20%20%20%20vertexCount%2C%0D%0A%20%20%20%20%20%20color%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(!vertexCount)%20return%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%3B%0D%0A%20%20%20%20%20%20var%20drawScale%20%3D%20this.m_drawScale%3B%0D%0A%20%20%20%20%20%20s.beginPath()%3B%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.moveTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20vertexCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20s.lineTo(vertices%5Bi%5D.x%20*%20drawScale%2C%20vertices%5Bi%5D.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20s.lineTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20s.closePath()%3B%0D%0A%20%20%20%20%20%20s.stroke()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidPolygon%20%3D%20function%20(%0D%0A%20%20%20%20%20%20vertices%2C%0D%0A%20%20%20%20%20%20vertexCount%2C%0D%0A%20%20%20%20%20%20color%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(!vertexCount)%20return%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%3B%0D%0A%20%20%20%20%20%20var%20drawScale%20%3D%20this.m_drawScale%3B%0D%0A%20%20%20%20%20%20s.beginPath()%3B%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.fillStyle%20%3D%20this._color(color.color%2C%20this.m_fillAlpha)%3B%0D%0A%20%20%20%20%20%20s.moveTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20vertexCount%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20s.lineTo(vertices%5Bi%5D.x%20*%20drawScale%2C%20vertices%5Bi%5D.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20s.lineTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20s.closePath()%3B%0D%0A%20%20%20%20%20%20s.fill()%3B%0D%0A%20%20%20%20%20%20s.stroke()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawCircle%20%3D%20function%20(center%2C%20radius%2C%20color)%20%7B%0D%0A%20%20%20%20%20%20if%20(!radius)%20return%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%3B%0D%0A%20%20%20%20%20%20var%20drawScale%20%3D%20this.m_drawScale%3B%0D%0A%20%20%20%20%20%20s.beginPath()%3B%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.arc(%0D%0A%20%20%20%20%20%20%20%20center.x%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%20center.y%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%20radius%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20Math.PI%20*%202%2C%0D%0A%20%20%20%20%20%20%20%20true%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20s.closePath()%3B%0D%0A%20%20%20%20%20%20s.stroke()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidCircle%20%3D%20function%20(%0D%0A%20%20%20%20%20%20center%2C%0D%0A%20%20%20%20%20%20radius%2C%0D%0A%20%20%20%20%20%20axis%2C%0D%0A%20%20%20%20%20%20color%0D%0A%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20if%20(!radius)%20return%3B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%2C%0D%0A%20%20%20%20%20%20%20%20drawScale%20%3D%20this.m_drawScale%2C%0D%0A%20%20%20%20%20%20%20%20cx%20%3D%20center.x%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%20cy%20%3D%20center.y%20*%20drawScale%3B%0D%0A%20%20%20%20%20%20s.moveTo(0%2C%200)%3B%0D%0A%20%20%20%20%20%20s.beginPath()%3B%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.fillStyle%20%3D%20this._color(color.color%2C%20this.m_fillAlpha)%3B%0D%0A%20%20%20%20%20%20s.arc(cx%2C%20cy%2C%20radius%20*%20drawScale%2C%200%2C%20Math.PI%20*%202%2C%20true)%3B%0D%0A%20%20%20%20%20%20s.moveTo(cx%2C%20cy)%3B%0D%0A%20%20%20%20%20%20s.lineTo(%0D%0A%20%20%20%20%20%20%20%20(center.x%20%2B%20axis.x%20*%20radius)%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%20(center.y%20%2B%20axis.y%20*%20radius)%20*%20drawScale%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20s.closePath()%3B%0D%0A%20%20%20%20%20%20s.fill()%3B%0D%0A%20%20%20%20%20%20s.stroke()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawSegment%20%3D%20function%20(p1%2C%20p2%2C%20color)%20%7B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%2C%0D%0A%20%20%20%20%20%20%20%20drawScale%20%3D%20this.m_drawScale%3B%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.beginPath()%3B%0D%0A%20%20%20%20%20%20s.moveTo(p1.x%20*%20drawScale%2C%20p1.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20s.lineTo(p2.x%20*%20drawScale%2C%20p2.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20s.closePath()%3B%0D%0A%20%20%20%20%20%20s.stroke()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%20%20b2DebugDraw.prototype.DrawTransform%20%3D%20function%20(xf)%20%7B%0D%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%2C%0D%0A%20%20%20%20%20%20%20%20drawScale%20%3D%20this.m_drawScale%3B%0D%0A%20%20%20%20%20%20s.beginPath()%3B%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(0xff0000%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.moveTo(xf.position.x%20*%20drawScale%2C%20xf.position.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20s.lineTo(%0D%0A%20%20%20%20%20%20%20%20(xf.position.x%20%2B%20this.m_xformScale%20*%20xf.R.col1.x)%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%20(xf.position.y%20%2B%20this.m_xformScale%20*%20xf.R.col1.y)%20*%20drawScale%0D%0A%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(0xff00%2C%20this.m_alpha)%3B%0D%0A%20%20%20%20%20%20s.moveTo(xf.position.x%20*%20drawScale%2C%20xf.position.y%20*%20drawScale)%3B%0D%0A%20%20%20%20%20%20s.lineTo(%0D%0A%20%20%20%20%20%20%20%20(xf.position.x%20%2B%20this.m_xformScale%20*%20xf.R.col2.x)%20*%20drawScale%2C%0D%0A%20%20%20%20%20%20%20%20(xf.position.y%20%2B%20this.m_xformScale%20*%20xf.R.col2.y)%20*%20drawScale%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20s.closePath()%3B%0D%0A%20%20%20%20%20%20s.stroke()%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D)()%3B%0D%0A%20%20var%20i%3B%0D%0A%20%20for%20(i%20%3D%200%3B%20i%20%3C%20Box2D.postDefs.length%3B%20%2B%2Bi)%20Box2D.postDefs%5Bi%5D()%3B%0D%0A%0D%0A%20%20const%20ArgumentType%20%3D%20Scratch.ArgumentType%3B%0D%0A%20%20const%20BlockType%20%3D%20Scratch.BlockType%3B%0D%0A%20%20%2F%2F%20const%20MathUtil%20%3D%20require('..%2F..%2Futil%2Fmath-util')%3B%0D%0A%20%20%2F%2F%20const%20Clone%20%3D%20require('..%2F..%2Futil%2Fclone')%3B%0D%0A%20%20const%20Cast%20%3D%20%7B%0D%0A%20%20%20%20toNumber%3A%20(n)%20%3D%3E%20%2Bn%20%7C%7C%200%2C%0D%0A%20%20%7D%3B%0D%0A%20%20%2F%2F%20const%20Cast%20%3D%20require('..%2F..%2Futil%2Fcast')%3B%0D%0A%20%20%2F%2F%20const%20Runtime%20%3D%20require('..%2F..%2Fengine%2Fruntime')%3B%0D%0A%20%20%2F%2F%20const%20RenderedTarget%20%3D%20require('..%2F..%2Fsprites%2Frendered-target')%3B%0D%0A%20%20%2F%2F%20const%20MathUtil%20%3D%20require('..%2F..%2Futil%2Fmath-util')%3B%0D%0A%20%20%2F%2F%20const%20Timer%20%3D%20require('..%2F..%2Futil%2Ftimer')%3B%0D%0A%20%20%2F%2F%20const%20Matter%20%3D%20require('matterJs%2Fmatter')%3B%0D%0A%20%20%2F%2F%20const%20Matter%20%3D%20require('matter-js')%3B%0D%0A%20%20const%20ROTATION_STYLE_ALL_AROUND%20%3D%20%22all%20around%22%3B%0D%0A%0D%0A%20%20%2F%2F%20const%20Box2D%20%3D%20require('.%2FBox2d.min').box2d%3B%0D%0A%0D%0A%20%20%2F%2F%20window.decomp%20%3D%20require('poly-decomp')%3B%0D%0A%0D%0A%20%20const%20b2World%20%3D%20Box2D.Dynamics.b2World%3B%0D%0A%20%20const%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%3B%0D%0A%20%20const%20b2AABB%20%3D%20Box2D.Collision.b2AABB%3B%0D%0A%20%20const%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%3B%0D%0A%20%20const%20b2Body%20%3D%20Box2D.Dynamics.b2Body%3B%0D%0A%20%20const%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%3B%0D%0A%20%20%2F%2F%20const%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%3B%0D%0A%20%20%2F%2F%20const%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%3B%0D%0A%20%20const%20b2Contact%20%3D%20Box2D.Dynamics.Contacts.b2Contact%3B%0D%0A%20%20%2F%2F%20const%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%3B%0D%0A%20%20const%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%3B%0D%0A%20%20const%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%3B%0D%0A%20%20%2F%2F%20const%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%3B%0D%0A%20%20const%20b2MouseJointDef%20%3D%20Box2D.Dynamics.Joints.b2MouseJointDef%3B%0D%0A%20%20const%20b2Math%20%3D%20Box2D.Common.Math.b2Math%3B%0D%0A%0D%0A%20%20let%20world%3B%0D%0A%20%20let%20zoom%3B%0D%0A%0D%0A%20%20const%20fixDef%20%3D%20new%20b2FixtureDef()%3B%0D%0A%20%20const%20bodyDef%20%3D%20new%20b2BodyDef()%3B%0D%0A%0D%0A%20%20%2F%2F%20const%20uid_seq%20%3D%200%3B%0D%0A%20%20%2F%2F%20let%20ujidSeq%20%3D%200%3B%0D%0A%0D%0A%20%20const%20prevPos%20%3D%20%7B%7D%3B%0D%0A%20%20%2F**%0D%0A%20%20%20*%20Active%20b2Body%2Fs%20in%20the%20world.%0D%0A%20%20%20*%20%40type%20%7BObject.%3Cstring%2C*%3E%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20bodies%20%3D%20%7B%7D%3B%0D%0A%20%20%2F%2F%20const%20joints%20%3D%20%7B%7D%3B%0D%0A%20%20const%20pinned%20%3D%20%7B%7D%3B%20%2F%2F%20Map%20of%20IDs%20to%20pinned%20joints%0D%0A%20%20%2F**%0D%0A%20%20%20*%20The%20runtime%20instantiating%20this%20block%20package.%0D%0A%20%20%20*%20%40type%20%7BArray%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20stageBodies%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%2F%2F%20const%20categorySeq%20%3D%201%3B%0D%0A%20%20%2F%2F%20const%20categories%20%3D%20%7Bdefault%3A%201%7D%3B%0D%0A%0D%0A%20%20const%20bodyCategoryBits%20%3D%201%3B%0D%0A%20%20const%20bodyMaskBits%20%3D%201%3B%0D%0A%20%20%2F%2F%20const%20noCollideSeq%20%3D%200%3B%0D%0A%0D%0A%20%20const%20toRad%20%3D%20Math.PI%20%2F%20180%3B%0D%0A%0D%0A%20%20%2F%2F%20Used%20to%20record%20the%20scroll%20position%20of%20all%20sprites%0D%0A%20%20const%20_scroll%20%3D%20new%20b2Vec2(0%2C%200)%3B%0D%0A%0D%0A%20%20const%20STAGE_TYPE_OPTIONS%20%3D%20%7B%0D%0A%20%20%20%20BOXED%3A%20%22boxed%22%2C%0D%0A%20%20%20%20FLOOR%3A%20%22floor%22%2C%0D%0A%20%20%20%20OPEN%3A%20%22open%22%2C%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20SPACE_TYPE_OPTIONS%20%3D%20%7B%0D%0A%20%20%20%20WORLD%3A%20%22world%22%2C%0D%0A%20%20%20%20STAGE%3A%20%22stage%22%2C%0D%0A%20%20%20%20RELATIVE%3A%20%22relative%22%2C%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20WHERE_TYPE_OPTIONS%20%3D%20%7B%0D%0A%20%20%20%20ANY%3A%20%22any%22%2C%0D%0A%20%20%20%20FEET%3A%20%22feet%22%2C%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20SHAPE_TYPE_OPTIONS%20%3D%20%7B%0D%0A%20%20%20%20COSTUME%3A%20%22costume%22%2C%0D%0A%20%20%20%20CIRCLE%3A%20%22circle%22%2C%0D%0A%20%20%20%20SVG_POLYGON%3A%20%22svg%22%2C%0D%0A%20%20%20%20ALL%3A%20%22all%22%2C%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20_definePolyFromHull%20%3D%20function%20(hullPoints)%20%7B%0D%0A%20%20%20%20fixDef.shape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%0D%0A%20%20%20%20const%20vertices%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%20%20let%20prev%20%3D%20null%3B%0D%0A%20%20%20%20for%20(let%20i%20%3D%20hullPoints.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20hullPoints.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20const%20b2Vec%20%3D%20new%20b2Vec2(hullPoints%5Bi%5D.x%20%2F%20zoom%2C%20hullPoints%5Bi%5D.y%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20prev%20!%3D%3D%20null%20%26%26%0D%0A%20%20%20%20%20%20%20%20b2Math.SubtractVV(b2Vec%2C%20prev).LengthSquared()%20%3E%20Number.MIN_VALUE%0D%0A%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20vertices.push(b2Vec)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20prev%20%3D%20b2Vec%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fixDef.shape.SetAsArray(vertices)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20_placeBody%20%3D%20function%20(id%2C%20x%2C%20y%2C%20dir)%20%7B%0D%0A%20%20%20%20if%20(bodies%5Bid%5D)%20%7B%0D%0A%20%20%20%20%20%20world.DestroyBody(bodies%5Bid%5D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fixDef.filter.categoryBits%20%3D%20bodyCategoryBits%3B%0D%0A%20%20%20%20fixDef.filter.maskBits%20%3D%20bodyMaskBits%3B%0D%0A%0D%0A%20%20%20%20bodyDef.position.x%20%3D%20(x%20%2B%20_scroll.x)%20%2F%20zoom%3B%0D%0A%20%20%20%20bodyDef.position.y%20%3D%20(y%20%2B%20_scroll.y)%20%2F%20zoom%3B%0D%0A%20%20%20%20bodyDef.angle%20%3D%20(90%20-%20dir)%20*%20toRad%3B%0D%0A%0D%0A%20%20%20%20const%20body%20%3D%20world.CreateBody(bodyDef)%3B%0D%0A%20%20%20%20body.uid%20%3D%20id%3B%0D%0A%20%20%20%20body.CreateFixture(fixDef)%3B%0D%0A%20%20%20%20bodies%5Bid%5D%20%3D%20body%3B%0D%0A%20%20%20%20return%20body%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20_removeBody%20%3D%20function%20(id)%20%7B%0D%0A%20%20%20%20if%20(!bodies%5Bid%5D)%20return%3B%0D%0A%0D%0A%20%20%20%20world.DestroyBody(bodies%5Bid%5D)%3B%0D%0A%20%20%20%20delete%20bodies%5Bid%5D%3B%0D%0A%20%20%20%20delete%20prevPos%5Bid%5D%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20_applyForce%20%3D%20function%20(id%2C%20ftype%2C%20x%2C%20y%2C%20dir%2C%20pow)%20%7B%0D%0A%20%20%20%20const%20body%20%3D%20bodies%5Bid%5D%3B%0D%0A%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20dir%20%3D%20(90%20-%20dir)%20*%20toRad%3B%0D%0A%0D%0A%20%20%20%20if%20(ftype%20%3D%3D%3D%20%22Impulse%22)%20%7B%0D%0A%20%20%20%20%20%20const%20center%20%3D%20body.GetLocalCenter()%3B%20%2F%2F%20get%20the%20mass%20data%20from%20you%20body%0D%0A%0D%0A%20%20%20%20%20%20body.ApplyImpulse(%0D%0A%20%20%20%20%20%20%20%20%7B%20x%3A%20pow%20*%20Math.cos(dir)%2C%20y%3A%20pow%20*%20Math.sin(dir)%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20body.GetWorldPoint(%7B%20x%3A%20x%20%2F%20zoom%20%2B%20center.x%2C%20y%3A%20y%20%2F%20zoom%20%2B%20center.y%20%7D)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%20else%20if%20(ftype%20%3D%3D%3D%20%22World%20Impulse%22)%20%7B%0D%0A%20%20%20%20%20%20body.ApplyForce(%0D%0A%20%20%20%20%20%20%20%20%7B%20x%3A%20pow%20*%20Math.cos(dir)%2C%20y%3A%20pow%20*%20Math.sin(dir)%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F%2F%20%5B''%2C%20'Define%20Spring%20Length%3A%20%25n%20Damping%3A%20%25n%20%20Freq%3A%20%25n'%2C%20'_defineSpring'%2C%20100%2C%200.5%2C%208%5D%2C%0D%0A%20%20const%20defSpring%20%3D%20%7B%20len%3A%20100%2C%20damp%3A%200.7%2C%20freq%3A%205%20%7D%3B%0D%0A%20%20const%20_defineSpring%20%3D%20function%20(len%2C%20damp%2C%20freq)%20%7B%0D%0A%20%20%20%20defSpring.len%20%3D%20len%20%3C%200.1%20%3F%200.1%20%3A%20len%20%2F%20zoom%3B%0D%0A%20%20%20%20defSpring.damp%20%3D%20damp%20%3C%200%20%3F%200.7%20%3A%20damp%3B%0D%0A%20%20%20%20defSpring.freq%20%3D%20freq%20%3E%200%20%3F%20freq%20%3A%205%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20_createJointOfType%20%3D%20function%20(%0D%0A%20%20%20%20jName%2C%0D%0A%20%20%20%20typ%2C%0D%0A%20%20%20%20bodyID%2C%0D%0A%20%20%20%20x%2C%0D%0A%20%20%20%20y%2C%0D%0A%20%20%20%20bodyID2%2C%0D%0A%20%20%20%20x2%2C%0D%0A%20%20%20%20y2%0D%0A%20%20)%20%7B%0D%0A%20%20%20%20%2F%2F%20if%20(jName.length%20%3E%200)%20ext.destroyJoint(jName)%3B%0D%0A%0D%0A%20%20%20%20if%20(!bodyID)%20bodyID%20%3D%20null%3B%0D%0A%20%20%20%20if%20(!bodyID2)%20bodyID2%20%3D%20null%3B%0D%0A%20%20%20%20if%20(!bodyID%20%26%26%20!bodyID2)%20%7B%0D%0A%20%20%20%20%20%20return%20null%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20const%20body%20%3D%20bodyID%20%3F%20bodies%5BbodyID%5D%20%3A%20world.GetGroundBody()%3B%0D%0A%20%20%20%20const%20body2%20%3D%20bodyID2%20%3F%20bodies%5BbodyID2%5D%20%3A%20world.GetGroundBody()%3B%0D%0A%0D%0A%20%20%20%20if%20(!body%20%7C%7C%20!body2)%20return%20null%3B%0D%0A%0D%0A%20%20%20%20let%20md%3B%0D%0A%20%20%20%20switch%20(typ)%20%7B%0D%0A%20%20%20%20%20%20case%20%22Spring%22%3A%0D%0A%20%20%20%20%20%20%20%20md%20%3D%20new%20Box2D.Dynamics.Joints.b2DistanceJointDef()%3B%0D%0A%20%20%20%20%20%20%20%20md.length%20%3D%20defSpring.len%3B%0D%0A%20%20%20%20%20%20%20%20md.dampingRatio%20%3D%20defSpring.damp%3B%0D%0A%20%20%20%20%20%20%20%20md.frequencyHz%20%3D%20defSpring.freq%3B%0D%0A%20%20%20%20%20%20%20%20md.bodyA%20%3D%20body%3B%0D%0A%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body2%3B%0D%0A%20%20%20%20%20%20%20%20md.localAnchorA%20%3D%20%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20%7B%20x%3A%20x2%20%2F%20zoom%2C%20y%3A%20y2%20%2F%20zoom%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22Rotating%22%3A%0D%0A%20%20%20%20%20%20%20%20md%20%3D%20new%20Box2D.Dynamics.Joints.b2RevoluteJointDef()%3B%0D%0A%20%20%20%20%20%20%20%20md.bodyA%20%3D%20body%3B%0D%0A%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body2%3B%0D%0A%20%20%20%20%20%20%20%20md.localAnchorA%20%3D%20%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(x2%20%3D%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(body2)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20body2.GetLocalPoint(body.GetPosition())%3B%20%2F%2F%20Wheel%20Type%20Joint...%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20body.GetWorldPoint(%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20%7B%20x%3A%20x2%20%2F%20zoom%2C%20y%3A%20y2%20%2F%20zoom%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%0D%0A%20%20%20%20%20%20case%20%22Mouse%22%3A%0D%0A%20%20%20%20%20%20%20%20md%20%3D%20new%20b2MouseJointDef()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(bodyID)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body%3B%0D%0A%20%20%20%20%20%20%20%20%20%20md.target.Set(x%20%2F%20zoom%2C%20y%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body2%3B%0D%0A%20%20%20%20%20%20%20%20%20%20md.target.Set(x2%20%2F%20zoom%2C%20y2%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20md.bodyA%20%3D%20world.GetGroundBody()%3B%0D%0A%20%20%20%20%20%20%20%20md.collideConnected%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20md.maxForce%20%3D%20300.0%20*%20body.GetMass()%3B%0D%0A%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20md.collideConnected%20%3D%20true%3B%0D%0A%20%20%20%20%2F%2F%20md.maxForce%20%3D%20300.0%20*%20body.GetMass()%3B%0D%0A%20%20%20%20const%20joint%20%3D%20world.CreateJoint(md)%3B%0D%0A%20%20%20%20if%20(bodyID)%20%7B%0D%0A%20%20%20%20%20%20body.SetAwake(true)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(bodyID2)%20%7B%0D%0A%20%20%20%20%20%20body2.SetAwake(true)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20if%20(!jName)%20%7B%0D%0A%20%20%20%20%2F%2F%20%20%20%20%20ujidSeq%2B%2B%3B%0D%0A%20%20%20%20%2F%2F%20%20%20%20%20jName%20%3D%20%60_%24%7BujidSeq%7D%60%3B%0D%0A%20%20%20%20%2F%2F%20%7D%0D%0A%20%20%20%20%2F%2F%20joints%5BjName%5D%20%3D%20joint%3B%0D%0A%20%20%20%20return%20joint%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20Set%20the%20X%20and%20Y%20coordinates%20(No%20Fencing)%0D%0A%20%20%20*%20%40param%20%7B!RenderedTarget%7D%20rt%20the%20renderedTarget.%0D%0A%20%20%20*%20%40param%20%7B!number%7D%20x%20New%20X%20coordinate%2C%20in%20Scratch%20coordinates.%0D%0A%20%20%20*%20%40param%20%7B!number%7D%20y%20New%20Y%20coordinate%2C%20in%20Scratch%20coordinates.%0D%0A%20%20%20*%20%40param%20%7B%3Fboolean%7D%20force%20Force%20setting%20X%2FY%2C%20in%20case%20of%20dragging%0D%0A%20%20%20*%2F%0D%0A%20%20const%20_setXY%20%3D%20function%20(rt%2C%20x%2C%20y%2C%20force)%20%7B%0D%0A%20%20%20%20if%20(rt.isStage)%20return%3B%0D%0A%20%20%20%20if%20(rt.dragging%20%26%26%20!force)%20return%3B%0D%0A%20%20%20%20const%20oldX%20%3D%20rt.x%3B%0D%0A%20%20%20%20const%20oldY%20%3D%20rt.y%3B%0D%0A%20%20%20%20if%20(rt.renderer)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20const%20position%20%3D%20rt.renderer.getFencedPositionOfDrawable(rt.drawableID%2C%20%5Bx%2C%20y%5D)%3B%0D%0A%20%20%20%20%20%20rt.x%20%3D%20x%3B%20%2F%2F%20position%5B0%5D%3B%0D%0A%20%20%20%20%20%20rt.y%20%3D%20y%3B%20%2F%2F%20position%5B1%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20rt.renderer.updateDrawableProperties(rt.drawableID%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20position%3A%20%5Bx%2C%20y%5D%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20if%20(rt.visible)%20%7B%0D%0A%20%20%20%20%20%20%20%20rt.emit(%22EVENT_TARGET_VISUAL_CHANGE%22%2C%20rt)%3B%0D%0A%20%20%20%20%20%20%20%20rt.runtime.requestRedraw()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20rt.x%20%3D%20x%3B%0D%0A%20%20%20%20%20%20rt.y%20%3D%20y%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20rt.emit(%22EVENT_TARGET_MOVED%22%2C%20rt%2C%20oldX%2C%20oldY%2C%20force)%3B%0D%0A%20%20%20%20rt.runtime.requestTargetsUpdate(rt)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20createStageBody%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20const%20body%20%3D%20world.CreateBody(bodyDef)%3B%0D%0A%20%20%20%20body.CreateFixture(fixDef)%3B%0D%0A%20%20%20%20stageBodies.push(body)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20_setStageType%20%3D%20function%20(type)%20%7B%0D%0A%20%20%20%20%2F%2F%20Clear%20down%20previous%20stage%0D%0A%20%20%20%20if%20(stageBodies.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20for%20(const%20stageBodyID%20in%20stageBodies)%20%7B%0D%0A%20%20%20%20%20%20%20%20world.DestroyBody(stageBodies%5BstageBodyID%5D)%3B%0D%0A%20%20%20%20%20%20%20%20delete%20stageBodies%5BstageBodyID%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F%2F%20Build%20up%20new%20stage%0D%0A%20%20%20%20bodyDef.type%20%3D%20b2Body.b2_staticBody%3B%0D%0A%20%20%20%20fixDef.shape%20%3D%20new%20b2PolygonShape()%3B%0D%0A%20%20%20%20bodyDef.angle%20%3D%200%3B%0D%0A%0D%0A%20%20%20%20const%20%7B%20stageWidth%2C%20stageHeight%20%7D%20%3D%20Scratch.vm.runtime%3B%0D%0A%20%20%20%20const%20stageBounds%20%3D%20%7B%0D%0A%20%20%20%20%20%20left%3A%20-stageWidth%20%2F%202%2C%0D%0A%20%20%20%20%20%20right%3A%20stageWidth%20%2F%202%2C%0D%0A%20%20%20%20%20%20top%3A%20stageHeight%20%2F%202%2C%0D%0A%20%20%20%20%20%20bottom%3A%20-stageHeight%20%2F%202%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20if%20(type%20%3D%3D%3D%20STAGE_TYPE_OPTIONS.BOXED)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20For%20the%20ceiling%20boxes...%0D%0A%20%20%20%20%20%20%2F%2F%20use%20a%20width%20equivalent%20to%20the%20stage%20width%20%2B%2010%2C%20with%20a%20thickness%20of%2010%0D%0A%20%20%20%20%20%20fixDef.shape.SetAsBox((stageWidth%20%2B%2010)%20%2F%20zoom%2C%2010%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20create%20one%20such%20box%20at%20the%20bottom%20of%20the%20stage%2C%20accounting%20for%20thickness...%0D%0A%20%20%20%20%20%20bodyDef.position.Set(0%2C%20(stageBounds.bottom%20-%2010)%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20%2F%2F%20and%20one%20820%20units%20above%20the%20top%20of%20the%20stage.%0D%0A%20%20%20%20%20%20bodyDef.position.Set(0%2C%20(stageBounds.top%20%2B%20820)%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20%2F%2F%20For%20the%20left%20%26%20right%20wall%20boxes...%0D%0A%20%20%20%20%20%20%2F%2F%20use%20a%20height%20equivalent%20to%20the%20stage%20height%20%2B%20820%2C%20with%20a%20thickness%20of%2010%0D%0A%20%20%20%20%20%20fixDef.shape.SetAsBox(10%20%2F%20zoom%2C%20(stageHeight%20%2B%20820)%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20create%20a%20box%20at%20the%20left%20of%20the%20stage...%0D%0A%20%20%20%20%20%20bodyDef.position.Set((stageBounds.left%20-%2010)%20%2F%20zoom%2C%200)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20%2F%2F%20and%20one%20at%20the%20right%20of%20the%20stage.%0D%0A%20%20%20%20%20%20bodyDef.position.Set((stageBounds.right%20%2B%2010)%20%2F%20zoom%2C%200)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20STAGE_TYPE_OPTIONS.FLOOR)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20All%20floor%20boxes%20are%20positioned%20at%20the%20bottom%20of%20the%20stage%2C%20accounting%20for%0D%0A%20%20%20%20%20%20%2F%2F%20the%20thickness%20of%20100.%0D%0A%20%20%20%20%20%20const%20floorY%20%3D%20(stageBounds.bottom%20-%20100)%20%2F%20zoom%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20The%20floor%20boxes%20have%20a%20width%20of%20the%20stage%20width%20%2B%204520%20units%2C%20and%20a%0D%0A%20%20%20%20%20%20%2F%2F%20thickness%20of%20100%20units.%0D%0A%20%20%20%20%20%20fixDef.shape.SetAsBox((stageWidth%20%2B%204520)%20%2F%20zoom%2C%20100%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20Floor%20boxes%20are%20created%20at%20different%20intervals%20throughout%20the%20bottom%20of%20the%20stage.%0D%0A%20%20%20%20%20%20bodyDef.position.Set(0%2C%20floorY)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20bodyDef.position.Set(stageBounds.left%20-%205000%2C%20floorY)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20bodyDef.position.Set(stageBounds.right%20%2B%205000%2C%20floorY)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20bodyDef.position.Set(stageBounds.left%20-%2015000%2C%20floorY)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%20%20bodyDef.position.Set(stageBounds.right%20%2B%2015000%2C%20floorY)%3B%0D%0A%20%20%20%20%20%20createStageBody()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20bodyDef.type%20%3D%20b2Body.b2_dynamicBody%3B%0D%0A%0D%0A%20%20%20%20for%20(const%20bodyID%20in%20bodies)%20%7B%0D%0A%20%20%20%20%20%20bodies%5BbodyID%5D.SetAwake(true)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20let%20tickRate%20%3D%2030%3B%0D%0A%0D%0A%20%20const%20blockIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOmE9Imh0dHA6Ly9ucy5hZG9iZS5jb20vQWRvYmVTVkdWaWV3ZXJFeHRlbnNpb25zLzMuMC8iDQoJIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSItMy43IC0zLjcgNDAgNDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTMuNyAtMy43IDQwIDQwIg0KCSB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxkZWZzPg0KPC9kZWZzPg0KPHJlY3QgeD0iOC45IiB5PSIxLjUiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxLjUiIHk9IjE2LjMiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxNi4zIiB5PSIxNi4zIiBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiMxNjlGQjAiIHN0cm9rZS13aWR0aD0iMyIgd2lkdGg9IjE0LjgiIGhlaWdodD0iMTQuOCIvPg0KPC9zdmc%2B%22%3B%0D%0A%20%20const%20menuIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOmE9Imh0dHA6Ly9ucy5hZG9iZS5jb20vQWRvYmVTVkdWaWV3ZXJFeHRlbnNpb25zLzMuMC8iDQoJIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSItMy43IC0zLjcgNDAgNDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTMuNyAtMy43IDQwIDQwIg0KCSB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxkZWZzPg0KPC9kZWZzPg0KPHJlY3QgeD0iOC45IiB5PSIxLjUiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxLjUiIHk9IjE2LjMiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxNi4zIiB5PSIxNi4zIiBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiMxNjlGQjAiIHN0cm9rZS13aWR0aD0iMyIgd2lkdGg9IjE0LjgiIGhlaWdodD0iMTQuOCIvPg0KPC9zdmc%2B%22%3B%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%0D%0A%20%20class%20Scratch3Griffpatch%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%2F**%0D%0A%20%20%20%20%20%20%20*%20The%20runtime%20instantiating%20this%20block%20package.%0D%0A%20%20%20%20%20%20%20*%20%40type%20%7BRuntime%7D%0D%0A%20%20%20%20%20%20%20*%2F%0D%0A%20%20%20%20%20%20this.runtime%20%3D%20vm.runtime%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Clear%20target%20motion%20state%20values%20when%20the%20project%20starts.%0D%0A%20%20%20%20%20%20this.runtime.on(%22PROJECT_START%22%2C%20this.reset.bind(this))%3B%0D%0A%0D%0A%20%20%20%20%20%20world%20%3D%20new%20b2World(%0D%0A%20%20%20%20%20%20%20%20new%20b2Vec2(0%2C%20-10)%2C%20%2F%2F%20gravity%20(10)%0D%0A%20%20%20%20%20%20%20%20true%20%2F%2F%20allow%20sleep%0D%0A%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20zoom%20%3D%2050%3B%20%2F%2F%20scale%3B%0D%0A%0D%0A%20%20%20%20%20%20this.map%20%3D%20%7B%7D%3B%0D%0A%0D%0A%20%20%20%20%20%20fixDef.density%20%3D%201.0%3B%20%2F%2F%201.0%0D%0A%20%20%20%20%20%20fixDef.friction%20%3D%200.5%3B%20%2F%2F%200.5%0D%0A%20%20%20%20%20%20fixDef.restitution%20%3D%200.2%3B%20%2F%2F%200.2%0D%0A%0D%0A%20%20%20%20%20%20_setStageType(STAGE_TYPE_OPTIONS.BOXED)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20reset()%20%7B%0D%0A%20%20%20%20%20%20for%20(const%20body%20in%20bodies)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(pinned%5Bbody.uid%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20world.DestroyJoint(pinned%5Bbody.uid%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20pinned%5Bbody.uid%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20world.DestroyBody(bodies%5Bbody%5D)%3B%0D%0A%20%20%20%20%20%20%20%20delete%20bodies%5Bbody%5D%3B%0D%0A%20%20%20%20%20%20%20%20delete%20prevPos%5Bbody%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20tickRate%20%3D%2030%3B%0D%0A%20%20%20%20%20%20%2F%2F%20todo%3A%20delete%20joins%3F%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20The%20key%20to%20load%20%26%20store%20a%20target's%20music-related%20state.%0D%0A%20%20%20%20%20*%20%40type%20%7Bstring%7D%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20static%20get%20STATE_KEY()%20%7B%0D%0A%20%20%20%20%20%20return%20%22Scratch.Griffpatch%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20%40returns%20%7Bobject%7D%20metadata%20for%20this%20extension%20and%20its%20blocks.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22griffpatch%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.categoryName%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20default%3A%20%22Physics%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20description%3A%20%22Label%20for%20the%20Griffpatch%20extension%20category%22%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2Fbox2d%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20blockIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Global%20Setup%20------------------%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setStage%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setStage%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20stage%20boundaries%20to%20%5BstageType%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20stage%20type%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20stageType%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22StageTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20STAGE_TYPE_OPTIONS.BOXED%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setGravity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setGravity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20gravity%20to%20x%3A%20%5Bgx%5D%20y%3A%20%5Bgy%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20gravity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gx%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20-10%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getGravityX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getGravityX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22gravity%20x%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20gravity's%20x%20value%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getGravityY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getGravityY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22gravity%20y%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20gravity's%20y%20value%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPhysics%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setPhysics%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22enable%20for%20%5Bshape%5D%20mode%20%5Bmode%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Enable%20Physics%20for%20this%20Sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20shape%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ShapeTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22costume%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mode%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22EnableModeTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22normal%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22disablePhysics%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.disablePhysics%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22disable%20physics%20for%20this%20sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Disable%20Physics%20for%20this%20Sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20opcode%3A%20'setPhysics'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20id%3A%20'griffpatch.setPhysics'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20default%3A%20'enable%20physics%20for%20sprite%20%5Bshape%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20description%3A%20'Enable%20Physics%20for%20this%20Sprite'%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20shape%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'ShapeTypes'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'costume'%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20opcode%3A%20'setPhysicsAll'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20id%3A%20'griffpatch.setPhysicsAll'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20default%3A%20'enable%20physics%20for%20all%20sprites'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20description%3A%20'Enable%20Physics%20For%20All%20Sprites'%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22doTick%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.doTick%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22step%20simulation%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Run%20a%20single%20tick%20of%20the%20physics%20simulation%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setTickRate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setTickRate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20simulation%20rate%20to%20%5Brate%5D%2Fs%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Set%20the%20number%20of%20physics%20simulation%20steps%20to%20run%20per%20second%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rate%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2030%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getTickRate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getTickRate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22simulation%20rate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Get%20the%20number%20of%20physics%20simulation%20steps%20to%20run%20per%20second%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPosition%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setPosition%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22go%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%20%5Bspace%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Position%20Sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20space%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22SpaceTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22world%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20applyForce%20(target%2C%20ftype%2C%20x%2C%20y%2C%20dir%2C%20pow)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20applyAngForce%20(target%2C%20pow)%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20velocity%20to%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20Velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sx%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.changeVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22change%20velocity%20by%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Change%20Velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sx%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVelocityX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getVelocityX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22x%20velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20x%20velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVelocityY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getVelocityY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22y%20velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20y%20velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22applyForce%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.applyForce%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22push%20with%20force%20%5Bforce%5D%20in%20direction%20%5Bdir%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Push%20this%20object%20in%20a%20given%20direction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20force%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2025%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dir%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.ANGLE%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22applyAngForce%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.applyAngForce%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22spin%20with%20force%20%5Bforce%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Push%20this%20object%20in%20a%20given%20direction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20force%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20500%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setAngVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setAngVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20angular%20velocity%20to%20%5Bforce%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20angular%20velocity%20of%20the%20sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20force%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2030%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getAngVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getAngVelocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22angular%20velocity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20angular%20velocity%20of%20the%20sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setStatic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setStatic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20fixed%20to%20%5Bstatic%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Sets%20whether%20this%20block%20is%20static%20or%20dynamic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20static%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22StaticTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22static%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getStatic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getStatic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22fixed%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20whether%20this%20sprite%20is%20fixed%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDensity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setDensity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20density%20to%20%5Bdensity%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20density%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20density%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22DensityTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDensityValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setDensity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setDensityValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20density%20to%20%5Bdensity%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20density%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20density%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getDensity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getDensity%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22density%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20density%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFriction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setFriction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20friction%20to%20%5Bfriction%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20friction%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20friction%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22FrictionTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2050%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFrictionValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setFriction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setFrictionValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20friction%20to%20%5Bfriction%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20friction%20value%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20friction%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2050%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFriction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getFriction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22friction%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20friction%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setRestitution%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setRestitution%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20bounce%20to%20%5Brestitution%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20bounce%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20restitution%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RestitutionTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2020%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setRestitutionValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setRestitution%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setRestitutionValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20bounce%20to%20%5Brestitution%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20bounce%20value%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20restitution%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2020%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getRestitution%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getRestitution%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22bounce%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20bounce%20value%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setProperties%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setProperties%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22set%20density%20%5Bdensity%5D%20roughness%20%5Bfriction%5D%20bounce%20%5Brestitution%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20density%20of%20the%20object%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20density%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22DensityTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20friction%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22FrictionTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2050%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20restitution%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RestitutionTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2020%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20opcode%3A%20'pinSprite'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20id%3A%20'griffpatch.pinSprite'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20default%3A%20'pin%20to%20world%20at%20sprite%5C's%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20description%3A%20'Pin%20the%20sprite'%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20x%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20y%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getTouching%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getTouching%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22list%20sprites%20touching%20%5Bwhere%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20name%20of%20any%20sprites%20we%20are%20touching%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20where%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22WhereTypes%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22any%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Scene%20Scrolling%20-------------------%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setScroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setScroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20scroll%20to%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Sets%20whether%20this%20block%20is%20static%20or%20dynamic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeScroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.changeScroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22change%20scroll%20by%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Sets%20whether%20this%20block%20is%20static%20or%20dynamic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getScrollX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getScrollX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22x%20scroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20x%20scroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getScrollY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getScrollY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22y%20scroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20y%20scroll%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20StageTypes%3A%20this.STAGE_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20SpaceTypes%3A%20this.SPACE_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20WhereTypes%3A%20this.WHERE_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20ShapeTypes%3A%20this.SHAPE_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20EnableModeTypes%3A%20this.ENABLE_TYPES_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20StaticTypes%3A%20this.STATIC_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20FrictionTypes%3A%20this.FRICTION_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20RestitutionTypes%3A%20this.RESTITUTION_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%20%20DensityTypes%3A%20this.DENSITY_TYPE_MENU%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20STAGE_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22boxed%20stage%22%2C%20value%3A%20STAGE_TYPE_OPTIONS.BOXED%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22open%20(with%20floor)%22%2C%20value%3A%20STAGE_TYPE_OPTIONS.FLOOR%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22open%20(no%20floor)%22%2C%20value%3A%20STAGE_TYPE_OPTIONS.OPEN%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20SPACE_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22in%20world%22%2C%20value%3A%20SPACE_TYPE_OPTIONS.WORLD%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22on%20stage%22%2C%20value%3A%20SPACE_TYPE_OPTIONS.STAGE%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22relative%22%2C%20value%3A%20SPACE_TYPE_OPTIONS.RELATIVE%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20WHERE_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22any%22%2C%20value%3A%20WHERE_TYPE_OPTIONS.ANY%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22feet%22%2C%20value%3A%20WHERE_TYPE_OPTIONS.FEET%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20SHAPE_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22this%20costume%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.COSTUME%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22this%20circle%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.CIRCLE%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%7B%20text%3A%20%22this%20polygon%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.SVG_POLYGON%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22all%20sprites%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.ALL%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20ENABLE_TYPES_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%22normal%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22precision%22%2C%20value%3A%20%22bullet%22%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20STATIC_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22free%22%2C%20value%3A%20%22dynamic%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22fixed%20in%20place%22%2C%20value%3A%20%22static%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22fixed%20(but%20can%20rotate)%22%2C%20value%3A%20%22pinned%22%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20DENSITY_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22very%20light%22%2C%20value%3A%20%2225%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22light%22%2C%20value%3A%20%2250%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%22100%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22heavy%22%2C%20value%3A%20%22200%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22very%20heavy%22%2C%20value%3A%20%22400%22%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20FRICTION_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22none%22%2C%20value%3A%20%220%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22smooth%22%2C%20value%3A%20%2220%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%2250%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22rough%22%2C%20value%3A%20%2275%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22extremely%20rough%22%2C%20value%3A%20%22100%22%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20get%20RESTITUTION_TYPE_MENU()%20%7B%0D%0A%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22none%22%2C%20value%3A%20%220%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22little%22%2C%20value%3A%20%2210%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%2220%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22quite%20bouncy%22%2C%20value%3A%20%2240%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22very%20bouncy%22%2C%20value%3A%20%2270%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22unstable%22%2C%20value%3A%20%22100%22%20%7D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Play%20a%20drum%20sound%20for%20some%20number%20of%20beats.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20x%20-%20x%20offset.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20y%20-%20y%20offset.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20doTick()%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20this._playDrumForBeats(args.DRUM%2C%20args.BEATS%2C%20util)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(util.runtime.audioEngine%20%3D%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(util.target.sprite.soundBank%20%3D%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20const%20dx%20%3D%20Cast.toNumber(args.x)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20const%20dy%20%3D%20Cast.toNumber(args.y)%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20const%20allTargets%20%3D%20this.runtime.targets%3B%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(allTargets%20%3D%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20%2F%2F%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allTargets.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20const%20target%20%3D%20allTargets%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20if%20(!target.isStage)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20target.setXY(target.x%20%2B%20dx%2C%20target.y%20%2B%20dy)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20util.target.setXY(util.target.x%20%2B%20dx%2C%20util.target.y%20%2B%20dy)%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Matter.Engine.update(this.engine%2C%201000%20%2F%2030)%3B%0D%0A%20%20%20%20%20%20this._checkMoved()%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20world.Step(1%20%2F%2030%2C%2010%2C%2010)%3B%0D%0A%20%20%20%20%20%20world.Step(1%20%2F%20tickRate%2C%2010%2C%2010)%3B%0D%0A%20%20%20%20%20%20world.ClearForces()%3B%0D%0A%0D%0A%20%20%20%20%20%20for%20(const%20targetID%20in%20bodies)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20bodies%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20this.runtime.getTargetById(targetID)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Drop%20target%20from%20simulation%0D%0A%20%20%20%20%20%20%20%20%20%20world.DestroyBody(body)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20bodies%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20prevPos%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20position%20%3D%20body.GetPosition()%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20_setXY(%0D%0A%20%20%20%20%20%20%20%20%20%20target%2C%0D%0A%20%20%20%20%20%20%20%20%20%20position.x%20*%20zoom%20-%20_scroll.x%2C%0D%0A%20%20%20%20%20%20%20%20%20%20position.y%20*%20zoom%20-%20_scroll.y%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(target.rotationStyle%20%3D%3D%3D%20ROTATION_STYLE_ALL_AROUND)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20target.setDirection(90%20-%20body.GetAngle()%20%2F%20toRad)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20prevPos%5BtargetID%5D%20%3D%20%7B%20x%3A%20target.x%2C%20y%3A%20target.y%2C%20dir%3A%20target.direction%20%7D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setTickRate(args)%20%7B%0D%0A%20%20%20%20%20%20let%20rate%20%3D%20Scratch.Cast.toNumber(args.rate)%3B%0D%0A%20%20%20%20%20%20if%20(Number.isNaN(rate)%20%7C%7C%20rate%20%3D%3D%3D%20Infinity)%20rate%20%3D%2030%3B%0D%0A%20%20%20%20%20%20rate%20%3D%20Math.max(rate%2C%200.01)%3B%0D%0A%0D%0A%20%20%20%20%20%20tickRate%20%3D%20rate%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getTickRate()%20%7B%0D%0A%20%20%20%20%20%20return%20tickRate%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_checkMoved()%20%7B%0D%0A%20%20%20%20%20%20for%20(const%20targetID%20in%20bodies)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20bodies%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20this.runtime.getTargetById(targetID)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Drop%20target%20from%20simulation%0D%0A%20%20%20%20%20%20%20%20%20%20world.DestroyBody(body)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20bodies%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20prevPos%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20prev%20%3D%20prevPos%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20const%20fixedRotation%20%3D%0D%0A%20%20%20%20%20%20%20%20%20%20target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(prev%20%26%26%20(prev.x%20!%3D%3D%20target.x%20%7C%7C%20prev.y%20!%3D%3D%20target.y))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20pos%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(target.x%20%2B%20_scroll.x)%20%2F%20zoom%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(target.y%20%2B%20_scroll.y)%20%2F%20zoom%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20this._setPosition(body%2C%20pos)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(!fixedRotation)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body.SetAngle((90%20-%20target.direction)%20*%20toRad)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20body.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(!fixedRotation%20%26%26%20prev%20%26%26%20prev.dir%20!%3D%3D%20target.direction)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20body.SetAngle((90%20-%20target.direction)%20*%20toRad)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20body.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Play%20a%20drum%20sound%20for%20some%20number%20of%20beats.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20x%20-%20x%20offset.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20y%20-%20y%20offset.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setPhysicsAll()%20%7B%0D%0A%20%20%20%20%20%20const%20allTargets%20%3D%20this.runtime.targets%3B%0D%0A%20%20%20%20%20%20if%20(allTargets%20%3D%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allTargets.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20allTargets%5Bi%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(!target.isStage%20%26%26%20!bodies%5Btarget.id%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this.setPhysicsFor(target)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Play%20a%20drum%20sound%20for%20some%20number%20of%20beats.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40property%20%7Bstring%7D%20shape%20-%20the%20shape%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setPhysics(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20this._playDrumForBeats(args.DRUM%2C%20args.BEATS%2C%20util)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(util.runtime.audioEngine%20%3D%3D%3D%20null)%20return%3B%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(util.target.sprite.soundBank%20%3D%3D%3D%20null)%20return%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20const%20dx%20%3D%20Cast.toNumber(args.x)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20const%20dy%20%3D%20Cast.toNumber(args.y)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(args.shape%20%3D%3D%3D%20SHAPE_TYPE_OPTIONS.ALL)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.setPhysicsAll()%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20this.setPhysicsFor(target%2C%20args.shape)%3B%0D%0A%20%20%20%20%20%20if%20(body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body.SetBullet(args.mode%20%3D%3D%3D%20%22bullet%22)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setPhysicsFor(target%2C%20shape)%20%7B%0D%0A%20%20%20%20%20%20const%20r%20%3D%20this.runtime.renderer%3B%0D%0A%20%20%20%20%20%20const%20drawable%20%3D%20r._allDrawables%5Btarget.drawableID%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20Tell%20the%20Drawable%20about%20its%20updated%20convex%20hullPoints%2C%20if%20necessary.%0D%0A%20%20%20%20%20%20if%20(drawable.needsConvexHullPoints())%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20points%20%3D%20r._getConvexHullPointsForDrawable(target.drawableID)%3B%0D%0A%20%20%20%20%20%20%20%20drawable.setConvexHullPoints(points)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(drawable._transformDirty)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20drawable._calculateTransform()%3B%0D%0A%20%20%20%20%20%20%2F%2F%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20const%20points%20%3D%20drawable._getTransformedHullPoints()%3B%0D%0A%20%20%20%20%20%20%2F%2F%0D%0A%20%20%20%20%20%20%2F%2F%20const%20hullPoints%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%2F%2F%20for%20(const%20i%20in%20points)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20hullPoints.push(%7Bx%3A%20points%5Bi%5D%5B0%5D%20-%20target.x%2C%20y%3A%20points%5Bi%5D%5B1%5D%20-%20target.y%7D)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20points%20%3D%20drawable._convexHullPoints%3B%0D%0A%20%20%20%20%20%20const%20scaleX%20%3D%20drawable.scale%5B0%5D%20%2F%20100%3B%0D%0A%20%20%20%20%20%20const%20scaleY%20%3D%20drawable.scale%5B1%5D%20%2F%20-100%3B%20%2F%2F%20Flip%20Y%20for%20hulls%0D%0A%20%20%20%20%20%20const%20offset%20%3D%20drawable.skin.rotationCenter%3B%0D%0A%20%20%20%20%20%20let%20allHulls%20%3D%20null%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(shape%20%3D%3D%3D%20SHAPE_TYPE_OPTIONS.CIRCLE)%20%7B%0D%0A%20%20%20%20%20%20%20%20fixDef.shape%20%3D%20new%20b2CircleShape()%3B%0D%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20drawable.skin.size%3B%0D%0A%20%20%20%20%20%20%20%20fixDef.shape.SetRadius(%0D%0A%20%20%20%20%20%20%20%20%20%20(size%5B0%5D%20*%20Math.abs(scaleX)%20%2B%20size%5B1%5D%20*%20Math.abs(scaleY))%20%2F%204.0%20%2F%20zoom%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20fixDef.shape.SetRadius((drawable.getBounds().width%20%2F%202)%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(shape%20%3D%3D%3D%20SHAPE_TYPE_OPTIONS.SVG_POLYGON)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20svg%20%3D%20drawable._skin._svgRenderer._svgTag%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20recurse%20through%20childNodes%20of%20type%20'g'%2C%20looking%20for%20type%20'path'%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20hullPoints%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(svg)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20this._fetchPolygonPointsFromSVG(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20svg%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20hullPoints%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20offset%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20offset%5B1%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scaleX%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20scaleY%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20_definePolyFromHull(hullPoints%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20allHulls%20%3D%20hullPoints%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20hullPoints%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20for%20(const%20i%20in%20points)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hullPoints.push(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20(points%5Bi%5D%5B0%5D%20-%20offset%5B0%5D)%20*%20scaleX%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20(points%5Bi%5D%5B1%5D%20-%20offset%5B1%5D)%20*%20scaleY%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20_definePolyFromHull(hullPoints)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20fixedRotation%20%3D%20target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND%3B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20_placeBody(%0D%0A%20%20%20%20%20%20%20%20target.id%2C%0D%0A%20%20%20%20%20%20%20%20target.x%2C%0D%0A%20%20%20%20%20%20%20%20target.y%2C%0D%0A%20%20%20%20%20%20%20%20fixedRotation%20%3F%2090%20%3A%20target.direction%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20if%20(target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND)%20%7B%0D%0A%20%20%20%20%20%20%20%20body.SetFixedRotation(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20(allHulls)%20%7B%0D%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%20allHulls.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20_definePolyFromHull(allHulls%5Bi%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20body.CreateFixture(fixDef)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20body%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20disablePhysics(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20_removeBody(util.target.id)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%0D%0A%20%20%20%20%20*%20%40param%20svg%20the%20svg%20element%0D%0A%20%20%20%20%20*%20%40param%20%7BArray%7D%20hullPointsList%20array%20of%20points%0D%0A%20%20%20%20%20*%20%40private%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20_fetchPolygonPointsFromSVG(svg%2C%20hullPointsList%2C%20ox%2C%20oy%2C%20scaleX%2C%20scaleY)%20%7B%0D%0A%20%20%20%20%20%20if%20(svg.tagName%20%3D%3D%3D%20%22g%22%20%7C%7C%20svg.tagName%20%3D%3D%3D%20%22svg%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(svg.hasChildNodes())%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20node%20of%20svg.childNodes)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this._fetchPolygonPointsFromSVG(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20hullPointsList%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oy%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scaleX%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scaleY%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20(svg.tagName%20!%3D%3D%20%22path%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20This%20is%20it%20boys!%20Get%20that%20svg%20data%20%3A)%0D%0A%20%20%20%20%20%20%2F%2F%20%3Cpath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20d%3D%22M%201%20109.7118%20L%201%201.8097%20L%2060.3049%2038.0516%20L%20117.9625%201.8097%20L%20117.9625%20109.7118%20L%2059.8931%2073.8817%20Z%20%22%0D%0A%20%20%20%20%20%20%2F%2F%20%20data-paper-data%3D%22%7B%26quot%3BorigPos%26quot%3B%3Anull%7D%22%20stroke-width%3D%222%22%20fill%3D%22%239966ff%22%2F%3E%0D%0A%0D%0A%20%20%20%20%20%20let%20fx%3B%0D%0A%20%20%20%20%20%20let%20fy%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20hullPoints%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20hullPointsList.push(hullPoints)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20tokens%20%3D%20svg.getAttribute(%22d%22).split(%22%20%22)%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20tokens.length%3B%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20token%20%3D%20tokens%5Bi%2B%2B%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(token%20%3D%3D%3D%20%22M%22%20%7C%7C%20token%20%3D%3D%3D%20%22L%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(tokens%5Bi%2B%2B%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(tokens%5Bi%2B%2B%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20hullPoints.push(%7B%20x%3A%20(x%20-%20ox)%20*%20scaleX%2C%20y%3A%20(y%20-%20oy)%20*%20scaleY%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(token%20%3D%3D%3D%20%22M%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fx%20%3D%20x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fy%20%3D%20y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(token%20%3D%3D%3D%20%22Z%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20hullPoints.push(%7B%20x%3A%20(fx%20-%20ox)%20*%20scaleX%2C%20y%3A%20(fy%20-%20oy)%20*%20scaleY%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20applyForce(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20_applyForce(%0D%0A%20%20%20%20%20%20%20%20util.target.id%2C%0D%0A%20%20%20%20%20%20%20%20%22Impulse%22%2C%0D%0A%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.dir)%2C%0D%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.force)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20applyAngForce(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body.ApplyTorque(-Cast.toNumber(args.force))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setAngVelocity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20body.SetAngularVelocity(-Cast.toNumber(args.force))%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getAngVelocity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20vel%20%3D%20-body.GetAngularVelocity()%3B%0D%0A%20%20%20%20%20%20return%20vel%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setDensity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body.GetFixtureList().SetDensity(Cast.toNumber(args.density)%20%2F%20100.0)%3B%0D%0A%20%20%20%20%20%20body.ResetMassData()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getDensity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20body.GetFixtureList().GetDensity()%20*%20100%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setFriction(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body.GetFixtureList().SetFriction(Cast.toNumber(args.friction)%20%2F%20100.0)%3B%0D%0A%20%20%20%20%20%20body.ResetMassData()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getFriction(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20body.GetFixtureList().GetFriction()%20*%20100%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setRestitution(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body%0D%0A%20%20%20%20%20%20%20%20.GetFixtureList()%0D%0A%20%20%20%20%20%20%20%20.SetRestitution(Cast.toNumber(args.restitution)%20%2F%20100.0)%3B%0D%0A%20%20%20%20%20%20body.ResetMassData()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getRestitution(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20return%20body.GetFixtureList().GetRestitution()%20*%20100%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setProperties(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body.GetFixtureList().SetDensity(Cast.toNumber(args.density)%20%2F%20100.0)%3B%0D%0A%20%20%20%20%20%20body.GetFixtureList().SetFriction(Cast.toNumber(args.friction)%20%2F%20100.0)%3B%0D%0A%20%20%20%20%20%20body%0D%0A%20%20%20%20%20%20%20%20.GetFixtureList()%0D%0A%20%20%20%20%20%20%20%20.SetRestitution(Cast.toNumber(args.restitution)%20%2F%20100.0)%3B%0D%0A%20%20%20%20%20%20body.ResetMassData()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20pinSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20if%20(!bodies%5Butil.target.id%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.x)%3B%0D%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.y)%3B%0D%0A%0D%0A%20%20%20%20%20%20_createJointOfType(%0D%0A%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20%22Rotating%22%2C%0D%0A%20%20%20%20%20%20%20%20util.target.id%2C%0D%0A%20%20%20%20%20%20%20%20x%2C%0D%0A%20%20%20%20%20%20%20%20y%2C%0D%0A%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20null%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Set's%20the%20sprites%20position.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20x%20-%20x%20offset.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20y%20-%20y%20offset.%0D%0A%20%20%20%20%20*%20%40property%20%7Bstring%7D%20space%20-%20Space%20type%20(SPACE_TYPE_OPTIONS)%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setPosition(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.x)%3B%0D%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.y)%3B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%0D%0A%20%20%20%20%20%20switch%20(args.space)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20SPACE_TYPE_OPTIONS.STAGE%3A%0D%0A%20%20%20%20%20%20%20%20%20%20_setXY(util.target%2C%20x%2C%20y)%3B%20%2F%2F%20Position%20on%20stage%20(after%20scroll)%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(body)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this._setPosition(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20body%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20b2Vec2((x%20%2B%20_scroll.x)%20%2F%20zoom%2C%20(y%20%2B%20_scroll.y)%20%2F%20zoom)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20case%20SPACE_TYPE_OPTIONS.RELATIVE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20_setXY(util.target%2C%20util.target.x%20%2B%20x%2C%20util.target.x%20%2B%20y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(body)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pos%20%3D%20body.GetPosition()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pos2%20%3D%20new%20b2Vec2(pos.x%20%2B%20x%20%2F%20zoom%2C%20pos.y%20%2B%20y%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this._setPosition(body%2C%20pos2)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20%20%20%20%20_setXY(util.target%2C%20x%20-%20_scroll.x%2C%20y%20-%20_scroll.y)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(body)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this._setPosition(body%2C%20new%20b2Vec2(x%20%2F%20zoom%2C%20y%20%2F%20zoom))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_setPosition(body%2C%20pos2)%20%7B%0D%0A%20%20%20%20%20%20const%20md%20%3D%20pinned%5Bbody.uid%5D%3B%0D%0A%20%20%20%20%20%20if%20(md)%20%7B%0D%0A%20%20%20%20%20%20%20%20world.DestroyJoint(md)%3B%0D%0A%20%20%20%20%20%20%20%20pinned%5Bbody.uid%5D%20%3D%20_createJointOfType(%0D%0A%20%20%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22Rotating%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20body.uid%2C%0D%0A%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20pos2.x%20*%20zoom%2C%0D%0A%20%20%20%20%20%20%20%20%20%20pos2.y%20*%20zoom%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20body.SetPosition(pos2)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20if%20(md)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20pinned%5Bbody.uid%5D%20%3D%20_createJointOfType(null%2C%20'Rotating'%2C%20body.uid%2C%200%2C%200%2C%20null%2C%20null%2C%20null)%3B%0D%0A%20%20%20%20%20%20%2F%2F%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Set%20the%20sprites%20velocity.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sx%20-%20speed%20x.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sy%20-%20speed%20y.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setVelocity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body.SetAwake(true)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.sx)%3B%0D%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.sy)%3B%0D%0A%20%20%20%20%20%20const%20force%20%3D%20new%20b2Vec2(x%2C%20y)%3B%0D%0A%20%20%20%20%20%20force.Multiply(30%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20body.SetLinearVelocity(force)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Change%20the%20sprites%20velocity.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sx%20-%20speed%20x.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sy%20-%20speed%20y.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20changeVelocity(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20body.SetAwake(true)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.sx)%3B%0D%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.sy)%3B%0D%0A%20%20%20%20%20%20const%20force%20%3D%20new%20b2Vec2(x%2C%20y)%3B%0D%0A%20%20%20%20%20%20force.Multiply(30%20%2F%20zoom)%3B%0D%0A%20%20%20%20%20%20force.Add(body.GetLinearVelocity())%3B%0D%0A%20%20%20%20%20%20body.SetLinearVelocity(force)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Get%20the%20current%20tempo.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40return%20%7Bboolean%7D%20-%20the%20current%20tempo%2C%20in%20beats%20per%20minute.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getStatic(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20type%20%3D%20body.GetType()%3B%0D%0A%20%20%20%20%20%20return%20type%20%3D%3D%3D%20b2Body.b2_staticBody%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Get%20the%20current%20tempo.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40return%20%7Bnumber%7D%20-%20the%20current%20x%20velocity.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getVelocityX(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20x%20%3D%20body.GetLinearVelocity().x%3B%0D%0A%20%20%20%20%20%20return%20(x%20*%20zoom)%20%2F%2030%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Get%20the%20current%20tempo.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40return%20%7Bboolean%7D%20-%20the%20current%20y%20velocity.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getVelocityY(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20y%20%3D%20body.GetLinearVelocity().y%3B%0D%0A%20%20%20%20%20%20return%20(y%20*%20zoom)%20%2F%2030%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Sets%20the%20static%20property%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0D%0A%20%20%20%20%20*%20%40property%20%7Bstring%7D%20static%20-%20static%20or%20not%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setStatic(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0D%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(target)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20body.SetType(%0D%0A%20%20%20%20%20%20%20%20args.static%20%3D%3D%3D%20%22static%22%20%3F%20b2Body.b2_staticBody%20%3A%20b2Body.b2_dynamicBody%0D%0A%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20const%20pos%20%3D%20new%20b2Vec2(%0D%0A%20%20%20%20%20%20%20%20(target.x%20%2B%20_scroll.x)%20%2F%20zoom%2C%0D%0A%20%20%20%20%20%20%20%20(target.y%20%2B%20_scroll.y)%20%2F%20zoom%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20const%20fixedRotation%20%3D%20target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND%3B%0D%0A%20%20%20%20%20%20body.SetPositionAndAngle(%0D%0A%20%20%20%20%20%20%20%20pos%2C%0D%0A%20%20%20%20%20%20%20%20fixedRotation%20%3F%200%20%3A%20(90%20-%20target.direction)%20*%20toRad%0D%0A%20%20%20%20%20%20)%3B%0D%0A%0D%0A%20%20%20%20%20%20if%20(args.static%20%3D%3D%3D%20%22pinned%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Find%20what's%20behind%20the%20sprite%20(pin%20to%20that)%0D%0A%20%20%20%20%20%20%20%20const%20point%20%3D%20new%20b2AABB()%3B%0D%0A%20%20%20%20%20%20%20%20point.lowerBound.SetV(pos)%3B%0D%0A%20%20%20%20%20%20%20%20point.upperBound.SetV(pos)%3B%0D%0A%20%20%20%20%20%20%20%20let%20body2ID%20%3D%20null%3B%0D%0A%20%20%20%20%20%20%20%20world.QueryAABB((fixture)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20body2%20%3D%20fixture.GetBody()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(body2%20!%3D%3D%20body%20%26%26%20fixture.TestPoint(pos.x%2C%20pos.y))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20body2ID%20%3D%20body2.uid%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20point)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20pinned%5Btarget.id%5D%20%3D%20_createJointOfType(%0D%0A%20%20%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22Rotating%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20target.id%2C%0D%0A%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20body2ID%2C%0D%0A%20%20%20%20%20%20%20%20%20%20null%2C%0D%0A%20%20%20%20%20%20%20%20%20%20null%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20pin%20%3D%20pinned%5Btarget.id%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(pin)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20world.DestroyJoint(pin)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20delete%20joints%5Bpin.I%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20delete%20pinned%5Btarget.id%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Sets%20the%20sprite%20offset%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20ox%20-%20x%20offset.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20oy%20-%20y%20offset.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setScroll(args)%20%7B%0D%0A%20%20%20%20%20%20this._checkMoved()%3B%0D%0A%20%20%20%20%20%20_scroll.x%20%3D%20Cast.toNumber(args.ox)%3B%0D%0A%20%20%20%20%20%20_scroll.y%20%3D%20Cast.toNumber(args.oy)%3B%0D%0A%20%20%20%20%20%20this._repositionBodies()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Sets%20the%20sprite%20offset%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20ox%20-%20x%20offset.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20oy%20-%20y%20offset.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20changeScroll(args)%20%7B%0D%0A%20%20%20%20%20%20this._checkMoved()%3B%0D%0A%20%20%20%20%20%20_scroll.x%20%2B%3D%20Cast.toNumber(args.ox)%3B%0D%0A%20%20%20%20%20%20_scroll.y%20%2B%3D%20Cast.toNumber(args.oy)%3B%0D%0A%20%20%20%20%20%20this._repositionBodies()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Get%20the%20scroll%20x.%0D%0A%20%20%20%20%20*%20%40return%20%7Bnumber%7D%20-%20the%20current%20x%20velocity.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getScrollX()%20%7B%0D%0A%20%20%20%20%20%20return%20_scroll.x%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Get%20the%20scroll%20x.%0D%0A%20%20%20%20%20*%20%40return%20%7Bnumber%7D%20-%20the%20current%20x%20velocity.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20getScrollY()%20%7B%0D%0A%20%20%20%20%20%20return%20_scroll.y%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_repositionBodies()%20%7B%0D%0A%20%20%20%20%20%20for%20(const%20targetID%20in%20bodies)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20bodies%5BtargetID%5D%3B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20this.runtime.getTargetById(targetID)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(target)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20position%20%3D%20body.GetPosition()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20_setXY(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20target%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20position.x%20*%20zoom%20-%20_scroll.x%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20position.y%20*%20zoom%20-%20_scroll.y%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20prevPos%5BtargetID%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20target.x%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20target.y%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20dir%3A%20target.direction%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getTouching(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0D%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Btarget.id%5D%3B%0D%0A%20%20%20%20%20%20if%20(!body)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20where%20%3D%20args.where%3B%0D%0A%20%20%20%20%20%20let%20touching%20%3D%20%22%22%3B%0D%0A%20%20%20%20%20%20const%20contacts%20%3D%20body.GetContactList()%3B%0D%0A%20%20%20%20%20%20for%20(let%20ce%20%3D%20contacts%3B%20ce%3B%20ce%20%3D%20ce.next)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20noinspection%20JSBitwiseOperatorUsage%0D%0A%20%20%20%20%20%20%20%20if%20(ce.contact.m_flags%20%26%20b2Contact.e_islandFlag)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20ce.contact.IsSensor()%20%3D%3D%3D%20true%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20ce.contact.IsEnabled()%20%3D%3D%3D%20false%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20ce.contact.IsTouching()%20%3D%3D%3D%20false%0D%0A%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20const%20contact%20%3D%20ce.contact%3B%0D%0A%20%20%20%20%20%20%20%20const%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0D%0A%20%20%20%20%20%20%20%20const%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0D%0A%20%20%20%20%20%20%20%20const%20bodyA%20%3D%20fixtureA.GetBody()%3B%0D%0A%20%20%20%20%20%20%20%20const%20bodyB%20%3D%20fixtureB.GetBody()%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20const%20myFix%20%3D%20touchingB%20%3F%20fixtureA%20%3A%20fixtureB%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20touchingB%20%3D%20bodyA%20%3D%3D%3D%20body%3B%0D%0A%20%20%20%20%20%20%20%20if%20(where%20!%3D%3D%20%22any%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20man%20%3D%20new%20Box2D.Collision.b2WorldManifold()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20contact.GetWorldManifold(man)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20man.m_points%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20const%20mx%20%3D%20man.m_normal.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20const%20my%20%3D%20man.m_normal.y%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(where%20%3D%3D%3D%20%22feet%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20(my%20%3E%20-0.6)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20fixture%20%3D%20body.GetFixtureList()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20y%20%3D%20man.m_points%5B0%5D.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fixture.m_aabb.lowerBound.y%20*%200.75%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fixture.m_aabb.upperBound.y%20*%200.25%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20const%20lp%20%3D%20body.GetLocalPoint(man.m_points%5B0%5D).Normalize()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20(lp.y)%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20other%20%3D%20touchingB%20%3F%20bodyB%20%3A%20bodyA%3B%0D%0A%20%20%20%20%20%20%20%20const%20uid%20%3D%20other.uid%3B%0D%0A%20%20%20%20%20%20%20%20const%20target2%20%3D%20uid%0D%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.runtime.getTargetById(uid)%0D%0A%20%20%20%20%20%20%20%20%20%20%3A%20this.runtime.getTargetForStage()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(target2)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20target2.sprite.name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(touching.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20touching%20%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20touching%20%2B%3D%20%60%2C%24%7Bname%7D%60%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20touching%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Sets%20the%20stage%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20stageType%20-%20Stage%20Type.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setStage(args)%20%7B%0D%0A%20%20%20%20%20%20_setStageType(args.stageType)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%2F**%0D%0A%20%20%20%20%20*%20Sets%20the%20gravity%0D%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20gx%20-%20Gravity%20x.%0D%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20gy%20-%20Gravity%20y.%0D%0A%20%20%20%20%20*%2F%0D%0A%20%20%20%20setGravity(args)%20%7B%0D%0A%20%20%20%20%20%20world.SetGravity(%0D%0A%20%20%20%20%20%20%20%20new%20b2Vec2(Cast.toNumber(args.gx)%2C%20Cast.toNumber(args.gy))%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20for%20(const%20bodyID%20in%20bodies)%20%7B%0D%0A%20%20%20%20%20%20%20%20bodies%5BbodyID%5D.SetAwake(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getGravityX()%20%7B%0D%0A%20%20%20%20%20%20return%20world.GetGravity().x%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getGravityY()%20%7B%0D%0A%20%20%20%20%20%20return%20world.GetGravity().y%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20Scratch3Griffpatch())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Looks%20Plus%0D%0A%2F%2F%20ID%3A%20lmsLooksPlus%0D%0A%2F%2F%20Description%3A%20Expands%20upon%20the%20looks%20category%2C%20allowing%20you%20to%20show%2Fhide%2C%20get%20costume%20data%20and%20edit%20SVG%20skins%20on%20sprites.%0D%0A%2F%2F%20By%3A%20LilyMakesThings%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FLilyMakesThings%2F%3E%0D%0A%2F%2F%20License%3A%20MIT%20AND%20LGPL-3.0%0D%0A%0D%0A(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20const%20menuIconURI%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA%2Bs9J6AAAABmJLR0QA%2FwD%2FAP%2BgvaeTAAAhkklEQVR42u1dd3RU15mfOLubsn9t4iTreM%2FZc3Y3PSfNm42d%2BGSzWduJU5zECYnjOA44BlGCbWxMM2AZjBGYYooNQgiQ6KILRBMCRC%2Bm944pKqOOumaku99v3oiVhSTuff2%2B%2Bb5zfh4jjea9d%2B%2F3m3vvV0MhFs9FhMRHZvQW96f2Eg%2FPTBLP0OurhHGE9Fk9xWp63Uk4TbhEKCCUxxEliPhr688K4u%2FD%2B3fG%2Fz4dn0f%2FPxCfT9f6Aa6H6%2FLosySUzO0uPp72vHiAiNCDSDGJsIlwntAQJ5PbwHXP4T6IoBMJ3en%2Fv4P75Nli0V6yuomPEtm%2BSYrdl14XxFemiEdkU0Ukfr%2Fzcf%2F0xfENPA%2FPKovvSUfK%2BiAp7cj4ClelCeFkUUVfJhvpdQThe8nJ4h6edRbPhZTxXkI3Qmr8LCYSCKWErNQk0Sv9OfF51gYW1wQKR8r3Aq14u%2Bi1JcGI1xmaYQSilbI%2Fvd7HWsJiu8zpIT6DsxEpWH5c4Zh4XRCSxmobvfbBToG1h8W04MxDyvQIKVImoY7JZQqN2LLSCvlLNuywSMu7fcU%2Fk%2BIMi%2FvamEj24SJ9qQ3F%2BLKWsXQo9G39BVKUKbzqubI6ZlKwwNdZ61haLZyIUlnLRhb3AeMWtqocuZO4K9%2FPSBEOMhl8gQM0Hz9lrUyglY%2BwnRXffyAi7sXKyFoaUEE0C5NPG2xFVA5rbUAk7lxPZf%2BedsAZPWv2X8W%2FshZrKpMGiE%2FQ1mYwTeQtVmitUUtIxnyyVmskZHX7BU3cB6zAgcIVGNNYu30u5Hv6bDzChZU2uMjCPLO2%2B9PqiWyGElbShEA5sjfYv%2BgTiYeZbWDFTEhnfw6HwXl%2F9vsJTUYhK2RCI0x68ASzwQPLZzzOk0PNGK3IzPyz%2BEdmhzur39dowM%2Bw0jE6wCkKyvgKs8RBIRP1rwJYu4VhL6phpGO22CxICKUVMIW3nwyFaBscV%2F6e2WOP6%2BHeeLkEVi6GakB43vR%2B4tPMImsE%2FPd4cVpWKobpjP73%2BogvMZvMnf8egvmZlYhhA8pIn37IrFIj4O%2B4zATDgZL%2FTzO75LagA9gAE1zM7ivE4mFCrBhjYOlIinzp7arB5gVmWdcr4GBW1GBh4VAhdswX4sxOIUqvCdHcLO6QSJMQxZeFOJEnxLJkV8LdUphtHRPwDVbaYGDuC0JszxCi4BwxrEWoCb3%2F%2BikhVqUwEV0TRMLToExj5dUfCwYZq1mkUViWFloxD%2BUIkdbbUSJO5UwM4ww4gRVY8y3nkDj5moTtcvmws0TEApDoBBzLSqwv5vQX4shGOudFhKNy4YDjxptJiUrAEazImiJJiLx0IWorhGuyf5XjzzUsEd0QrMwaYukIIQovCNcF58xFQx1%2FvsRwX9Bh%2BPdcflDDLPYkw9UQaRCeybUTrvgRnw76Cojq1%2FWs1Hph8WvkbjgvfCHLRzv%2BvPW0UHw%2FyMHYHAuqGXYutN%2Fq2VDXIm6cbxI3zjWJ%2Bho1RyKssC48dykR8YuBS0ciXGCl1sjh%2FhK5Bw7ZR7wPTjWKNVMrxeTnwuK1xwrEsEcNjHi8UGxKvyVaJLlYVezaGJwPTBoUdbz9O84H1AurKVrlVql14kUjLWL%2FuloxqUf4Nuk6Q15mtfTnzh%2FkXj4i9DcIhpiJrNj6YE9Wx%2FGdSpbMphaxZ1WNGPfH4ruSrxUjf14o6qvlLrx2kqtlFVN0J%2BBvOCNCD6T%2FzXCKW5Wz%2BxvExO5hafK1xZm99VLXQFyqy6Uyuul6DvwyF2XSxPpJqUVl162Rr%2BxmVGQOLzNFvlbsXlEjda29y9wvHkVb06%2FqRsBPcllCPZDzDlkra8yTDwYVkOf1XxRaIiCwbaHcudCF6JmOcFKrzlB0wzNZwfVwP1g5%2F5XeiIjUAaWWydeKHVly3wb7V3pWdn%2BqLufAx%2Fkc6PPoFwqGPrHF2vZzX3atLatfW7y%2FsVbq2jsWeFdKEW33fE3AeGuyIlZ0f2c%2BfHDMPPnqyIK5cFS5reRrxeWjcomIuTO97X3h2yY08eRc7o7kY8wfaJSYsOJwH%2F9MsSMEBG6Vye2NV47xfCzX%2BXUb2p0V3d8W0KqweQLuIuPL8J8WOEbAFPIpygrKZ3i%2Bpe8p%2FuTHsDSOC%2FUplo%2Bi3L9Kc%2BRramgRS8dWOEa%2BVmCLKyM1Fb4Z11JfdQymG1rCyu5PrBorKEjaHAErw1Hxbr8SxwkIIMJGttyFj8Y30xcEJCfmz1jZ%2FYmN081nQFw60ihGP1nkCgGBkutyNTL2r%2FCZpdlra2m8WecHrPD%2Bw7a55n2ABzfUUnZDgWsEnPCs%2FHlwzdu%2BG%2BtLc7uLj3u5DX2dFd5%2F2L1ESKcGtY9%2BQTaDW%2BRrxca0W3LnUwotTevjQ79rTzHUK5%2Fg%2FXQDNaz0%2FirAhOpnZg0wC98od52AwPWzcnvmK0d9O%2FbV6c%2BJz3uxCi5kxfcXAU9uM%2B%2BAT32p1BMCYisqu2rvXODf8SfbyFxXCUh9wR%2Fk0DR%2FEfDEVnMEhIN8Wu8STwiokswLorqVzGsSzbQt%2Fa6bjnnOlPcTAfPMEbC8MCom%2FiXsGQFR5qKsICp1rzfPajEfuW4R8BFWfv%2FA7Bmw6EpEpDxV7BkBgfRBZdL3i4wPHeaDbCU%2FcsMvuIOV3x84nmuyvwMFSr%2Fxq0JPCQgc21Yndb8os5%2FxiiYZKj3FLnbMJ8oKuN4cAU%2Fvqbc9BckMxv6hKFYISsMoGRkjzaPOWUSTxPtMAO9x2CQBD2%2BuczQIWwVbF8hXV9swTbs52ufUKvgoE8B7HDV5BkQWRNt6n14CtUary%2BXCedB0Jq23fvPkyNmQSLiRSeAtDq01R0DUgPED%2BVqxfLx8O6dD6%2FScK%2BLLWrujY77OfkHv68GYailGxXf9sgK2uiWKr8oFazdHje6%2Fms5Zi60V2hANwETwDpveM9pHq8qBHH8REJg%2Fslz6%2Fi8e0H7u0mwhIOpp0Ic1MBm8AapNRyPBICBw9aR8Q%2FvV47Sfv3qKLvucHTGiw5gM3gC1VJrq1QmISmh%2BJCDKI8pK%2BGow5pB2kYPtKN7E3ZS8qAkznAKrq0zkAq73JwGBi4flO4xunhmYubwEHrFbQreqaIPMdUXy6xYUmPWy%2FANVFhu1UQM0p%2F9jZSuaxaRwF%2BgLaKYvxOHcOt8SUKWmaKy47%2FyAFVvuKRaZIuCcHuIz9AGNTAz3kNbXXFtqdEJysxyFKmYPlF8FURVudr%2FAzW29qYaj9If9mBju4uwucwV5%2FRAL2qVF9IT8Koj%2BiAFNOevF2RI%2BB5RPVeD0drMimhlkjihXWgXRJzGI84uuv6qr4H3IFGZyuIOcyeqV0apKoo6WpLcDw39SEMtblA6vWxzoeQaf7lNJ3H2RyeEOlo4QorFWjYC1Vc1i8l%2FDviYgsGJCpdoq2C%2FYc0286quyEu5hgrhgCaWeCuUF6lXRZr5Y6nsCogd9RXFU%2Brl2LkqIOc%2BXLeL0Od6KumAJJT%2FY9VNqBET42rxhZb4nILBhlnykQTUZT2f3TYh5B6%2FulTHIPMskcR5mmnSunFSpBQHH%2FK5I1FfLH3K3zkmceSd%2B%2FVFmK7qYSeJwifo56gREwxQdCAggfUq65TYFJsxKSpy5p3NhRpcEzOomPkpvLGWiOIclI9SDsi8eavBNWYq7YVpSiZKld%2F2UhNOBcHKyuKerrehDTBTngEiQUsWQNNQGffN3RdqsgirhaQXnEtQe8Lx4oCvXxEgmi3M4s1ONgDhXTX4urA0BZRt9GiW16Yz7VmLqQZcNZOiXm5ksziAvXY2A2NLpYgkFEDqHVVtWLuxLXF0gnuV0dR6sZMI4kxvYqHgOzJlRpQ0BYyUMF8qXMIzQjnXhkITWiYoOz4XEzm8xYfxxDkR9UJ0IOLF7mDoCyzdEPLiG9QLF0zhrwiWotitDUHbyLwu1IuH59xuUHPNBD0%2BTRFJHltEFPDA2F2maYBgg5LdpLTETv04EXDS6XOlLJjeV9SKOzI5WwjM8MPYhvT8yHRQjYiZWakXAN54oFJUl8sYYJCynJrFuxHHyQwScNEB8gn4Y5YGxMSxNsWnnkS16nQMBRPFIW3uJq8uSWS%2FaIDK1v%2FhY263of%2FKg2IcVb6oV6y29EfFFqzIVzOivFhlzdBPrRQeuim%2B1tYw%2Bx4Ni08DSdqv4kto5cHofvc6BI39WKF3KHlJDx8Y5%2FVk3OgjmfrbteXAyD4o9yM9U24aue69Ku21o3vxqNWPMTNaLTkj4dlsSbuJBsQ5826sU7EWRJj%2BXKewIU3qFpZt7QpAzybrRKda3JSFX2bYB7yu0LkOG%2FMS%2FhLUiIDI5bpxrUoqMWfwa60UXOBMjIMJnUrnhi2VkvqKWorQx7ZZ229AtGbeUtqF7l7Ne3K0eaaxEPqVV%2FAsPhnUc2ySvnOFrkVi3Wp0ICOORSncoNHQJWCl7R4CuZ9iKPsyDYb10vcoqmD64TDtraNHliJJPcPko1gtJ48xD8BE%2Bw4NhDQdWyRPwzN567bah%2BUvUrKGHclgnlGrOoH8aD4a1qmm1ki3Y4dye0lMvYwx6Cqo45SsKA9lLwkmH%2FUBsR8fzYJjHhunBTVEa9ZsiUVEkHxsKsq56i3VCEWNBwnQeCPO4ckSymgO51t55Xq9V8NjWOt6GOr8dnYWQtdU8GOYNMs2SC8Xp3XqdBVVK2LeWLkzryzphAitAwl08EOawZZa8kqJHny4EnNQjTOU45KNimiNsDbVUGp%2F%2Bc5oHwhzO75VT0rKbUW3C01CwqeBik9IqeGA164KlvEL6z1UeCHOolkwqR6SJLqvgwQ1qLaIKLxoWYtYH07gEEhbwQJgwLfeW7yk4rbceqUrL365QIiBaui0cyrpgETdAwjIeCHXMe0k%2BUBsRJzpkR%2BBeVQRnYtYFyygBCat5IMwl78quhKikfXx7nVg2rsKXJe3hDyy5HlEi4NndrAM2oQokbOSBMIeqsHp3Jbg0Tu6sF7NfLfWFsQbpSSolCyGVxZwpbyMaQEJuCGoSp3cISxL%2BICKWja%2FwlIx716gZYqJkOF0%2BmufeRjTzSmilrugkYYsUXGoSc4e4n1mRPa1S%2BV7zMxysTEDtwzfNMBqo3jgN145RNhKv%2BDd%2Bjt%2FjfUFbCflMaAEw0dsliKp56%2FfunBlB%2Buao2v2dc%2BgcuGS40bEqItlVDe%2FD%2B%2FF3QTkTsnXUApa%2BTkrRZB8RYcTJSqlwPCJGpZ11LODgBuVB%2Fs3esUO2xbHNQvnLoO35Gn%2BvedZGCfsJbcCO%2BWrl7qVKQ9BZzYmz4pu%2FLRKlN9UsoegoZfeqs2ioQWw7BJ%2BzSF9%2F5Q2OmLEJ2%2BYJpbw7GTmRX2%2BrjxGNZlDhTUVQxHj9VHvHKot2D7WV9o4VPg%2Bfq2vEzCkmkT2A1RD9FuyUi4cbbOnShJo2qq4IyO6l9o7R%2FEEU7lcmHBF8Lj5fx9jRnUwgAxlUMW0dWTy3zqHtYBb1h9jYBusNhUQh29UpXVvokNiKs4pqQ5jO5BQZbKxsTeELPLmjXt1QlG9%2FgMONM8JRwZegZgWmtoOEqxKVdKiJuWsxFeE9pr49QpJueQFZDPcY4VtzX%2BjccIMsA6vf%2FjuyakyugAWxba2qgCxpfRw4O7sguI5Gergc%2BYSzE2q1e1mIPbTKld%2B0d%2BJRDvDaCfJjvdfxNzF%2BBh9X2XXz11g%2BvkJ5C4pVVFUqi4zYWDvHHZbV2ip3SIjr2G3JdRCpIGFKIpBv0TAj3jEacV4JbpUa29mOOtJiS7Z9nlq5%2FFZpqG0R4%2F5YLBcP%2ButCcfGQ%2BhmwgbqdLRlh%2F%2FjDya8iCCbH%2FWMVx6tqcPn2DG10cwy2o68GvTI2zjZmfVGWDAWUb7htrkG8jlbkS4fUP%2FPs%2Foa7EnD8n4qV6oS2zZBHFJAT8yBrsMI2P39pdexLpP2XCn7eIsnFWENSPWrMvBzcuqNJBgEaaoTnUny589UFW2NVH%2BPSsZ1vS1FGo7pc3VcCV0SuQ6lJc1%2BUd9%2Bsmtx1t2L8XrbyG66rRd3RIFbgxipz7aTwlSDUauci0WG7aFhjWxSIWFYQjRlc2ltAN8%2B9Zc5XidXHQWNG9gR7i2GdljznZr%2BtQd3a58WDoRm9xf1BIiC65FaXCt%2FK%2BX0dVyVD8xQVQTW0VqWcllSi1C3pjugchxu3yFpFZdsD4H1BsZLGelEEqSsTLJN2xnE6JTfPdWx9PLdXbTVEDOj7G2stReq40Tlp%2F0q5e2l%2FDuzK6CQj%2B1f4XmfrYl2Z4v0Jzweh%2FKAXxhezUnrNqFva%2FuxUU%2B7SDdAWdPcSd%2Bbm%2FWy5W1Jxv8gIrutzvT19u0koHQ43ak3ANMOwYIdUFEfF2X0NYs%2BqGpFLZ6yNsw3kZVaLg%2BtrxaWjjTFXgR1SdOnODPWN7zrPP6ycbm7VZJun2k7Ctb7vQ5Fzm4T0j4m6EhAhZFELW1AYRM4daBArJ1WKFEkfHELI0K8PxER2vBW5fvJO5z7I6ZQ0ketww1R354hJ2CnGtSVhdx0JiHJ7dVVmlbFF7FpeE%2FOpWQmMBiHTB5WJCyYc461yuF0Ph5wpzhCwhioarvCgNAWTsFP3xDNte9Z%2FR8dg6zKToWdH8%2BpEylPF9merDy1TrlrWej5Dd6e2z2d3oDM%2BD4ELXswVk7BTEn7zNgmn9hcfox9GdCEgzk3VJgwYNZXNIuO1MsfLyCMht0Xx2Ih4x7YW02VvGBEslu0vdP47tM6ZzAJEAq0aSxbWZRTJs0uIq0eNWjDtIZtNYjcJcd2O7gf3ifvFfeP%2BO4pocgER8C7UVpzuSbFgsOGsRp0SDET4ihFahCyEg6sN98Li4R370GA1xGDtX2VYFU25BS40Wd56qlazjkbUmHhmx4efO2%2B2sJSxjyD1VSn2zyVy9pDaVWdzQLbdJJQVPMeRDa7nIp4ItRdaGhc4cm4j8l0%2BrGa9bKg1vsWA%2BlvWB%2FnKiUbxxhPuV8GeN6yM%2FJYtStvS1e1Ig9C7iFoyvIjQ8fRgtv2typDaBLN%2FpEE4Il6RsG1UE7awdqdwdWIZzbiDhPSLPnZfKC%2FN6FfgpVw73WRLZrpZLEguV3KmY5fQUTmI66flArBPbaNv9IEOfJkOod3LVWfnymsStkrJVRd6bCSJXneQkGLYvmHnRQ5mC88FPj%2B3Sgh2BfgZVWTN%2BM7LZxzPNZKJW90yCFCH0uyjyJd5A5xRmFhNmArn58svJIyd0el5s5IdNcp89Q4SxsPXKu24wNZ0YXv1MVVprGuJxVT6odcD3Bhn9snv4T44Lp8o67gbaLB7UTx%2BImGrSwfP78C4loNvoY7EjsgZRIDUe5w%2BBB8gfHd%2BarqCQADZSBucnxf4oGAR%2Bg46GTjgdxJCYEC0%2B4xIPFsb6kzoDSOsXgAZ5V4KculmDfBna%2BqcGfLmxAOrvCfhvuXuzp0fSQjZZ38g%2BJCuSPg9SxWV%2B7pzduhMLh1pFGP%2FUOTrVtRVpXJR5ghE8DQYYgC29ExC42hjjIddY0vpg9%2FulITxc2HY7Iej1J8XgiiVRaPKtegLv2GW5GrY4u2WFD5Z1Rjc0huRWIA7asKYgco4mr3G1ZONMX1RDabYb9%2FOpPB2%2BlJnQv6LRWYvsD3DPeLB%2F3Zmb32s1AOyynXpCQ9rrWyxKVT19oqEqLgmS7592bVi3NPF2swBgPvFfcuSET0ZbRrbeaG7CZHwz2YvcCxX7oFO7aqnjOISseD18lhJhuPb60XBxSaq%2Fdnc6USXF0Zj2Q67VtTEiCebAOpHoFiTjHjVDRd9J2SlbYa%2FjsD9y4odVeiIX0%2FdlYS0X%2F2s2cahsk0zu5o4nJvQtGTCs8UxoL30yJ8Xaj3R7bH2XbktKZzjXpAQNW9k5PDmukDMx6HNcodfjIvFsY1O7yc%2BHZIRs6Xxj0uuhOvIShgkUqliSk%2B5PtsIo%2FIiuBhxoTKC5wjCfLzzvNx8IL7U4thuDckK%2BTH6m7nIIcmUFaQSJTIJUSlNNrh7oQctv2R2NHXU3zBIc1J36%2B6xhad3WPYP9pYmISpAYek0U2ZCLm2nWStjihMovipnnVkxxn0SItPlroaKcDRQ84EQx7sJMn6sbEVx1AupCB0gt5lpsCIrmcPLEpqE8GnKSM477pPwRN7d7wsW3uQngnFWR4C%2FzM7kxFZLBpnNIVUxlVWRJN%2F044KiXyhokG1VlpvqPglla6AuG1cRiLlAe3IZsVge8nkzJLzXTD3SU9vlV8O0gaUJS0LZdmWbZ7pPwpzJklkqRVEx%2BjdFWs8D7h%2FP4fCupH72X8WnQmaEDpJLVS%2B4dqI8CdG6OVFJKNuyDKU83CYhuknJFlFG5W83KxbY7bC%2FflbuQZE6ZjZrBQnzIbNC%2B9hHzGxJZaMtIIvfLE9IEl4%2BJncmXD%2FFG18hqiFIx1bWt4j962rFotHlsRL1ZqEyflaug%2Fvcv7Y2lu4mK1cOW4oV%2FZFpEiLGjT7kgupFUdlZVmDq1i3kyQ6US26Blo%2FyhoRoG%2B62%2BDWAO%2Bbbnmx6LC%2FeNVZUYjUcqryd6a%2FWlRXhaDoEX9uZTSFbst%2FujrkqcLq%2FvC4kLDhnaRwHhaxK3GeobKBBZTUVyUmgKBrkO8pt87xNZ0LZRTc6G%2FuZhHj%2BZeZ3I%2FXKvsEuLKXpZipzVRXLPyyKISWK7zB3nlzNmUIfdJtVOVoEkYS7l1rsR2%2BX0Id92UxQN3xcasmTLbEeD0EnYcElOYvcsU3%2BKLYs47wPIgmtOOcJLVQ87SshOwUdZMzcjGpf9ltlzdqavO0M3vbKR9iZxVu2lH1QSIgvHovB82tCdgux%2Bsem%2BpW%2FpF6yHpbDCX8JJhHRXk1qex711ijT2c6moTbYJMTz5c6ypZjTD0NOCH34AdMRGIrlBCpLomLyc%2BFAEXD8M8WUniQ3ENdO%2BLcRz8mt1trR%2BZGEeJ6T24zns2Gc9oScEmL3T83emGyuYVtBA5cgnRGPbZWvnJSf4fOuWAMMowUqhttVFt9tEuK%2Bcf94DjsLORFP%2FjfkpNBF8s3WsMS3u6rUkzPfbzVEzfalkK1ngtYB7Tv4%2BrrjLJ2dFg8TYuUYw6ndHuf3ekNCXLej%2B8F94n4dSpjeGXJazJ4NY4WBXzDXVQnnI539iGOoRAcMTrLiF6so9yc0lbL03yE3BGn6plukDTJfVh2ZB7pF7Y94vFBcOS7fVglNXbzIpmcS2kLAzSG3JF4kuMXszSIesrHeHBGRAa1LCtTwnxTESnmoyPEtwSJgApGwmXaJD4TcFLpoppWbRtPPBpM9K3C2OrihVox%2B0r%2BrIsp3HN6sRkCMh1OdlZiEjiM95LZQTNz9dOFqS7GJo9QCve%2BwnlY0izVTK2OFk%2FxEwFG0ZUblAFXZsSB4BIy1yVsj9%2FyydYfwPhnBdV16xluE%2B0JeCJlih9tRaLa6zJqpGWXNl4ypiG3%2FvCZgKgVny2ZqfyjB%2BbgRmRJEEu6RbBIkG6CB98nInqWuPeOgkFcyaYD4BN3AFTu6wKokAncmZQVRkT2t0pMCRGO6FcWiYVpM9GWso3juzIHBJKBKDLGsBVy2u5VL9XkuTu0vPhbyUsgi9Lgtzt%2BXhbh51h6nLzK9UVUZBhynV0dUCUdpflzTjMD9kj0huAQElr4uHzcMd45d7h5c14XneyzkB7HSRKa9Qx%2FWQTsF%2FS1goUT%2FCoSN2RKE3SsscmZWxUpUtFjsSJyfGWwC3q7CJ9kyDzVfOmtxjp%2FL1oSprXR%2Be096nxHyi8Qrs4Xt3L44FSiMJqJoXb1zWY3Inl4Vy2FEcxpkN2BVQ6mNST3CsZ%2FNHVIW65uxdWF1jMgoTIW%2Ft0sOrE4AArZW4ctX2J5TlFTe%2FGoxo39JbE7win%2Fj57KC6zn8TCVzeojPhPwkZKR51u5e6SgrEFQ5mJ04BGz1DbspLtTmeTrkRzGbc9jVNmbHfPOOfT8K%2BtEjWz2RCNiKK0fcGWMrldEkkR3yq8TbqhXa%2FdDzB6knB%2FtREJjtVQlDPwDuqEijs2OMz8d1HHyOYtRdCvlZ4ulOLU4MwJq3hSi%2BrCcBC84brphEJWArsLNxUvD5Dt5%2FC%2B32fhHSQYiI7zppaculsg%2Bl1zVZ%2FWgrvXcZWdJ6MwFVOzqryqltzt436fU7IV0k7sQ%2F5bTZO2eK%2B7Uxpf1%2FzUa76%2FmvMuncqFljQ02Yu%2BH43O7i4yGd5L0%2B4kt041VuTGpWspGDZyUO1bYyCZSKdGaH0SaOCdc1ts0Vosmi0Q1%2Fj89xOjbU9sppLm5Lf%2BXU%2BbAzZ%2F%2BGaUZHVbM5i%2BZMntRf%2FooQuxYHMwvCSeCcfGGfUA56wPvxdy6cs3EO%2FG1IZ6GHGOelbwo95WBZtRok3l4Q6wol2J5hWG%2BZUNaAchNH1lOlvZtdjzt%2Bj%2Ffh%2FS7d25sh3SU5WdxDK%2BJGP0w0gqRR%2BS2fLGiHaSIv7DcK%2FYSvUvA3TW5ViVGesYIIVnLV%2BB18WzhvICIfbcpQGj6DVztni0i9bLTYQ%2BlBWDvxin%2Fj5y7fy5asbuKjoSDI9H7i0%2FRA51nBGBrhrOnGnj421PwbHJ08uQwNUEK7ty%2BEgigUUfNf9IC1PMkMH6OOCPhQKMhCD9nNTHMZBsONYk1EwCdDiSD0sC%2FwhDN8iH6hRBJ64Nd40hk%2BwpBQIgot%2FW%2Fx5DM8L%2BPfU4wOJbLQIExgRWB4iGmhRBcREh%2Bhb6KprAwMt4GsCOhfiOX21nQwKwbDxS1oCrOOicjwjoAjmW13d1%2BwH5HhiB8w4dwQFlbEJxG5wErDsBENtAI%2BxexSEEqifJBjTRk2oZTwMLPKfND3GVYihgVcoBXwi8wm62lQW1iZGCYMMJsDl47klSCxkgY1mQ02DIWSFCmBScj1mcHmlzTAFaxkjK6KMmlfE0YDF8aXCSdZ2RgdlSXk859LgvqP2G7w9pTRuv0kpBI%2Byexwf3v6KA18ASthQqNYm9L0AfYnfo4mYh0rY0IiG02ImAX%2BOSuibEaYFTMhUE6l9Hux1vvTuf9P8bMBK2pwkeW7DrksHZ4V0Z7tEitsoHCR8Bhrt14O%2Fn%2BgA%2FuLqS41pWE4hhoEamjXEYnlQ2fF%2B%2BJb1CgrtHZuh0zfd8VlkRdaFb%2FLMaj6xHyS1fsB1tqACpm0f0BnxjxWdl%2BSbxeR78espYmzTX2MsI%2BV3xfYQwR8hLUyccn4MMzefGb05MyXi6B81kKWmFDe2X%2BQUkzhshqOoxEGFyLfV1nrWDqUeBjcEGRkM2FsxXlU0%2BMwMxZVQj4Qd29wOzeTxZWw1cd5j4vssljdqn4KsYpxqyqfHbsGxieXiNeTS0uwOLZdJQXrS4qWz%2FmM%2F088GpNt9NqHt5ssrkq8CFW3%2BJb1RoIRLxyzKtMOAVFJrA0snktysrgHZ0haEYYScgJYC6c8nrcJo9V3%2BIzHogUpaWv2dVLYJJjk43VxIpoQril%2Bv7jvJPpS%2BRqeh2eVRXtBZgcR89tk4HmW8DYp%2BIZ4ceN6j8iG654mrCeMJ7L9mfAt3CfPFkvCCc5VRIDv0%2BvThFfiXYzT6HVl3Ah0Mp4jeS2%2BNSxvs7JG2vzsWvx9eH9%2B%2FO%2FT4p%2F3Cj6f%2Fv8hPsf5R%2F4PVY57P6%2FezIwAAAAASUVORK5CYII%3D%22%3B%0D%0A%0D%0A%20%20const%20requireNonPackagedRuntime%20%3D%20(blockName)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(Scratch.vm.runtime.isPackaged)%20%7B%0D%0A%20%20%20%20%20%20alert(%0D%0A%20%20%20%20%20%20%20%20%60To%20use%20the%20Looks%2B%20%24%7BblockName%7D%20block%2C%20the%20creator%20of%20the%20packaged%20project%20must%20uncheck%20%22Remove%20raw%20asset%20data%20after%20loading%20to%20save%20RAM%22%20under%20advanced%20settings%20in%20the%20packager.%60%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20true%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7BVM.BlockUtility%7D%20util%0D%0A%20%20%20*%20%40param%20%7Bunknown%7D%20targetName%0D%0A%20%20%20*%2F%0D%0A%20%20const%20getSpriteTargetByName%20%3D%20(util%2C%20targetName)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20nameString%20%3D%20Scratch.Cast.toString(targetName)%3B%0D%0A%20%20%20%20const%20target%20%3D%20util.target%3B%0D%0A%20%20%20%20if%20(target.getName()%20%3D%3D%3D%20nameString)%20%7B%0D%0A%20%20%20%20%20%20return%20target%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20util.runtime.getSpriteTargetByName(nameString)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20class%20LooksPlus%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22lmsLooksPlus%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22Looks%2B%22%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%239966FF%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23855CD6%22%2C%0D%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23774DCB%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22showSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22show%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22hideSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22hide%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteVisible%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BTARGET%5D%20visible%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setLayerTo%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20layer%20%23%20of%20%5BTARGET%5D%20to%20%5BLAYER%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LAYER%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22spriteLayerNumber%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22layer%20%23%20of%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22effectValue%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BEFFECT%5D%20effect%20of%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22color%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22effectMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22targetCostumeNumber%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%23%20of%20costumes%20in%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22costumeAttribute%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BATTRIBUTE%5D%20of%20%5BCOSTUME%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATTRIBUTE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22costumeAttribute%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COSTUME%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22snapshotStage%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22snapshot%20stage%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22replaceCostumeContent%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22set%20%5BTYPE%5D%20for%20%5BCOSTUME%5D%20to%20%5BCONTENT%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22SVGPNG%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22SVG%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COSTUME%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTENT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%3Csvg%20%2F%3E%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22restoreCostumeContent%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22restore%20content%20for%20%5BCOSTUME%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COSTUME%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22costumeContent%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%5BCONTENT%5D%20of%20costume%20%23%20%5BCOSTUME%5D%20of%20%5BTARGET%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTENT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22contentType%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22content%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COSTUME%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TARGET%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22replaceColors%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22replace%20%5BCOLOR1%5D%20with%20%5BCOLOR2%5D%20in%20%5BSVG%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR1%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%23FCB1E3%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR2%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%238ECAFF%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SVG%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%3Csvg%20%2F%3E%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22colorHex%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22hex%20of%20%5BCOLOR%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%23FFD983%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_looks%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20effectMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20false%20for%20Scratch%20parity%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22color%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22color%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22fisheye%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22fisheye%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22whirl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22whirl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22pixelate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22pixelate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22mosaic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22mosaic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22brightness%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22brightness%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22ghost%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22ghost%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20costumeAttribute%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22width%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22width%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22height%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22height%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22format%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22format%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22rotation%20center%20x%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22rotationCenterX%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22rotation%20center%20y%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22rotationCenterY%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20contentType%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22content%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22content%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22dataURI%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22dataURI%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20SVGPNG%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22SVG%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22SVG%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20spriteMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getSprites%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20showSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(target)%20%7B%0D%0A%20%20%20%20%20%20%20%20target.setVisible(true)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20hideSprite(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(target)%20%7B%0D%0A%20%20%20%20%20%20%20%20target.setVisible(false)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20spriteVisible(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20Scratch.Cast.toBoolean(target.visible)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setLayerTo(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20drawableID%20%3D%20target.drawableID%3B%0D%0A%20%20%20%20%20%20const%20layerOrder%20%3D%20target.getLayerOrder()%3B%0D%0A%20%20%20%20%20%20const%20newLayer%20%3D%20args.LAYER%20-%20layerOrder%3B%0D%0A%20%20%20%20%20%20target.renderer.setDrawableOrder(drawableID%2C%20newLayer%2C%20%22sprite%22%2C%20true)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20spriteLayerNumber(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20target.getLayerOrder()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20effectValue(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20effects%20%3D%20target.effects%3B%0D%0A%20%20%20%20%20%20const%20name%20%3D%20Scratch.Cast.toString(args.EFFECT)%3B%0D%0A%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(effects%2C%20name))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20effects%5Bname%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20should%20never%20happen%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20costumeAttribute(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20costumeIndex%20%3D%20this.getCostumeInput(args.COSTUME%2C%20util.target)%3B%0D%0A%20%20%20%20%20%20const%20costume%20%3D%20util.target.sprite.costumes%5BcostumeIndex%5D%3B%0D%0A%20%20%20%20%20%20if%20(!costume)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Costume%20doesn't%20exist%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20attribute%20%3D%20args.ATTRIBUTE%3B%0D%0A%20%20%20%20%20%20if%20(attribute%20%3D%3D%3D%20%22width%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20Math.ceil(Scratch.Cast.toNumber(costume.size%5B0%5D))%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attribute%20%3D%3D%3D%20%22height%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20Math.ceil(Scratch.Cast.toNumber(costume.size%5B1%5D))%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attribute%20%3D%3D%3D%20%22format%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(!requireNonPackagedRuntime(%22costume%20format%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22unknown%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20costume.asset.assetType.runtimeFormat%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attribute%20%3D%3D%3D%20%22rotationCenterX%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20costume.rotationCenterX%3B%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(attribute%20%3D%3D%3D%20%22rotationCenterY%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20costume.rotationCenterY%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20targetCostumeNumber(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20Scratch.Cast.toNumber(target.sprite.costumes.length)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20snapshotStage(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.renderer.requestSnapshot((uri)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve(uri)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20replaceCostumeContent(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20costumeIndex%20%3D%20this.getCostumeInput(args.COSTUME%2C%20util.target)%3B%0D%0A%20%20%20%20%20%20const%20costume%20%3D%20util.target.sprite.costumes%5BcostumeIndex%5D%3B%0D%0A%20%20%20%20%20%20if%20(!costume)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Costume%20doesn't%20exist%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2FThis%20is%20here%20to%20ensure%20no%20changes%20are%20made%20to%20bitmap%20costumes%2C%20as%20changes%20are%20irreversible%0D%0A%20%20%20%20%20%20%2F%2FCheck%20will%20be%20removed%20when%20it's%20possible%20to%20edit%20bitmap%20skins%0D%0A%20%20%20%20%20%20const%20format%20%3D%20costume.asset.assetType.runtimeFormat%3B%0D%0A%20%20%20%20%20%20if%20(format%20!%3D%3D%20%22svg%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Costume%20is%20not%20vector%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20contentType%20%3D%20args.TYPE%3B%0D%0A%20%20%20%20%20%20const%20content%20%3D%20args.CONTENT%3B%0D%0A%20%20%20%20%20%20if%20(contentType%20%3D%3D%3D%20%22SVG%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.renderer.updateSVGSkin(%0D%0A%20%20%20%20%20%20%20%20%20%20costume.skinId%2C%0D%0A%20%20%20%20%20%20%20%20%20%20Scratch.Cast.toString(content)%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Options%20other%20than%20SVG%20are%20currently%20unavailable%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20Scratch.vm.emitTargetsUpdate()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20restoreCostumeContent(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20costumeIndex%20%3D%20this.getCostumeInput(args.COSTUME%2C%20util.target)%3B%0D%0A%20%20%20%20%20%20const%20costume%20%3D%20util.target.sprite.costumes%5BcostumeIndex%5D%3B%0D%0A%20%20%20%20%20%20if%20(!costume)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Costume%20doesn't%20exist%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20(!requireNonPackagedRuntime(%22restore%20costume%20content%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2FThis%20is%20here%20to%20ensure%20no%20changes%20are%20made%20to%20bitmap%20costumes%2C%20as%20changes%20are%20irreversible%0D%0A%20%20%20%20%20%20%2F%2FCheck%20will%20be%20removed%20when%20it's%20possible%20to%20edit%20bitmap%20skins%0D%0A%20%20%20%20%20%20const%20format%20%3D%20costume.asset.assetType.runtimeFormat%3B%0D%0A%20%20%20%20%20%20if%20(format%20!%3D%3D%20%22svg%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Costume%20is%20not%20vector%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20content%20%3D%20costume.asset.decodeText()%3B%0D%0A%20%20%20%20%20%20const%20rotationCenterX%20%3D%20costume.rotationCenterX%3B%0D%0A%20%20%20%20%20%20const%20rotationCenterY%20%3D%20costume.rotationCenterY%3B%0D%0A%20%20%20%20%20%20util.target.renderer.updateSVGSkin(costume.skinId%2C%20content%2C%20%5B%0D%0A%20%20%20%20%20%20%20%20rotationCenterX%2C%0D%0A%20%20%20%20%20%20%20%20rotationCenterY%2C%0D%0A%20%20%20%20%20%20%5D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20costumeContent(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20getSpriteTargetByName(util%2C%20args.TARGET)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Target%20does%20not%20exist%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20if%20(!requireNonPackagedRuntime(%22costume%20content%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20costume%20%3D%20target.sprite.costumes%5Bargs.COSTUME%20-%201%5D%3B%0D%0A%20%20%20%20%20%20if%20(!costume)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Target%20costume%20does%20not%20exist%22)%3B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20format%20%3D%20args.CONTENT%3B%0D%0A%20%20%20%20%20%20if%20(format%20%3D%3D%3D%20%22content%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20costume.asset.decodeText()%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20costume.asset.encodeDataURI()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20replaceColors(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20svg%20%3D%20Scratch.Cast.toString(args.SVG)%3B%0D%0A%20%20%20%20%20%20const%20color1%20%3D%20args.COLOR1%3B%0D%0A%20%20%20%20%20%20const%20color2%20%3D%20args.COLOR2%3B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20svg.replace(new%20RegExp(color1%2C%20%22gi%22)%2C%20color2)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20regex%20was%20invalid%2C%20don't%20replace%20anything%0D%0A%20%20%20%20%20%20%20%20return%20svg%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20colorHex(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20args.COLOR%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getCostumeInput(costume%2C%20target)%20%7B%0D%0A%20%20%20%20%20%20if%20(typeof%20costume%20%3D%3D%3D%20%22number%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20costume%20%3D%20Math.round(costume%20-%201)%3B%0D%0A%20%20%20%20%20%20%20%20if%20(costume%20%3D%3D%3D%20Infinity%20%7C%7C%20costume%20%3D%3D%3D%20-Infinity%20%7C%7C%20!costume)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20costume%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20costume%20%3D%20this.wrapClamp(costume%2C%200%2C%20target.sprite.costumes.length%20-%201)%3B%0D%0A%20%20%20%20%20%20%20%20return%20costume%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20target.getCostumeIndexByName(Scratch.Cast.toString(costume))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20wrapClamp(n%2C%20min%2C%20max)%20%7B%0D%0A%20%20%20%20%20%20const%20range%20%3D%20max%20-%20min%20%2B%201%3B%0D%0A%20%20%20%20%20%20return%20n%20-%20Math.floor((n%20-%20min)%20%2F%20range)%20*%20range%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getSprites()%20%7B%0D%0A%20%20%20%20%20%20const%20spriteNames%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20const%20targets%20%3D%20Scratch.vm.runtime.targets%3B%0D%0A%20%20%20%20%20%20const%20myself%20%3D%20Scratch.vm.runtime.getEditingTarget().getName()%3B%0D%0A%20%20%20%20%20%20for%20(let%20index%20%3D%201%3B%20index%20%3C%20targets.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20targets%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(target.isOriginal)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20targetName%20%3D%20target.getName()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(targetName%20%3D%3D%3D%20myself)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20spriteNames.unshift(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22this%20sprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20targetName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20spriteNames.push(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20targetName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20targetName%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(spriteNames.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20spriteNames%3B%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%7B%20text%3A%20%22%22%2C%20value%3A%200%20%7D%5D%3B%20%2F%2Fthis%20should%20never%20happen%20but%20it's%20a%20failsafe%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20Scratch.extensions.register(new%20LooksPlus())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Key%20Simulation%0D%0A%2F%2F%20ID%3A%20cubesterKeySimulation%0D%0A%2F%2F%20Description%3A%20Simulate%20key%20presses%20and%20mouse%20clicks.%0D%0A%2F%2F%20By%3A%20CubesterYT%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCubesterYT%2F%3E%0D%0A%2F%2F%20License%3A%20MIT%20AND%20MPL-2.0%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22de%22%3A%7B%22_Key%20Simulation%22%3A%22Tastensimulation%22%7D%2C%22fi%22%3A%7B%22_Key%20Simulation%22%3A%22N%C3%A4pp%C3%A4inj%C3%A4ljittely%22%2C%22_left%22%3A%22vasen%20puoli%22%2C%22_right%22%3A%22oikea%20puoli%22%7D%2C%22it%22%3A%7B%22_Key%20Simulation%22%3A%22Simulazione%20Tasti%22%2C%22_and%20wait%22%3A%22e%20attendi%22%2C%22_caps%20lock%22%3A%22blocco%20maiuscole%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22Clicca%20pulsante%20%5BBUTTON%5D%20del%20mouse%20a%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20per%20%5BSECONDS%5D%20secondi%20%5BAND_WAIT%5D%22%2C%22_delete%22%3A%22cancella%22%2C%22_down%20arrow%22%3A%22freccia%20gi%C3%B9%22%2C%22_end%22%3A%22fine%22%2C%22_enter%22%3A%22invio%22%2C%22_home%22%3A%22inizio%22%2C%22_insert%22%3A%22inserisci%22%2C%22_left%22%3A%22a%20sinistra%22%2C%22_left%20arrow%22%3A%22freccia%20sinistra%22%2C%22_middle%22%3A%22centrale%22%2C%22_page%20down%22%3A%22pagina%20gi%C3%B9%22%2C%22_page%20up%22%3A%22pagina%20su%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22premi%20%5BKEY%5D%20per%20%5BSECONDS%5D%20secondi%20%5BAND_WAIT%5D%22%2C%22_right%22%3A%22a%20destra%22%2C%22_right%20arrow%22%3A%22freccia%20destra%22%2C%22_scroll%20lock%22%3A%22blocco%20scorrimento%22%2C%22_space%22%3A%22spazio%22%2C%22_up%20arrow%22%3A%22freccia%20su%22%2C%22_without%20waiting%22%3A%22senza%20attendere%22%7D%2C%22ja%22%3A%7B%22_Key%20Simulation%22%3A%22%E3%82%AD%E3%83%BC%E3%82%B7%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%22%2C%22_and%20wait%22%3A%22%E6%8A%BC%E3%81%97%E3%81%AA%E3%81%8C%E3%82%89%E5%BE%85%E3%81%A4%22%2C%22_backspace%22%3A%22Backspace%22%2C%22_caps%20lock%22%3A%22Caps%20Lock%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%E3%83%9E%E3%82%A6%E3%82%B9%E3%81%AE%5BBUTTON%5D%E3%82%92x%E5%BA%A7%E6%A8%99%E3%82%92%5BX%5D%E3%80%81y%E5%BA%A7%E6%A8%99%E3%82%92%5BY%5D%E3%81%AB%E3%81%97%E3%81%A6%5BSECONDS%5D%E7%A7%92%5BAND_WAIT%5D%22%2C%22_control%22%3A%22Ctrl%22%2C%22_delete%22%3A%22Delete%22%2C%22_down%20arrow%22%3A%22%E4%B8%8B%E5%90%91%E3%81%8D%E7%9F%A2%E5%8D%B0%22%2C%22_end%22%3A%22End%22%2C%22_enter%22%3A%22Enter%22%2C%22_escape%22%3A%22Escape%22%2C%22_home%22%3A%22Home%22%2C%22_insert%22%3A%22Insert%22%2C%22_left%22%3A%22%E5%B7%A6%E3%83%9C%E3%82%BF%E3%83%B3%22%2C%22_left%20arrow%22%3A%22%E5%B7%A6%E5%90%91%E3%81%8D%E7%9F%A2%E5%8D%B0%22%2C%22_middle%22%3A%22%E3%83%9B%E3%82%A4%E3%83%BC%E3%83%AB%22%2C%22_page%20down%22%3A%22Page%20Down%22%2C%22_page%20up%22%3A%22Page%20Up%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%5BKEY%5D%E3%82%AD%E3%83%BC%E3%82%92%5BSECONDS%5D%E7%A7%92%5BAND_WAIT%5D%22%2C%22_right%22%3A%22%E5%8F%B3%E3%83%9C%E3%82%BF%E3%83%B3%22%2C%22_right%20arrow%22%3A%22%E5%8F%B3%E5%90%91%E3%81%8D%E7%9F%A2%E5%8D%B0%22%2C%22_scroll%20lock%22%3A%22Scroll%20Lock%22%2C%22_shift%22%3A%22Shift%22%2C%22_space%22%3A%22%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9%22%2C%22_up%20arrow%22%3A%22%E4%B8%8A%E5%90%91%E3%81%8D%E7%9F%A2%E5%8D%B0%22%2C%22_without%20waiting%22%3A%22%E6%8A%BC%E3%81%99%22%7D%2C%22nb%22%3A%7B%22_Key%20Simulation%22%3A%22N%C3%B8kkel%20simulering%22%2C%22_and%20wait%22%3A%22og%20vent%22%2C%22_backspace%22%3A%22tilbakestill%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22klikk%20%5BBUTTON%5D%20musknapp%20ved%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20i%20%5BSECONDS%5D%20sekunder%20%5BAND_WAIT%5D%22%2C%22_control%22%3A%22kontroll%22%2C%22_delete%22%3A%22slett%22%2C%22_down%20arrow%22%3A%22nedoverpil%22%2C%22_end%22%3A%22slutt%22%2C%22_enter%22%3A%22skriv%20inn%22%2C%22_home%22%3A%22hjem%22%2C%22_insert%22%3A%22sett%20inn%22%2C%22_left%22%3A%22venstre%22%2C%22_left%20arrow%22%3A%22venstre%20pil%22%2C%22_middle%22%3A%22middels%22%2C%22_page%20down%22%3A%22side%20ned%22%2C%22_page%20up%22%3A%22side%20opp%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22trykk%20%5BKEY%5D%20i%20%5BSECONDS%5D%20sekunder%20%5BAND_WAIT%5D%22%2C%22_right%22%3A%22h%C3%B8yre%22%2C%22_right%20arrow%22%3A%22h%C3%B8yre%20pil%22%2C%22_scroll%20lock%22%3A%22rullel%C3%A5s%22%2C%22_space%22%3A%22mellomrom%22%2C%22_up%20arrow%22%3A%22oppoverpil%22%2C%22_without%20waiting%22%3A%22uten%20%C3%A5%20vente%22%7D%2C%22nl%22%3A%7B%22_Key%20Simulation%22%3A%22Toetsen%20simuleren%22%2C%22_and%20wait%22%3A%22en%20wacht%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22klik%20%5BBUTTON%5D%20muisknop%20op%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20voor%20%5BSECONDS%5D%20seconden%20%5BAND_WAIT%5D%22%2C%22_down%20arrow%22%3A%22pijltje%20omlaag%22%2C%22_left%22%3A%22linker%22%2C%22_left%20arrow%22%3A%22pijltje%20links%22%2C%22_middle%22%3A%22middelste%22%2C%22_move%20mouse%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%3A%22verplaats%20muis%20naar%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22druk%20toets%20%5BKEY%5D%20%5BSECONDS%5D%20seconden%20in%20%5BAND_WAIT%5D%22%2C%22_right%22%3A%22rechter%22%2C%22_right%20arrow%22%3A%22pijltje%20rechts%22%2C%22_space%22%3A%22spatiebalk%22%2C%22_up%20arrow%22%3A%22pijltje%20omhoog%22%2C%22_without%20waiting%22%3A%22zonder%20te%20wachten%22%7D%2C%22ru%22%3A%7B%22_Key%20Simulation%22%3A%22%D0%A1%D0%B8%D0%BC%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D1%8F%20%D0%9A%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%22%2C%22_and%20wait%22%3A%22%D0%B8%20%D0%B6%D0%B4%D0%B0%D1%82%D1%8C%22%2C%22_backspace%22%3A%22%D0%B7%D0%B0%D0%B4%D0%BD%D0%B8%D0%B9%20%D0%BF%D1%80%D0%BE%D0%B1%D0%B5%D0%BB%22%2C%22_caps%20lock%22%3A%22%D0%BB%D0%BE%D0%BA%20%D0%9A%D0%90%D0%9F%D0%A1%D0%90%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%D0%BD%D0%B0%D0%B6%D0%B0%D1%82%D1%8C%20%5BBUTTON%5D%20%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D1%83%20%D0%BC%D1%8B%D1%88%D0%B8%20%D0%BD%D0%B0%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20%D0%BD%D0%B0%20%5BSECONDS%5D%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%20%5BAND_WAIT%5D%22%2C%22_control%22%3A%22%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%22%2C%22_delete%22%3A%22%D1%83%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%22%2C%22_down%20arrow%22%3A%22%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BA%D0%B0%20%D0%B2%D0%BD%D0%B8%D0%B7%22%2C%22_end%22%3A%22%D0%BA%D0%BE%D0%BD%D0%B5%D1%86%22%2C%22_enter%22%3A%22%D0%B2%D0%B2%D0%BE%D0%B4%22%2C%22_escape%22%3A%22%D1%8D%D1%81%D0%BA%D0%B5%D0%B9%D0%BF%22%2C%22_home%22%3A%22%D0%B4%D0%BE%D0%BC%D0%BE%D0%B9%22%2C%22_insert%22%3A%22%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%22%2C%22_left%22%3A%22%D0%BB%D0%B5%D0%B2%D0%BE%D0%BC%D1%83%20%D0%BA%D1%80%D0%B0%D1%8E%22%2C%22_left%20arrow%22%3A%22%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BA%D0%B0%20%D0%BD%D0%B0%D0%BB%D0%B5%D0%B2%D0%BE%22%2C%22_middle%22%3A%22%D1%81%D0%B5%D1%80%D0%B5%D0%B4%D0%B8%D0%BD%D0%B0%22%2C%22_move%20mouse%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D1%82%D1%8C%20%D0%BC%D1%8B%D1%88%D1%8C%20%D0%B2%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%2C%22_page%20down%22%3A%22%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0%20%D0%B2%D0%BD%D0%B8%D0%B7%22%2C%22_page%20up%22%3A%22%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0%20%D0%B2%D0%B2%D0%B5%D1%80%D1%85%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%D0%BD%D0%B0%D0%B6%D0%B0%D1%82%D1%8C%20%5BKEY%5D%20%D0%B2%20%D0%B4%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C%D1%8E%20%5BSECONDS%5D%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%20%5BAND_WAIT%5D%22%2C%22_right%22%3A%22%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D0%BC%D1%83%20%D0%BA%D1%80%D0%B0%D1%8E%22%2C%22_right%20arrow%22%3A%22%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BA%D0%B0%20%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%22%2C%22_scroll%20lock%22%3A%22%D0%BB%D0%BE%D0%BA%20%D0%BA%D1%80%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%22%2C%22_shift%22%3A%22%D1%88%D0%B8%D1%84%D1%82%22%2C%22_space%22%3A%22%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%22%2C%22_up%20arrow%22%3A%22%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BA%D0%B0%20%D0%B2%D0%B2%D0%B5%D1%80%D1%85%22%2C%22_without%20waiting%22%3A%22%D0%B1%D0%B5%D0%B7%20%D0%BE%D0%B6%D0%B8%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F%22%7D%2C%22tr%22%3A%7B%22_Key%20Simulation%22%3A%22Anahtar%20Sim%C3%BClasyon%22%7D%2C%22uk%22%3A%7B%22_Key%20Simulation%22%3A%22%D0%A1%D0%B8%D0%BC%D1%83%D0%BB%D1%8F%D1%86%D1%96%D1%8F%20%D0%9A%D0%BB%D0%B0%D0%B2%D1%96%D1%88%22%2C%22_and%20wait%22%3A%22%D1%96%20%D1%87%D0%B5%D0%BA%D0%B0%D1%82%D0%B8%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%D0%BD%D0%B0%D1%82%D0%B8%D1%81%D0%BD%D1%83%D1%82%D0%B8%20%5BBUTTON%5D%20%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D1%83%20%D0%BC%D0%B8%D1%88%D1%96%20%D0%B2%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20%D0%BD%D0%B0%20%5BSECONDS%5D%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%20%5BAND_WAIT%5D%22%2C%22_down%20arrow%22%3A%22%D1%81%D1%82%D1%80%D1%96%D0%BB%D0%BA%D1%83%20%D0%B2%D0%BD%D0%B8%D0%B7%22%2C%22_left%22%3A%22%D0%BB%D1%96%D0%B2%D1%83%22%2C%22_left%20arrow%22%3A%22%D1%81%D1%82%D1%80%D1%96%D0%BB%D0%BA%D1%83%20%D0%BB%D1%96%D0%B2%D0%BE%D1%80%D1%83%D1%87%22%2C%22_middle%22%3A%22%D1%81%D0%B5%D1%80%D0%B5%D0%B4%D0%BD%D1%8E%22%2C%22_move%20mouse%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D1%96%D1%81%D1%82%D0%B8%D1%82%D0%B8%20%D0%B2%D0%BA%D0%B0%D0%B7%D1%96%D0%B2%D0%BD%D0%B8%D0%BA%20%D0%B2%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%D0%BD%D0%B0%D1%82%D0%B8%D1%81%D0%BD%D1%83%D1%82%D0%B8%20%D0%BA%D0%BB%D0%B0%D0%B2%D1%96%D1%88%D1%83%20%5BKEY%5D%20%D0%BD%D0%B0%20%5BSECONDS%5D%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%20%5BAND_WAIT%5D%22%2C%22_right%22%3A%22%D0%BF%D1%80%D0%B0%D0%B2%D1%83%22%2C%22_right%20arrow%22%3A%22%D1%81%D1%82%D1%80%D1%96%D0%BB%D0%BA%D1%83%20%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D1%80%D1%83%D1%87%22%2C%22_space%22%3A%22%D0%BF%D1%80%D0%BE%D0%B1%D1%96%D0%BB%22%2C%22_up%20arrow%22%3A%22%D1%81%D1%82%D1%80%D1%96%D0%BB%D0%BA%D1%83%20%D0%B2%D0%B3%D0%BE%D1%80%D1%83%22%2C%22_without%20waiting%22%3A%22%D0%B1%D0%B5%D0%B7%20%D0%BE%D1%87%D1%96%D0%BA%D1%83%D0%B2%D0%B0%D0%BD%D0%BD%D1%8F%22%7D%2C%22zh-cn%22%3A%7B%22_Key%20Simulation%22%3A%22%E6%A8%A1%E6%8B%9F%E6%8C%89%E9%94%AE%22%2C%22_and%20wait%22%3A%22%E7%AD%89%E5%BE%85%22%2C%22_caps%20lock%22%3A%22CapsLock%22%2C%22_click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%E5%9C%A8X%5BX%5D%20Y%5BY%5D%E7%82%B9%E5%87%BB%E9%BC%A0%E6%A0%87%5BBUTTON%5D%5BSECONDS%5D%E7%A7%92%E5%B9%B6%5BAND_WAIT%5D%22%2C%22_control%22%3A%22Ctrl%22%2C%22_down%20arrow%22%3A%22%E2%86%93%22%2C%22_end%22%3A%22End%22%2C%22_escape%22%3A%22Esc%22%2C%22_home%22%3A%22Home%22%2C%22_insert%22%3A%22Insert%22%2C%22_left%22%3A%22%E5%B1%85%E5%B7%A6%22%2C%22_left%20arrow%22%3A%22%E2%86%90%22%2C%22_middle%22%3A%22%E4%B8%AD%E9%94%AE%22%2C%22_move%20mouse%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%3A%22%E5%B0%86%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%88%B0%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22%2C%22_page%20down%22%3A%22PageDown%22%2C%22_page%20up%22%3A%22PageUp%22%2C%22_press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%3A%22%E6%8C%89%E4%B8%8B%5BKEY%5D%E9%94%AE%5BSECONDS%5D%E7%A7%92%E5%B9%B6%5BAND_WAIT%5D%22%2C%22_right%22%3A%22%E5%B1%85%E5%8F%B3%22%2C%22_right%20arrow%22%3A%22%E2%86%92%22%2C%22_scroll%20lock%22%3A%22ScrollLock%22%2C%22_space%22%3A%22%E7%A9%BA%E6%A0%BC%22%2C%22_up%20arrow%22%3A%22%E2%86%91%22%2C%22_without%20waiting%22%3A%22%E4%B8%8D%E7%AD%89%E5%BE%85%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20const%20icon%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAFs9JREFUeF7tnXuwZMVdxz9n5t67e%2B%2BCSGBFMMSERzAkGB9EjVHDkrA8AlSy0TxUqsRS4%2BMPqmI0CbDcvssjkFSMVlnRwtJYqVAQNGAJRBN3F4gkmhAMiJiEd4wGMYCBsK97986xvuecHnr6njPTM3POmYe3q6Zmd26f7v51f8%2Bvf%2F3r3yNiCouBFwOviuD4GI6N4MX6Bl4EHKpPBIfGEAMt0u%2BDwP%2FqE8EzMXwbeBx4LILHVuDBK%2BCxaZuuaNIJugo2L8PrgNdF8JpWuvBHVEFXDE834N4Y7ovgC%2Fvhcx9IgTKxZSIBYOA04GzgHL3pI579fwE%2BB9xiYPeIx9J39xMDgCU4I4Z3AOcDR%2FZNaT0PPCkgADcb%2BHQ9XQ7Xy1gDwMAJwIWkC39cKKmzwEL22QjoMwfo95ns0wAs8VYQWAVWss8ysD%2F77AP2ZL%2BHjgF4BPjEQbjuCnioj%2BdqrTqWAFiCLTG8C3h7yGx8D3AYoO9DsgUPea7fOgLE88BzwLPZd2AbfwV81MAdgfVrqzZWAFiC82J4D%2FBz3WZAb7OkPIn0hwPN2qarsyNxDB0bngGeBsQ1upUIbo%2Fhjw3cNKIhr%2Bl2LABg4CzShX9D0cRokb8P2Jwt%2BiATuCXwodsD6%2FnVBAYdCf4HEDi6lF0tuGYH%2FMOAXZX22EgBYOCHgB3ALxRRJLZ%2BNHCUs2cPSn3VALDjkkwhafC%2Fs62iy3hvXoXtl8MDg9I07HMjA4BJF357EQF6048BvndYCp3n6wKAO%2BTvAN%2FKOEMXUpYMmBJJDW6qdgAYeCPwkaLzu9i81HhS15VdRgEAS8N3gf%2FMtoc8uiJ4QPKPgb8vm%2B5u7dUKAAPXAL%2BfNyAJcz%2BYSfNVTcAoAWBp0unhPzLBsYDOawy8r6o58NutBQA74JQW%2FBnwk%2F4AdEZ%2FWSbgVU30OADA0ihBURcLOlrmlH8GfseAtIyVlsoBsAQXxHBt3vFcrF7ancoHkU3hOAFAQ5Kw%2BGi2NeSssnRSv2rgE1UioNK5L2L50tJJxSe2X2cZNwBY2nV8fBjYmz8ZHzBwcVXzVBkAMuT%2Bkj9wHelOrPGtd%2FsfVwBYbiB98RP5K32DgXdWAYLSAXAlHLUC1wNr5vvl2Zm%2BCkJC2hxnANjx68hYcHGwC3ibSRWPpZVSAXAJHDsLfwv8iDtCCXrS%2BEhfP8oyCQDQ%2FOik8LUcATGC%2B2LYZlLRoZRSGgAuh5etpovfcT%2BvRX8FsKGU4Q7XyKQAQFQeyEAgRZJX%2Fh14k0mtlYYupQAgW%2Fy%2FA05yRyRt3slDD7G8BiYJAJZqrXaOydEDM%2FCmS%2BEbw87O0AAwqbZW%2B9OPuYP5fh8Nw460hOcnEQAi%2B%2BvZvYI7BRHcPwtbLk4vIgcuZQBgp3%2BLJ0lfAt%2B4lUkFgObxwfwTwq5MtT7wVA8FgCW4MfZu8sbxzbezM8kAKOIEwPUGfnFQBAwMAANXAJeM857vT8qkA0D0FMgEVxt4%2FyAgGAgAmXr3426HEgRePcgIanxmGgCg6bo3387ggkHUxn0DwKRn%2FHsA2VUmRed8%2FTgOR71ueJoWAOiIKBC4F0kRHIjhp0z6p%2BAyCAA%2BD%2Fy024MWf9RKnhCKpwUAolXKopyV%2FpLJuXHtNjd9AcDA1cB73Qal15flzjgV2ePJ38sSZ79liRJSBrUJDGm7zDq6N9DpwCt92RMEA8CkXji3uZ2N03Ev9O0OWQBrZazJkcNgXhkXkBQcD8808NkQWvsBwH3AD9tGdaV76ohu9YoIKxME3SZvXBZfY5RNwZe9q%2BQIvroYqIQNAkBmsLjoToqQUPd9fgiiqwbBOC2%2BnQ%2FZE%2Fzr2skJMjTtCYDt8OqmJ2%2FIkuf4kNUYUZ2qQDCOi2%2BnWH5oMjr1yitNqjooLD0BYOBG125fR76fGDPWn0dd2SAY58W3W8GX1l4h32TgrQMDINMzd3iv6GpXptuTUMoCwbgvvl0LGZp%2B1VuYCLYudvFA6soBlmB37Fj2yBfvlElYeWeMw4JgUhbfknz%2FWpPzrhdGhQAw8Gb5ubvrPSkKHx%2Bjg4Jg0hZfdBcoiN5i4G%2Fy3t1CACzBzthx1hTbF%2Fuf1NIvCCZx8e3aaBvQduCUO0yOjab%2BngsAA6dnRh7tNmTtUYW7Vp2ACgXBJC%2B%2B5lNuaDkeJVvy4hMUAUD%2B62%2BxizNupl3DgKYXCCZ98e3c5Fwb32hyAm6sAUBm39dhdapr3jK9dIdZwDKeLQLBtCy%2B5kjGpFLdeuUk410frAGAr%2FWTf%2F6PljHrY9aGD4JpWnw71V9ZG8Zmh4EOje4aACzCo1Hqr5kUmfnKzGvainToEnRUpnHxRZcCVMig1CkPm9Qxq106AJCFapF5d1J0K6YIjD3VhdOGjimhRyCX8YYXruZsNwaBD4A%2FJY3OlZRxuu6dkjWpnYyc6%2BI%2FN%2FBrdiA%2BAMQ1FI4nKeN641f7LE5whzk3hU8aZ1dvA8DAVuAzllaFYnvtGBEezSjEo%2FajFzAbOf%2FuOtTQen4jsZhofyV2n4lj4tVVGKCd%2FnrtXvufvBB2EZy%2BmIk%2BLgA%2BCPzeOvsvc%2Bph7thjWf7mN8tttM%2FWcraBPzDwu8n7ZNsycHdm5JP89MoRB%2BRtzM3RWl5m7uijWX7iCc6fmeFgS5Z%2BadG7qcHbd9T%2Bu9tvVfzNTmIyDr3x2ff8%2FDw371OQ2bQ0N21idY8CztZfnqIzDl0EX1nMXPkSAJj0hleh7drlZ0YYgZOZGbYcPNhxPNvabLIiduqVRqNBKwNGs9lM%2Fi02rN%2F1rc%2BMwHPwBes%2B%2B4y%2FhXSwb6cf1bN%2FUx%2BrOeOw1W3dRhSxy2H90jvcdcQRrDw9lCvfQOjRrN219snNBp5KALAEb4%2FhBltHJt4dDv4DdTvYQ3EUcXo2ce75XGf2vB3ZLroWeWVFYXUkJqSMTYs2Ozvb%2Ft0Fi%2F23nhNo9HEX2h29%2Fd1%2Bz83NsbzcPTCs6u72AKA2dzWbNLoAaLBZ6%2F2UrxSKYNsi3Gw5QEf4NqXWCA7N3bvv8BqNBluyt%2FmYmRmuc97arVHESo4wZRdFC6lFFQi08C4ILCgsZ7AcwwdLyEAtNykCi20jjwPYv93ebELNIJBu35NEPmLg3RYAsvppm82PZP%2BPIrY4C%2FyiRoNPOXv%2BuTMz7HEA4bJcu9h2USzrd7eBkMUNreNyEv8Zl1v4HGDWAXHd2kdfDgB2G3iDBYDizrSNfBXMT7Z%2FdRZXNz%2FbaLAhjrnFAcS5UcSeHA6wYcOG5K3XW92MokQwXLXCWJ0EeH114wBtTlDj%2BORG9sXO%2Fp4ysDkyKbeXUWlSlFShw%2B%2BrhkG6i39Yo8GzrRaboohbnQU%2FJ4rY12ULcFmyK%2B2XNXxXY9ZNO9BNCNTf5FApgI4CBF%2Fwkl7MwEujLBVL24ukbi9f%2F1YuyeTRbLKx1eoAwBldvHTKWuRe7VgQhACgSAjU71KyHRgBCHyv4gjOEQf4TeBPLPF16%2F9dAMxEES19Wi3mo4hPO5MkAaVHDP5e6zf030M4SzcO4Aqj7mDqkgdyFEK%2FJQB8KEvWkIxJ98AvGXqqwhuwABDrf05Cn9hko8Fcq9UBgKJjYHhP9dTsJgS6AJCcs5IJubsbDSJH4K1qpApS7SU%2BvEYA0Pm%2FnZunTrt%2F98yvt6vhKHLGkQOELEw%2FHGAhitgbx9y1eTMr364%2B%2FWCO38ANAkBHkKc6zb9WNm5k6%2F79SWAJqVXcvdUHgHLJvKAIDlmK0dQJBYDqRXGc0FTXFpBjJnanACDZoB3dRR6%2Fm2qau%2BWFBc7cuzc5eaQ6vBfKtAMg2Q4y0NcFAN1EyJPYFkUeFQDkU%2FgD9kddAUtKraMcWFjgrEAAjIMQGDInoRxgFABQaBklInAA8A0BQDYDbaPfOi%2BBLAB00%2B8HYvA5wLQJgS6Y6uIA%2FqVQBM9Gi%2FB85HB9JeyrywbwwKZNnLVnT5LNsxcAppEDWBDUBQDJWEpy7JQD4gDiDG2u%2F%2FoQPldSnX4AMGlCYDdFkH%2FtXBcAtGx3dq7dQQFAnKEd8m0dAMOhux8ZoG4OkAOAWKrgvTHM28GsbwHTCwB%2FC4hgn2QAWYUoFW9S6hQC9y8scPbevYn%2Fga%2FmnfRj4DhuAb4QGMPT2gIUc76t%2Fa31GBggBM6fcAL7Hn44MVYY9V1ACG8Y5y3APwbKRkQAkDu5MrokpU5FkBUCu3GA%2BeOPZ98jjyRZpSdJExjCAUatCFJSEgFgt5vgqU5VcMgpwAJgGjlA3QDIUQXvFgCUmLCd3q3Oy6B1AKT3H3UdA3Mug64TADocQuq8Dg4RAuePO459jz66vgWECCA96uRcB39Ix8CLYvhD%2B2ydBiEhHMCOa30LGB4BOQYhF43UJCyEA1iy14XA4QGgiCFuGjrFENQWoMivbZPxOo1C1zlAvTKAbxS6Ai%2BxZuEdN4J1mYWvA6A%2BAOToAL5j4HDrGnZHDO1rgLocQ0L0AOtbwPCsXy3kOIbcaeA0C4CrYycTSF2uYescoD4OkOMalmQWsVtAR1jYupxD14XA%2BgDgO4e2YNsOxzlUgcA6UtfXcSnUDweYtFNAkWtYngdT1YqgPPfwWTjmEnjCDRAhkLS9wuuQA6YZAPJT3JnjHu4CQEYYbatgubRXFEqmZ4AICQl%2BRrA6FELTLASGcAAXAHKHS%2BIJVVByFEDtzGJtDrAEW%2BL0YigpdQSJCuEA8yeeyL6HHpo4VXAIB7BzrS1AQbDiHPf3MvAQFCQq4wId%2BoCqw8T1IwT2CvJcxkSV0Uaoa5jbVwKAijhATpi45Pxv%2B%2FfjBF4L%2FHpd9wIhHGBS9QAhW4DLAZLwdxXIADns%2F1rjBAP1AaA7l3aOoKpDxU4zAEIMQjoAUAb78dooCBV7RuYOmNRe4wJgUgfSl9q2Xp6FjK1gfKwDIJ3Vqo6BOcGiHzdOIPAiAFwJXGwXvMpw8SEAmFQhcBw4QE64%2BCsNXOq%2BzGs4QJ0JI7oJgQuNBrcpUERmFHq6E6uvCm5UVps2MJUAsMvx%2BbdCbF7gqio4QF7CiCYct90LEZDrBebHDKgqZUw3DtAGQHYMnBSDEAHJxiZ0F7bbKaYKAAycMkYE%2BHGD9FsVSaO6KYI2NZvc6ihG3qjQMWMQ%2FasXp1AcQRW5f%2B10xi8A2BiDfpi5sgGQlzSqKIFkoR%2BogV1OUo0klmzZaeO6cQCFqVPmCmsV%2FOaZGfatriaOpIoloG9rJp6EhtObl8Xhs%2Bnf9Xf9W46nNgaB%2Bzdp4vQ3%2FeZOhNqyDqv6dn3n3H7cMdi21M9yHDPXbHKbBwABww9bW4UQmJM2LokJmAfebgA4F7jFfajsxJHdAHDI7Cy3rKwwe%2BSRrDwlbfZkF3EA%2B%2BZXyQEKEkeeZ%2BDWvgCgyr7PQNmpY60QqOhgerNG6TVbNbwEAD98bRV6AKWRl%2FbPKYVJI3OPge6TBs4BbnN%2FK9NvwHIAse7VLDycG43b7o0hamA9V1S6RfeueuFdGuwW5QawLnMLKEgefc5iupvmlp6xIPwTQZnp4y0AtF8ur65iF3%2Bu0WC51UoUJCGLX%2FUi9tt%2B%2Bz7AiQHkHgPdYNVlAUBav5z08Z808I5u4%2B8JgEvhFTOgU0W7yIz4%2BH5nJae%2BywFsJHD3vtwFQLcAzSUMpZQm2o6hWQ4D%2B3%2BXCySBGJwcB2UBQLF%2BFezJLU04efvajPIddXoCQLUNXAW8332yjJtCfwtQ%2B%2Fbt6If9l7J6FTfSDczDHgNzbvxEzQeMo9EdeAuwDy7BvbETTm4h8yQOQlBB71YI1N6o45grBPrsfxI4QPpypxlMfIGvgwtkOg2fQwyCQbF%2BhX7b2%2FnwfSYw50fw%2Bpk0n0D7plD9DWs1ZDnAhmaTA541jAVASHzeQSZuFM%2F4oC4DADnXvSKt48ZvKBnAfdjAh4F3u78pD%2BkxA86mBYD%2FuPu22DdJdYpy%2BgzYfW2PWeHWp8vSM%2BgW8C3gobVUtDOChRAYzAFsYybNRtqRUmBQBVE3ALjSf9H5OYTAUddxhVqNxXKB2WYzyYImEAwCgAKFz%2BdNGuUnuAwCgFcB97ih5XQ0FAgU87efsjw%2Fz5lOajU7Qfq2ihPtqaM8x%2FdDT1FdcYBYiamyxbbgHnQLkJuX4vsqC4gtkVIQwKkG%2Fq2fMfcNADVu4FeAj7kdDZJowgaLdtvx98leadr6IXZUdYuUW4NGCPETP2R0XWjgL%2FulcSAAZCBYczTs99r4wPw8ZzkcoGOPLEgT1y%2BBo67vGom6e764gDim3uZ%2BtoCca16ReJWBSwahdWAAZCDoCC%2Bj3%2BRidFLgSGysYFt9UjV%2FIeS6x1hfxxEKgK8DMvPyynUGfjlkDHl1hgJABgKFn%2F1Zt%2FHQ46EvBLYFJCWBrMhGftCJGuY5N6NpHthDAFBw3LvLeHPf7ziHBsBVcMQKfCaGH3c7D%2BEELgcoOiL1S9A41rfbgGwBlCRCKXBdensBoODNv2cOzrwYhspFOzQAMi6g6wGlnj%2FZXYAQmUB7oc8SJ0XrFwo2aweo%2BgKDq%2B526c9rr2DP189nZrkeQoeRW68UAKjlS%2BHEWbgl9kQAuZrrCrnXEdEejWZ0Pl5dbatS3VG7SqGhqK7w4TxlVZECS8Dff%2BSRLOzfT%2Bv55ztGpRQ6WmWd970ihnC%2BAe0KQ5fSAKCRLKYxZz7lpqHX79ITKBSpwJBXXKWPPGp0Xq5b%2BVOmyrmfsStjmDyCtDXYokX%2FmnfOz%2F725RnYdumaNMCD46BUAGgY74PDN8JNwGn%2BsHwnk7jRoLmwwOsd9AsAyRuTpYEVGBLWmR0L%2Fe%2FBSe98Us6w6snGzZdtn%2FrS79aLV2%2Bl7BFla2gTXISEr%2FXHbNvTCPz9v0C9q6p37IdtV68x%2BBluBkoHgIZjYCaCj8fwTn94OiHo%2FqCSjoebi5E%2BLfBJr98RpeOFEV1%2FMlzwtgriZVe6DgauIEdBoavkE5xs1bM15c0b6QrndN447DBazz6b2PA9vPZK1z6xxpunTDoqBYAGugQXxiCv49Rg3ik6OihzdeWDKHPGSmxLb72CN%2FmWPFkX2mXeZeAvSuxyTVO1zP0OOKUFH83yUXQMQgKi4hPL7%2BD%2FU5EBp7xw3Qsdh%2F67GvDbl8H9Vc9JLQCwRPh5il3iZHKurBVFJ4WqJ6Ku9iXhK2jzM8UdftjAe%2BoaT60AEFEGtpJGKG9nK3WJFSfQ1nBoXTNQUz9y1xKr15tfUHTJ914Dn61pSEk3tQPA4QY7gO1FxEqLKEujdkbLOmelxL7kpaujXY%2FU0FeYLnNR4nBGIwMUEWBAxiXyV29nL%2FfrKj6Bjo5HjRKtfa6AhLsns5u7HE2e29onG3D5ZfBAn12UVn1kHMClINsWBISOW0W3jvx%2BtD2IM7QjHJU2DeU0pOOc3nSx%2BW4B3yL4xxj01tfK7vOoHAsA2IEtwXkxXESBJ6utJ%2B2c8txJcBQYip3CylnYola0yFp0CXS6kpOmsEfZFcEfLXpOt70eqvLvYwUAS%2BhlcEYDfgP4%2BRDidXLQVqHPIdndQ8hz%2FdbRkU1XNs9lnx7s3W3%2BryO4dtEzq%2B%2B3%2FyrqjyUALKEmDVZ1YfZREPOgIj3%2BJsUWyMAgXYO4hn6XNkof6eMt8dqzpdPXGy1dvz56m7Xg%2BuwD9mS%2FBw0grSShX0qcjxl4vI%2Fnaq061gBwZyKLWrINeGsmCtQ6UYGdKZCB3vabxvFtH3sZIHCSpUuQl5L9dFgihbZRVr0I7olhJ7DTjb9XVvtVtzMxHKBoIgwcE8FrY3hNBKfqOxMHSp%2B7CL4bw92ZJ%2FbdK%2FDFK%2BG%2FSu%2BoxgYnHgB5c5UZpsj8QB9dPEqNYD86PGyMYEOcfqvY7X5%2FnAr29hivb3lePxjDg0upFneqyv8BC0K%2Bo6SYlTUAAAAASUVORK5CYII%3D%22%3B%0D%0A%0D%0A%20%20%2F%2F%20This%20is%20from%20the%20Scratch%20Addons%20gamepad%20addon%2C%20which%20normally%20could%20be%20a%20problem%20because%20it%20is%20GPLv3%2C%0D%0A%20%20%2F%2F%20but%20I%20(GarboMuffin)%20wrote%20that%20code%20so%20there%20is%20no%20problem.%0D%0A%20%20let%20getCanvasSize%3B%0D%0A%20%20if%20(window.ResizeObserver)%20%7B%0D%0A%20%20%20%20let%20canvasWidth%20%3D%20Scratch.vm.runtime.stageWidth%3B%0D%0A%20%20%20%20let%20canvasHeight%20%3D%20Scratch.vm.runtime.stageHeight%3B%0D%0A%20%20%20%20const%20resize%20%3D%20new%20ResizeObserver((entries)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20for%20(const%20entry%20of%20entries)%20%7B%0D%0A%20%20%20%20%20%20%20%20canvasWidth%20%3D%20entry.contentRect.width%3B%0D%0A%20%20%20%20%20%20%20%20canvasHeight%20%3D%20entry.contentRect.height%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20resize.observe(Scratch.vm.runtime.renderer.canvas)%3B%0D%0A%20%20%20%20getCanvasSize%20%3D%20()%20%3D%3E%20%5BcanvasWidth%2C%20canvasHeight%5D%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20getCanvasSize%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20const%20rectangle%20%3D%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.runtime.renderer.canvas.getBoundingClientRect()%3B%0D%0A%20%20%20%20%20%20return%20%5Brectangle.width%2C%20rectangle.height%5D%3B%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20let%20simulatedX%20%3D%200%3B%0D%0A%20%20let%20simulatedY%20%3D%200%3B%0D%0A%20%20const%20postMouseData%20%3D%20(data)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20%5BrectangleWidth%2C%20rectangleHeight%5D%20%3D%20getCanvasSize()%3B%0D%0A%20%20%20%20Scratch.vm.postIOData(%22mouse%22%2C%20%7B%0D%0A%20%20%20%20%20%20...data%2C%0D%0A%20%20%20%20%20%20canvasWidth%3A%20rectangleWidth%2C%0D%0A%20%20%20%20%20%20canvasHeight%3A%20rectangleHeight%2C%0D%0A%20%20%20%20%20%20x%3A%0D%0A%20%20%20%20%20%20%20%20(simulatedX%20%2B%20Scratch.vm.runtime.stageWidth%20%2F%202)%20*%0D%0A%20%20%20%20%20%20%20%20(rectangleWidth%20%2F%20Scratch.vm.runtime.stageWidth)%2C%0D%0A%20%20%20%20%20%20y%3A%0D%0A%20%20%20%20%20%20%20%20(Scratch.vm.runtime.stageHeight%20%2F%202%20-%20simulatedY)%20*%0D%0A%20%20%20%20%20%20%20%20(rectangleHeight%20%2F%20Scratch.vm.runtime.stageHeight)%2C%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7Bunknown%7D%20seconds%0D%0A%20%20%20*%20%40param%20%7Bunknown%7D%20andWait%0D%0A%20%20%20*%20%40param%20%7B()%20%3D%3E%20void%7D%20callback%0D%0A%20%20%20*%20%40returns%20%7BPromise%3Cvoid%3E%7Cvoid%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20doLater%20%3D%20(seconds%2C%20andWait%2C%20callback)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20ms%20%3D%20Scratch.Cast.toNumber(seconds)%20*%201000%3B%0D%0A%0D%0A%20%20%20%20if%20(Scratch.Cast.toString(andWait)%20%3D%3D%3D%20%22and%20wait%22)%20%7B%0D%0A%20%20%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20callback()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20ms)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20setTimeout(callback%2C%20ms)%3B%0D%0A%20%20%20%20%2F%2F%20don't%20return%20a%20Promise%20at%20all%2C%20otherwise%20the%20block%20waits%20for%201%20frame%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20class%20KeySimulation%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22cubesterKeySimulation%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Key%20Simulation%22)%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23BF0000%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23800000%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20icon%2C%0D%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2FCubesterYT%2FKeySimulation%22%2C%0D%0A%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22pressKey%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22press%20%5BKEY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22KEYS%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SECONDS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.1%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND_WAIT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22AND_WAIT%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clickMouse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22click%20%5BBUTTON%5D%20mouse%20button%20at%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20for%20%5BSECONDS%5D%20seconds%20%5BAND_WAIT%5D%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BUTTON%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22BUTTONS%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SECONDS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220.1%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND_WAIT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22AND_WAIT%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22moveMouse%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22move%20mouse%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%220%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20KEYS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22space%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Refers%20to%20the%20space%20key%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22%20%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22up%20arrow%22)%2C%20value%3A%20%22ArrowUp%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22down%20arrow%22)%2C%20value%3A%20%22ArrowDown%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22right%20arrow%22)%2C%20value%3A%20%22ArrowRight%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22left%20arrow%22)%2C%20value%3A%20%22ArrowLeft%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22enter%22)%2C%20value%3A%20%22Enter%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22backspace%22)%2C%20value%3A%20%22Backspace%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22delete%22)%2C%20value%3A%20%22Delete%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22shift%22)%2C%20value%3A%20%22Shift%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22caps%20lock%22)%2C%20value%3A%20%22CapsLock%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22scroll%20lock%22)%2C%20value%3A%20%22ScrollLock%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22control%22)%2C%20value%3A%20%22Control%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22escape%22)%2C%20value%3A%20%22Escape%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22insert%22)%2C%20value%3A%20%22Insert%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22home%22)%2C%20value%3A%20%22Home%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22end%22)%2C%20value%3A%20%22End%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22page%20up%22)%2C%20value%3A%20%22PageUp%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22page%20down%22)%2C%20value%3A%20%22PageDown%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22a%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22b%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22c%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22d%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22e%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22g%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22h%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22i%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22j%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22k%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22l%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22m%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22o%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22p%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22q%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22r%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22s%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22t%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22u%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22v%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22w%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22x%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22y%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22z%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%220%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%221%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%222%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%224%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%225%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%226%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%227%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%228%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%229%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22-%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%2C%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%60%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5B%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5D%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5C%5C%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3B%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%2F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22~%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%2B%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22!%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3A%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22*%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%23%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22(%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22)%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3F%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3C%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3E%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%40%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%22'%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20BUTTONS%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22left%22)%2C%20value%3A%20%220%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22middle%22)%2C%20value%3A%20%221%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20text%3A%20Scratch.translate(%22right%22)%2C%20value%3A%20%222%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20AND_WAIT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22without%20waiting%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22without%20waiting%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22and%20wait%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22and%20wait%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20pressKey(args)%20%7B%0D%0A%20%20%20%20%20%20Scratch.vm.postIOData(%22keyboard%22%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20key%3A%20Scratch.Cast.toString(args.KEY)%2C%0D%0A%20%20%20%20%20%20%20%20isDown%3A%20true%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20doLater(args.SECONDS%2C%20args.AND_WAIT%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20Scratch.vm.postIOData(%22keyboard%22%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20key%3A%20Scratch.Cast.toString(args.KEY)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20isDown%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20clickMouse(args)%20%7B%0D%0A%20%20%20%20%20%20simulatedX%20%3D%20Scratch.Cast.toNumber(args.X)%3B%0D%0A%20%20%20%20%20%20simulatedY%20%3D%20Scratch.Cast.toNumber(args.Y)%3B%0D%0A%20%20%20%20%20%20postMouseData(%7B%0D%0A%20%20%20%20%20%20%20%20isDown%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20button%3A%20Scratch.Cast.toNumber(args.BUTTON)%2C%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%0D%0A%20%20%20%20%20%20return%20doLater(args.SECONDS%2C%20args.AND_WAIT%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20postMouseData(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20isDown%3A%20false%2C%0D%0A%20%20%20%20%20%20%20%20%20%20button%3A%20Scratch.Cast.toNumber(args.BUTTON)%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20moveMouse(args)%20%7B%0D%0A%20%20%20%20%20%20simulatedX%20%3D%20Scratch.Cast.toNumber(args.X)%3B%0D%0A%20%20%20%20%20%20simulatedY%20%3D%20Scratch.Cast.toNumber(args.Y)%3B%0D%0A%20%20%20%20%20%20postMouseData(%7B%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20KeySimulation())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Sensing%20Plus%0D%0A%2F%2F%20ID%3A%20obviousalexsensing%0D%0A%2F%2F%20Description%3A%20An%20extension%20to%20the%20sensing%20category.%0D%0A%2F%2F%20By%3A%20ObviousAlexC%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2Fpinksheep2917%2F%3E%0D%0A%2F%2F%20License%3A%20MIT%0D%0A%0D%0A%2F*%20generated%20l10n%20code%20*%2FScratch.translate.setup(%7B%22it%22%3A%7B%22_off%22%3A%22disabilita%22%2C%22_on%22%3A%22abilita%22%2C%22_rotation%20style%22%3A%22stile%20rotazione%22%7D%2C%22ja%22%3A%7B%22_%23%20of%20clones%20of%20%5BSprite%5D%22%3A%22%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%5BSprite%5D%E3%81%AE%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%B3%E3%81%AE%E6%95%B0%22%2C%22_%23%20of%20fingers%20down%22%3A%22%E3%82%BF%E3%83%83%E3%83%81%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E6%8C%87%E3%81%AE%E6%95%B0%22%2C%22_%23%20of%20simultaneous%20possible%22%3A%22%E5%90%8C%E6%99%82%E3%81%AB%E3%82%BF%E3%83%83%E3%83%81%E5%8F%AF%E8%83%BD%E3%81%AA%E6%95%B0%22%2C%22_Needs%20a%20gyroscope%20or%20accelerometer%22%3A%22%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AD%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E3%82%84%E5%8A%A0%E9%80%9F%E5%BA%A6%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E3%82%92%E6%90%AD%E8%BC%89%E3%81%97%E3%81%9F%E6%A9%9F%E5%99%A8%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%A7%E3%81%99%22%2C%22_Sensing%2B%22%3A%22%E8%AA%BF%E3%81%B9%E3%82%8B%2B%22%2C%22_Supports%20touches%3F%22%3A%22%E3%82%BF%E3%83%83%E3%83%81%E5%AF%BE%E5%BF%9C%22%2C%22_Touch%20blocks%20are%20broken%20in%20Safari.%22%3A%22%E3%82%BF%E3%83%83%E3%83%81%E7%B3%BB%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%81%AFSafari%E3%81%A7%E3%81%AF%E4%BD%BF%E3%81%88%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82%22%2C%22_We%20will%20try%20to%20fix%20them%20soon.%22%3A%22%E7%A7%81%E9%81%94%E3%81%AF%E3%81%93%E3%82%8C%E3%82%92%E3%82%82%E3%81%86%E3%81%99%E3%81%90%E6%B2%BB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82%22%2C%22_brightness%22%3A%22%E6%98%8E%E3%82%8B%E3%81%95%22%2C%22_color%22%3A%22%E8%89%B2%22%2C%22_copied%20contents%22%3A%22%E3%82%B3%E3%83%94%E3%83%BC%E3%81%95%E3%82%8C%E3%81%9F%E5%86%85%E5%AE%B9%22%2C%22_current%20finger%20touching%22%3A%22%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%E3%81%AB%E8%A7%A6%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E6%8C%87%E3%81%AE%E6%95%B0%22%2C%22_does%20%5BList%5D%20contain%20%5Bterm%5D%22%3A%22%E3%83%AA%E3%82%B9%E3%83%88%5BList%5D%E3%81%AB%5Bterm%5D%E3%81%8C%E5%90%AB%E3%81%BE%E3%82%8C%E3%82%8B%22%2C%22_finger%20%5BID%5D%20%5BPositionType%5D%22%3A%22%E6%8C%87%5BID%5D%E3%81%AE%5BPositionType%5D%E5%BA%A7%E6%A8%99%22%2C%22_finger%20%5BID%5D%20speed%22%3A%22%E6%8C%87%5BID%5D%E3%81%AE%E9%80%9F%E5%BA%A6%22%2C%22_fisheye%22%3A%22%E9%AD%9A%E7%9C%BC%E3%83%AC%E3%83%B3%E3%82%BA%22%2C%22_get%20index%20%5Bindex%5D%20of%20%5BList%5D%22%3A%22%E3%83%AA%E3%82%B9%E3%83%88%5BList%5D%E3%81%AE%5Bindex%5D%E7%95%AA%E7%9B%AE%22%2C%22_get%20this%20sprite's%20%5Beffect%5D%20effect%22%3A%22%E3%81%93%E3%81%AE%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%E3%81%AE%E5%8A%B9%E6%9E%9C%5Beffect%5D%E3%81%AE%E9%87%8F%22%2C%22_ghost%22%3A%22%E5%B9%BD%E9%9C%8A%22%2C%22_has%20a%20%5Bdevice%5D%3F%22%3A%22%5Bdevice%5D%E6%A9%9F%E8%83%BD%E3%82%92%E6%8C%81%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%22%2C%22_hidden%3F%22%3A%22%E9%9A%A0%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%22%2C%22_is%20Finger%20%5BID%5D%20down%3F%22%3A%22%5BID%5D%E6%9C%AC%E3%81%AE%E6%8C%87%E3%81%8C%E3%82%BF%E3%83%83%E3%83%81%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%22%2C%22_is%20packaged%3F%22%3A%22%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E5%8C%96%E3%81%95%E3%82%8C%E3%81%9F%22%2C%22_item%20%23%20of%20%5Bterm%5D%20in%20%5BList%5D%22%3A%22%E3%83%AA%E3%82%B9%E3%83%88%5BList%5D%E4%B8%AD%E3%81%AE%5Bterm%5D%E3%81%AE%E5%A0%B4%E6%89%80%22%2C%22_length%20of%20%5BList%5D%22%3A%22%E3%83%AA%E3%82%B9%E3%83%88%5BList%5D%E3%81%AE%E9%95%B7%E3%81%95%22%2C%22_mosaic%22%3A%22%E3%83%A2%E3%82%B6%E3%82%A4%E3%82%AF%22%2C%22_off%22%3A%22%E3%82%AA%E3%83%95%22%2C%22_on%22%3A%22%E3%82%AA%E3%83%B3%22%2C%22_pixelate%22%3A%22%E3%83%94%E3%82%AF%E3%82%BB%E3%83%AB%E5%8C%96%22%2C%22_rotation%20style%22%3A%22%E5%9B%9E%E8%BB%A2%E6%96%B9%E6%B3%95%22%2C%22_set%20clipboard%20to%20%5BTEXT%5D%22%3A%22%E3%82%AF%E3%83%AA%E3%83%83%E3%83%97%E3%83%9C%E3%83%BC%E3%83%89%E3%81%AB%5BTEXT%5D%E3%82%92%E3%82%BB%E3%83%83%E3%83%88%E3%81%99%E3%82%8B%22%2C%22_sprite%20layer%22%3A%22%E4%BB%8A%E3%81%84%E3%82%8B%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%22%2C%22_touching%20a%20clone%20of%20%5BSprite%5D%3F%22%3A%22%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%B3%E3%81%95%E3%82%8C%E3%81%9F%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%5BSprite%5D%E3%81%AB%E6%8C%87%E3%81%8C%E8%A7%A6%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%22%2C%22_touching%20a%20finger%3F%22%3A%22%E6%8C%87%E3%81%AB%E8%A7%A6%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%3F%22%2C%22_touching%20finger%20%5BID%5D%3F%22%3A%22%5BID%5D%E6%9C%AC%E3%81%AE%E6%8C%87%E3%81%AB%E8%A7%A6%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%22%2C%22_touching%20the%20original%20%5BSprite%5D%3F%22%3A%22%E5%85%83%E3%81%AE%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%5BSprite%5D%E3%81%AB%E6%8C%87%E3%81%8C%E8%A7%A6%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%22%2C%22_whirl%22%3A%22%E6%B8%A6%E5%B7%BB%E3%81%8D%22%7D%2C%22nb%22%3A%7B%22_%23%20of%20clones%20of%20%5BSprite%5D%22%3A%22%23%20av%20kloner%20av%20%5BSprite%5D%22%2C%22_%23%20of%20fingers%20down%22%3A%22%23%20av%20fingre%20ned%22%2C%22_%23%20of%20simultaneous%20possible%22%3A%22%23%20av%20samtidige%20mulige%22%2C%22_Needs%20a%20gyroscope%20or%20accelerometer%22%3A%22Trenger%20en%20gyroskop%20eller%20akselerometer%22%2C%22_No%20local%20lists%20in%20other%20sprites%22%3A%22Ingen%20lokale%20lister%20i%20andre%20sprites.%22%2C%22_No%20sprites%20exist%22%3A%22Ingen%20sprites%20eksisterer%22%2C%22_Speech%20recording%20is%20unreliable%22%3A%22Taleopptak%20er%20up%C3%A5litelig.%22%2C%22_Supports%20touches%3F%22%3A%22St%C3%B8tter%20ber%C3%B8ringer%3F%22%2C%22_Touch%20blocks%20are%20broken%20in%20Safari.%22%3A%22Ber%C3%B8ringssperrene%20fungerer%20ikke%20i%20Safari.%22%2C%22_We%20will%20try%20to%20fix%20them%20soon.%22%3A%22Vi%20vil%20pr%C3%B8ve%20%C3%A5%20fikse%20dem%20snart.%22%2C%22_accelerometer%22%3A%22akselerometer%22%2C%22_brightness%22%3A%22lysstyrke%22%2C%22_color%22%3A%22farge%22%2C%22_copied%20contents%22%3A%22kopierte%20innhold%22%2C%22_current%20finger%20touching%22%3A%22n%C3%A5v%C3%A6rende%20finger%20ber%C3%B8ring%22%2C%22_does%20%5BList%5D%20contain%20%5Bterm%5D%22%3A%22inneholder%20%5BList%5D%20%5Bterm%5D%22%2C%22_finger%20%5BID%5D%20speed%22%3A%22finger%20%5BID%5D%20hastighet%22%2C%22_fisheye%22%3A%22fiske%C3%B8ye%22%2C%22_get%20index%20%5Bindex%5D%20of%20%5BList%5D%22%3A%22f%C3%A5%20indeksen%20%5Bindex%5D%20av%20%5BList%5D%22%2C%22_get%20the%20%5Btype%5D%20speed%20on%20the%20%5Baxis%5D%20axis%22%3A%22f%C3%A5%20%5Btype%5D%20hastighet%20p%C3%A5%20%5Baxis%5D%20aksen%22%2C%22_get%20this%20sprite's%20%5Beffect%5D%20effect%22%3A%22f%C3%A5%20denne%20spriteens%20%5Beffect%5D%20effekt%22%2C%22_ghost%22%3A%22sp%C3%B8kelse%22%2C%22_gyroscope%22%3A%22gyroskop%22%2C%22_has%20a%20%5Bdevice%5D%3F%22%3A%22har%20en%20%5Bdevice%5D%3F%22%2C%22_hidden%3F%22%3A%22skjult%3F%22%2C%22_is%20Finger%20%5BID%5D%20down%3F%22%3A%22Er%20Finger%20%5BID%5D%20nede%3F%22%2C%22_is%20packaged%3F%22%3A%22er%20pakkert%3F%22%2C%22_item%20%23%20of%20%5Bterm%5D%20in%20%5BList%5D%22%3A%22element%20%23%20av%20%5Bterm%5D%20i%20%5BList%5D%22%2C%22_length%20of%20%5BList%5D%22%3A%22lengden%20av%20%5BList%5D%22%2C%22_mosaic%22%3A%22mosaikk%22%2C%22_off%22%3A%22av%22%2C%22_on%22%3A%22p%C3%A5%22%2C%22_pixelate%22%3A%22pixelere%22%2C%22_positional%22%3A%22posisjonell%22%2C%22_recognized%20Words%22%3A%22gjenkjente%20ord%22%2C%22_recording%3F%22%3A%22opptaker%3F%22%2C%22_rotation%20style%22%3A%22rotasjonsstil%22%2C%22_rotational%22%3A%22rotasjonell%22%2C%22_set%20clipboard%20to%20%5BTEXT%5D%22%3A%22sett%20utklippstavlen%20til%20%5BTEXT%5D%22%2C%22_sprite%20layer%22%3A%22sprite%20lag%22%2C%22_touching%20a%20clone%20of%20%5BSprite%5D%3F%22%3A%22ber%C3%B8re%20en%20kopi%20av%20%5BSprite%5D%3F%22%2C%22_touching%20a%20finger%3F%22%3A%22ber%C3%B8re%20en%20finger%3F%22%2C%22_touching%20finger%20%5BID%5D%3F%22%3A%22ber%C3%B8ring%20finger%20%5BID%5D%3F%22%2C%22_touching%20the%20original%20%5BSprite%5D%3F%22%3A%22ber%C3%B8rer%20den%20originnelle%20%5BSprite%5D%3F%22%2C%22_turn%20speech%20recording%20%5Btoggle%5D%22%3A%22sl%C3%A5%20p%C3%A5%20taleopptak%20%5Btoggle%5D%22%2C%22_whirl%22%3A%22virvel%22%7D%2C%22nl%22%3A%7B%22_%23%20of%20clones%20of%20%5BSprite%5D%22%3A%22%23%20klonen%20van%20%5BSprite%5D%22%2C%22_%23%20of%20fingers%20down%22%3A%22%23%20vingers%20op%20scherm%22%2C%22_%23%20of%20simultaneous%20possible%22%3A%22%23%20mogelijke%20gelijktijdige%20aanrakingen%22%2C%22_Needs%20a%20gyroscope%20or%20accelerometer%22%3A%22Gyroscoop%20of%20versnellingsmeter%20vereist%22%2C%22_No%20local%20lists%20in%20other%20sprites%22%3A%22geen%20lokale%20lijsten%20in%20andere%20sprites%22%2C%22_No%20sprites%20exist%22%3A%22...%22%2C%22_Sensing%2B%22%3A%22Waarnemen%2B%22%2C%22_Speech%20recording%20is%20unreliable%22%3A%22Spraakopname%20is%20onbetrouwbaar%22%2C%22_Supports%20touches%3F%22%3A%22aanraking%20ondersteund%3F%22%2C%22_Touch%20blocks%20are%20broken%20in%20Safari.%22%3A%22Aanraakblokken%20werken%20niet%20in%20Safari.%22%2C%22_We%20will%20try%20to%20fix%20them%20soon.%22%3A%22We%20doen%20ons%20best%20om%20het%20op%20te%20lossen.%22%2C%22_accelerometer%22%3A%22versnellingsmeter%22%2C%22_brightness%22%3A%22helderheid%22%2C%22_color%22%3A%22kleur%22%2C%22_copied%20contents%22%3A%22klembordinhoud%22%2C%22_current%20finger%20touching%22%3A%22huidig%20aangeraakte%20vinger%22%2C%22_does%20%5BList%5D%20contain%20%5Bterm%5D%22%3A%22%5BList%5D%20bevat%20%5Bterm%5D%3F%22%2C%22_finger%20%5BID%5D%20%5BPositionType%5D%22%3A%22vinger%20%5BID%5D%20%5BPositionType%5D%22%2C%22_finger%20%5BID%5D%20speed%22%3A%22vinger%20%5BID%5D%20snelheid%22%2C%22_fisheye%22%3A%22vissenoog%22%2C%22_get%20index%20%5Bindex%5D%20of%20%5BList%5D%22%3A%22item%20%5Bindex%5D%20van%20%5BList%5D%22%2C%22_get%20the%20%5Btype%5D%20speed%20on%20the%20%5Baxis%5D%20axis%22%3A%22%5Btype%5D%20snelheid%20op%20%5Baxis%5D-as%22%2C%22_get%20this%20sprite's%20%5Beffect%5D%20effect%22%3A%22%5Beffect%5D%20effect%20van%20sprite%20%22%2C%22_ghost%22%3A%22transparant%22%2C%22_gyroscope%22%3A%22gyroscoop%22%2C%22_has%20a%20%5Bdevice%5D%3F%22%3A%22%5Bdevice%5D%20verbonden%3F%22%2C%22_hidden%3F%22%3A%22verborgen%3F%22%2C%22_is%20Finger%20%5BID%5D%20down%3F%22%3A%22is%20vinger%20%5BID%5D%20op%20scherm%3F%22%2C%22_is%20packaged%3F%22%3A%22is%20gepackaged%3F%22%2C%22_item%20%23%20of%20%5Bterm%5D%20in%20%5BList%5D%22%3A%22item%20%23%20van%20%5Bterm%5D%20in%20%5BList%5D%22%2C%22_length%20of%20%5BList%5D%22%3A%22lengte%20van%20%5BList%5D%22%2C%22_mosaic%22%3A%22moza%C3%AFek%22%2C%22_off%22%3A%22uit%22%2C%22_on%22%3A%22aan%22%2C%22_pixelate%22%3A%22pixeleren%22%2C%22_positional%22%3A%22positionele%22%2C%22_recognized%20Words%22%3A%22herkende%20woorden%22%2C%22_recording%3F%22%3A%22aan%20het%20opnemen%3F%22%2C%22_rotation%20style%22%3A%22draaistijl%22%2C%22_rotational%22%3A%22draai%22%2C%22_set%20clipboard%20to%20%5BTEXT%5D%22%3A%22maak%20klembord%20%5BTEXT%5D%22%2C%22_sprite%20layer%22%3A%22laag%20van%20sprite%22%2C%22_touching%20a%20clone%20of%20%5BSprite%5D%3F%22%3A%22raak%20ik%20een%20kloon%20van%20%5BSprite%5D%3F%22%2C%22_touching%20a%20finger%3F%22%3A%22raak%20ik%20een%20vinger%3F%22%2C%22_touching%20finger%20%5BID%5D%3F%22%3A%22raak%20ik%20vinger%20%5BID%5D%3F%22%2C%22_touching%20the%20original%20%5BSprite%5D%3F%22%3A%22raak%20ik%20het%20origineel%20van%20%5BSprite%5D%3F%22%2C%22_turn%20speech%20recording%20%5Btoggle%5D%22%3A%22zet%20spraakopname%20%5Btoggle%5D%22%2C%22_whirl%22%3A%22draaikolk%22%7D%2C%22ru%22%3A%7B%22_%23%20of%20clones%20of%20%5BSprite%5D%22%3A%22%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%20%5BSprite%5D%22%2C%22_%23%20of%20fingers%20down%22%3A%22%23%20%D0%BF%D0%B0%D0%BB%D0%B5%D1%86%20%D0%BD%D0%B0%D0%B6%D0%B0%D1%82%22%2C%22_%23%20of%20simultaneous%20possible%22%3A%22%23%20%D1%81%D0%B8%D0%BC%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D0%BD%D0%BD%D0%B8%D0%B8%20%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%22%2C%22_Needs%20a%20gyroscope%20or%20accelerometer%22%3A%22%D0%9D%D1%83%D0%B6%D0%B5%D0%BD%20%D0%B3%D0%B8%D1%80%D0%BE%D1%81%D0%BA%D0%BE%D0%BF%20%D0%B8%D0%BB%D0%B8%20%D0%B0%D0%BA%D1%81%D0%B5%D0%BB%D0%B5%D1%80%D0%BE%D0%BC%D0%B5%D1%82%D1%80%22%2C%22_No%20local%20lists%20in%20other%20sprites%22%3A%22%D0%9D%D0%B5%D1%82%20%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%BE%D0%B2%20%D0%B2%20%D0%B4%D1%80%D1%83%D0%B3%D0%BE%D0%BC%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B5%22%2C%22_No%20sprites%20exist%22%3A%22%D0%9D%D0%B8%D0%BA%D0%B0%D0%BA%D0%B8%D1%85%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%20%D0%BD%D0%B5%20%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82%22%2C%22_Sensing%2B%22%3A%22%D0%A1%D0%B5%D0%BD%D1%81%D0%BE%D1%80%D1%8B%2B%22%2C%22_Speech%20recording%20is%20unreliable%22%3A%22%D0%97%D0%B0%D0%BF%D0%B8%D1%81%D1%8C%20%D1%80%D0%B5%D1%87%D0%B8%20%D0%BD%D0%B5%D0%BD%D0%B0%D0%B4%D0%B5%D0%B6%D0%BD%D0%B0%22%2C%22_Supports%20touches%3F%22%3A%22%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%20%D0%B4%D0%BE%D1%82%D1%80%D0%B0%D0%B3%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%3F%22%2C%22_Touch%20blocks%20are%20broken%20in%20Safari.%22%3A%22%D0%91%D0%BB%D0%BE%D0%BA%D0%B8%20%D0%B4%D0%BE%D1%82%D1%80%D0%B0%D0%B3%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D1%81%D0%BB%D0%BE%D0%BC%D0%B0%D0%BD%D1%8B%20%D0%B2%20Safari.%22%2C%22_We%20will%20try%20to%20fix%20them%20soon.%22%3A%22%D0%9C%D1%8B%20%D0%BF%D0%BE%D0%BF%D1%80%D0%BE%D0%B1%D1%83%D0%B5%D0%BC%20%D1%8D%D1%82%D0%BE%20%D0%BF%D0%BE%D1%87%D0%B8%D0%BD%D0%B8%D1%82%D1%8C%20%D0%B2%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D0%BC%20%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8.%22%2C%22_accelerometer%22%3A%22%D0%B0%D0%BA%D1%81%D0%B5%D0%BB%D0%B5%D1%80%D0%BE%D0%BC%D0%B5%D1%82%D1%80%22%2C%22_brightness%22%3A%22%D1%8F%D1%80%D0%BA%D0%BE%D1%81%D1%82%D1%8C%22%2C%22_color%22%3A%22%D1%86%D0%B2%D0%B5%D1%82%22%2C%22_copied%20contents%22%3A%22%D1%81%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82%22%2C%22_current%20finger%20touching%22%3A%22%D1%82%D0%B5%D0%BA%D1%83%D1%89%D0%B5%D0%B5%20%D0%BA%D0%B0%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B5%D0%BC%22%2C%22_does%20%5BList%5D%20contain%20%5Bterm%5D%22%3A%22%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%5BList%5D%20%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D1%82%20%5Bterm%5D%3F%22%2C%22_finger%20%5BID%5D%20%5BPositionType%5D%22%3A%22%D0%BF%D0%B0%D0%BB%D0%B5%D1%86%20%5BID%5D%20%5BPositionType%5D%22%2C%22_finger%20%5BID%5D%20speed%22%3A%22%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B0%20%5BID%5D%22%2C%22_fisheye%22%3A%22%D1%80%D1%8B%D0%B1%D0%B8%D0%B9%20%D0%B3%D0%BB%D0%B0%D0%B7%22%2C%22_get%20index%20%5Bindex%5D%20of%20%5BList%5D%22%3A%22%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%5Bindex%5D%20%D0%BD%D0%BE%D0%BC%D0%B5%D1%80%20%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0%20%5BList%5D%22%2C%22_get%20the%20%5Btype%5D%20speed%20on%20the%20%5Baxis%5D%20axis%22%3A%22%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%5Btype%5D%20%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C%20%D0%BA%20%D0%BE%D1%81%D0%B8%20%5Baxis%5D%22%2C%22_get%20this%20sprite's%20%5Beffect%5D%20effect%22%3A%22%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%D1%8D%D1%84%D1%84%D0%B5%D0%BA%D1%82%20%5Beffect%5D%20%D1%8D%D1%82%D0%BE%D0%B3%D0%BE%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%22%2C%22_ghost%22%3A%22%D0%BF%D1%80%D0%BE%D0%B7%D1%80%D0%B0%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C%22%2C%22_gyroscope%22%3A%22%D0%B3%D0%B8%D1%80%D0%BE%D1%81%D0%BA%D0%BE%D0%BF%22%2C%22_has%20a%20%5Bdevice%5D%3F%22%3A%22%D0%B8%D0%BC%D0%B5%D0%B5%D1%82%20%5Bdevice%5D%3F%22%2C%22_hidden%3F%22%3A%22%D1%81%D0%BA%D1%80%D1%8B%D1%82%3F%22%2C%22_is%20Finger%20%5BID%5D%20down%3F%22%3A%22%D0%BF%D0%B0%D0%BB%D0%B5%D1%86%20%5BID%5D%20%D0%BD%D0%B0%D0%B6%D0%B0%D1%82%3F%22%2C%22_is%20packaged%3F%22%3A%22%D0%B7%D0%B0%D0%BF%D0%B0%D0%BA%D0%BE%D0%B2%D0%B0%D0%BD%3F%22%2C%22_item%20%23%20of%20%5Bterm%5D%20in%20%5BList%5D%22%3A%22%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B0%20%23%5Bterm%5D%20%D0%B2%20%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B5%20%5BList%5D%22%2C%22_length%20of%20%5BList%5D%22%3A%22%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0%20%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0%20%5BList%5D%22%2C%22_mosaic%22%3A%22%D0%BC%D0%BE%D0%B7%D0%B0%D0%B9%D0%BA%D0%B0%22%2C%22_off%22%3A%22%D0%92%D1%8B%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%22%2C%22_on%22%3A%22%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%22%2C%22_pixelate%22%3A%22%D1%83%D0%BA%D1%80%D1%83%D0%BF%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%B8%D0%BA%D1%81%D0%B5%D0%BB%D0%B5%D0%B9%22%2C%22_positional%22%3A%22%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9%22%2C%22_recognized%20Words%22%3A%22%D0%B7%D0%B0%D0%BF%D0%BE%D0%BC%D0%BD%D0%B8%D1%89%D0%B8%D0%B9%D1%81%D1%8F%20C%D0%BB%D0%BE%D0%B2%D0%B0%22%2C%22_recording%3F%22%3A%22%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C%3F%22%2C%22_rotation%20style%22%3A%22%D1%81%D1%82%D0%B8%D0%BB%D1%8C%20%D0%BF%D0%BE%D0%B2%D0%BE%D1%80%D0%BE%D1%82%D0%B0%22%2C%22_rotational%22%3A%22%D0%BF%D0%BE%D0%B2%D0%BE%D1%80%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B9%22%2C%22_set%20clipboard%20to%20%5BTEXT%5D%22%3A%22%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B1%D1%83%D1%84%D0%B5%D1%80%20%D0%BE%D0%B1%D0%BC%D0%B5%D0%BD%D0%B0%20%D0%B2%20%5BTEXT%5D%22%2C%22_sprite%20layer%22%3A%22%D1%81%D0%BB%D0%BE%D0%B9%20%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82%D0%B0%22%2C%22_touching%20a%20clone%20of%20%5BSprite%5D%3F%22%3A%22%D0%BA%D0%B0%D1%81%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BA%D0%BB%D0%BE%D0%BD%D0%B0%20%5BSprite%5D%3F%22%2C%22_touching%20a%20finger%3F%22%3A%22%D0%B4%D0%BE%D1%82%D1%80%D0%B0%D0%B3%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%B4%D0%BE%20%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B0%3F%22%2C%22_touching%20finger%20%5BID%5D%3F%22%3A%22%D0%B4%D0%BE%D1%82%D1%80%D0%B0%D0%B3%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%B4%D0%BE%20%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B0%20%5BID%5D%3F%22%2C%22_touching%20the%20original%20%5BSprite%5D%3F%22%3A%22%D0%BA%D0%B0%D1%81%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BE%D1%80%D0%B8%D0%B3%D0%B8%D0%BD%D0%B0%D0%BB%D0%B0%20%5BSprite%5D%3F%22%2C%22_turn%20speech%20recording%20%5Btoggle%5D%22%3A%22%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%20%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C%20%D1%80%D0%B5%D1%87%D0%B8%20%5Btoggle%5D%22%2C%22_whirl%22%3A%22%D0%B7%D0%B0%D0%B2%D0%B8%D1%85%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%22%7D%2C%22uk%22%3A%7B%22_rotation%20style%22%3A%22%D1%81%D1%82%D0%B8%D0%BB%D1%8C%20%D0%BE%D0%B1%D0%B5%D1%80%D1%82%D0%B0%D0%BD%D0%BD%D1%8F%22%7D%2C%22zh-cn%22%3A%7B%22_%23%20of%20clones%20of%20%5BSprite%5D%22%3A%22%E8%A7%92%E8%89%B2%5BSprite%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E6%95%B0%E9%87%8F%22%2C%22_%23%20of%20fingers%20down%22%3A%22%E6%8C%89%E4%B8%8B%E7%9A%84%E6%89%8B%E6%8C%87%E6%95%B0%E9%87%8F%22%2C%22_%23%20of%20simultaneous%20possible%22%3A%22%E5%8F%AF%E8%83%BD%E5%90%8C%E6%97%B6%E6%8C%89%E4%B8%8B%E7%9A%84%E6%89%8B%E6%8C%87%E6%95%B0%E9%87%8F%22%2C%22_Needs%20a%20gyroscope%20or%20accelerometer%22%3A%22%E9%9C%80%E8%A6%81%E9%99%80%E8%9E%BA%E4%BB%AA%E6%88%96%E8%80%85%E5%8A%A0%E9%80%9F%E5%BA%A6%E8%AE%A1%22%2C%22_No%20local%20lists%20in%20other%20sprites%22%3A%22%E6%B2%A1%E6%9C%89%E7%A7%81%E6%9C%89%E5%88%97%E8%A1%A8%22%2C%22_No%20sprites%20exist%22%3A%22%E6%B2%A1%E6%9C%89%E8%A7%92%E8%89%B2%22%2C%22_Sensing%2B%22%3A%22%E4%BE%A6%E6%B5%8B%20%2B%22%2C%22_Speech%20recording%20is%20unreliable%22%3A%22%E8%AF%AD%E9%9F%B3%E5%BD%95%E5%88%B6%E6%98%AF%E4%B8%8D%E5%8F%AF%E9%9D%A0%E7%9A%84%22%2C%22_Supports%20touches%3F%22%3A%22%E6%94%AF%E6%8C%81%E8%A7%A6%E7%A2%B0%EF%BC%9F%22%2C%22_Touch%20blocks%20are%20broken%20in%20Safari.%22%3A%22%E8%A7%A6%E7%A2%B0%E7%A7%AF%E6%9C%A8%E5%9C%A8%20Safari%20%E5%8F%AF%E8%83%BD%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E3%80%82%22%2C%22_We%20will%20try%20to%20fix%20them%20soon.%22%3A%22%E4%BB%A5%E5%90%8E%E4%BC%9A%E5%B0%9D%E8%AF%95%E4%BF%AE%E5%A4%8D%E3%80%82%22%2C%22_accelerometer%22%3A%22%E5%8A%A0%E9%80%9F%E5%BA%A6%E8%AE%A1%22%2C%22_brightness%22%3A%22%E4%BA%AE%E5%BA%A6%22%2C%22_color%22%3A%22%E9%A2%9C%E8%89%B2%22%2C%22_copied%20contents%22%3A%22%E5%89%AA%E8%B4%B4%E6%9D%BF%22%2C%22_current%20finger%20touching%22%3A%22%E8%A7%A6%E7%A2%B0%E5%88%B0%E7%9A%84%E6%89%8B%E6%8C%87ID%22%2C%22_does%20%5BList%5D%20contain%20%5Bterm%5D%22%3A%22%E5%88%97%E8%A1%A8%5BList%5D%E5%86%85%E6%9C%89%5Bterm%5D%E5%90%97%EF%BC%9F%22%2C%22_finger%20%5BID%5D%20%5BPositionType%5D%22%3A%22%E7%AC%AC%5BID%5D%E4%B8%AA%E6%89%8B%E6%8C%87%E7%9A%84%5BPositionType%5D%22%2C%22_finger%20%5BID%5D%20speed%22%3A%22%E7%AC%AC%5BID%5D%E4%B8%AA%E6%89%8B%E6%8C%87%E7%9A%84%E9%80%9F%E5%BA%A6%22%2C%22_fisheye%22%3A%22%E9%B1%BC%E7%9C%BC%22%2C%22_get%20index%20%5Bindex%5D%20of%20%5BList%5D%22%3A%22%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%5BList%5D%E7%AC%AC%5Bindex%5D%E9%A1%B9%22%2C%22_get%20the%20%5Btype%5D%20speed%20on%20the%20%5Baxis%5D%20axis%22%3A%22%E8%8E%B7%E5%8F%96%5Baxis%5D%E8%BD%B4%E4%B8%8A%E7%9A%84%5Btype%5D%E9%80%9F%E5%BA%A6%22%2C%22_get%20this%20sprite's%20%5Beffect%5D%20effect%22%3A%22%E8%8E%B7%E5%8F%96%E8%A7%92%E8%89%B2%E7%9A%84%5Beffect%5D%E7%89%B9%E6%95%88%22%2C%22_ghost%22%3A%22%E8%99%9A%E5%BD%B1%22%2C%22_gyroscope%22%3A%22%E9%99%80%E8%9E%BA%E4%BB%AA%22%2C%22_has%20a%20%5Bdevice%5D%3F%22%3A%22%E6%9C%89%5Bdevice%5D%E5%90%97%EF%BC%9F%22%2C%22_hidden%3F%22%3A%22%E8%A7%92%E8%89%B2%E9%9A%90%E8%97%8F%EF%BC%9F%22%2C%22_is%20Finger%20%5BID%5D%20down%3F%22%3A%22%E7%AC%AC%5BID%5D%E4%B8%AA%E6%89%8B%E6%8C%87%E6%8C%89%E4%B8%8B%EF%BC%9F%22%2C%22_is%20packaged%3F%22%3A%22%E6%98%AF%E6%89%93%E5%8C%85%E4%BD%9C%E5%93%81%E5%90%97%EF%BC%9F%22%2C%22_item%20%23%20of%20%5Bterm%5D%20in%20%5BList%5D%22%3A%22%E5%88%97%E8%A1%A8%5BList%5D%E7%AC%AC%E4%B8%80%E4%B8%AA%5Bterm%5D%E7%9A%84%E4%BD%8D%E7%BD%AE%22%2C%22_length%20of%20%5BList%5D%22%3A%22%E5%88%97%E8%A1%A8%5BList%5D%E7%9A%84%E9%95%BF%E5%BA%A6%22%2C%22_mosaic%22%3A%22%E9%A9%AC%E8%B5%9B%E5%85%8B%22%2C%22_off%22%3A%22%E5%85%B3%E9%97%AD%22%2C%22_on%22%3A%22%E6%89%93%E5%BC%80%22%2C%22_pixelate%22%3A%22%E5%83%8F%E7%B4%A0%E5%8C%96%22%2C%22_positional%22%3A%22%E7%A7%BB%E5%8A%A8%22%2C%22_recognized%20Words%22%3A%22%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E7%9A%84%E6%96%87%E6%9C%AC%22%2C%22_recording%3F%22%3A%22%E6%AD%A3%E5%9C%A8%E8%AF%86%E5%88%AB%EF%BC%9F%22%2C%22_rotation%20style%22%3A%22%E6%97%8B%E8%BD%AC%E6%A8%A1%E5%BC%8F%22%2C%22_rotational%22%3A%22%E6%97%8B%E8%BD%AC%22%2C%22_set%20clipboard%20to%20%5BTEXT%5D%22%3A%22%E8%AE%BE%E7%BD%AE%E5%89%AA%E8%B4%B4%E6%9D%BF%E4%B8%BA%5BTEXT%5D%22%2C%22_sprite%20layer%22%3A%22%E8%A7%92%E8%89%B2%E7%9A%84%E5%9B%BE%E5%B1%82%22%2C%22_touching%20a%20clone%20of%20%5BSprite%5D%3F%22%3A%22%E8%A7%A6%E7%A2%B0%E5%88%B0%E8%A7%92%E8%89%B2%5BSprite%5D%E7%9A%84%E5%85%8B%E9%9A%86%E4%BD%93%E5%90%97%EF%BC%9F%22%2C%22_touching%20a%20finger%3F%22%3A%22%E8%A7%A6%E7%A2%B0%E5%88%B0%E6%89%8B%E6%8C%87%EF%BC%9F%22%2C%22_touching%20finger%20%5BID%5D%3F%22%3A%22%E8%A7%A6%E7%A2%B0%E5%88%B0%E7%AC%AC%5BID%5D%E4%B8%AA%E6%89%8B%E6%8C%87%EF%BC%9F%22%2C%22_touching%20the%20original%20%5BSprite%5D%3F%22%3A%22%E8%A7%A6%E7%A2%B0%E5%88%B0%E8%A7%92%E8%89%B2%5BSprite%5D%E5%90%97%EF%BC%9F%22%2C%22_turn%20speech%20recording%20%5Btoggle%5D%22%3A%22%5Btoggle%5D%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%22%2C%22_whirl%22%3A%22%E6%BC%A9%E6%B6%A1%22%7D%7D)%3B%2F*%20end%20generated%20l10n%20code%20*%2F(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20%2F%2Fput%20these%20back%20here%20so%20I%20don't%20have%20to%20define%20scratch.cast%20again.%0D%0A%20%20let%20notMobile%20%3D%20false%3B%0D%0A%0D%0A%20%20%2F*%20globals%20Accelerometer%2C%20Gyro%20*%2F%0D%0A%0D%0A%20%20const%20SpeechRecognition%20%3D%0D%0A%20%20%20%20typeof%20webkitSpeechRecognition%20!%3D%3D%20%22undefined%22%0D%0A%20%20%20%20%20%20%3F%20window.webkitSpeechRecognition%0D%0A%20%20%20%20%20%20%3A%20typeof%20window.SpeechRecognition%20!%3D%3D%20%22undefined%22%0D%0A%20%20%20%20%20%20%20%20%3F%20window.SpeechRecognition%0D%0A%20%20%20%20%20%20%20%20%3A%20null%3B%0D%0A%0D%0A%20%20let%20recognizedSpeech%20%3D%20%22%22%3B%0D%0A%20%20let%20recording%20%3D%20false%3B%0D%0A%20%20let%20initializedSpeechRecognition%20%3D%20false%3B%0D%0A%20%20let%20speechRecognition%20%3D%20null%3B%0D%0A%20%20const%20initializeSpeechRecognition%20%3D%20async%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(initializedSpeechRecognition)%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20initializedSpeechRecognition%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20if%20(!SpeechRecognition)%20%7B%0D%0A%20%20%20%20%20%20console.warn(%0D%0A%20%20%20%20%20%20%20%20%22Speech%20recognotion%20blocks%20are%20not%20supported%20in%20this%20browser%22%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(!(await%20Scratch.canRecordAudio()))%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20speechRecognition%20%3D%20new%20SpeechRecognition()%3B%0D%0A%20%20%20%20speechRecognition.addEventListener(%22result%22%2C%20(event)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20recognizedSpeech%20%3D%20Array.from(event.results)%0D%0A%20%20%20%20%20%20%20%20.map((result)%20%3D%3E%20result%5B0%5D)%0D%0A%20%20%20%20%20%20%20%20.map((result)%20%3D%3E%20result.transcript)%0D%0A%20%20%20%20%20%20%20%20.join(%22%22)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20speechRecognition.addEventListener(%22error%22%2C%20(event)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20if%20(event.error%20%3D%3D%3D%20%22no-speech%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20this%20is%20fine%2C%20just%20ignore%20it%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20it%20will%20be%20restarted%20in%20the%20end%20handler%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22Speech%20recognition%20error%22%2C%20event.error)%3B%0D%0A%20%20%20%20%20%20%20%20recording%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20speechRecognition.stop()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20speechRecognition.addEventListener(%22end%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20if%20(recording)%20%7B%0D%0A%20%20%20%20%20%20%20%20speechRecognition.start()%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20let%20initializedSensors%20%3D%20false%3B%0D%0A%20%20const%20deviceVelocity%20%3D%20%7B%0D%0A%20%20%20%20x%3A%200%2C%0D%0A%20%20%20%20y%3A%200%2C%0D%0A%20%20%20%20z%3A%200%2C%0D%0A%20%20%20%20rotationX%3A%200%2C%0D%0A%20%20%20%20rotationY%3A%200%2C%0D%0A%20%20%20%20rotationZ%3A%200%2C%0D%0A%20%20%7D%3B%0D%0A%20%20const%20deviceStatus%20%3D%20%7B%0D%0A%20%20%20%20gyroscope%3A%20false%2C%0D%0A%20%20%20%20accelerometer%3A%20false%2C%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20initializeSensors%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(initializedSensors)%20%7B%0D%0A%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20initializedSensors%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20if%20(typeof%20Accelerometer%20!%3D%3D%20%22function%22)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20accelerometer%20%3D%20new%20Accelerometer(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20referenceFrame%3A%20%22device%22%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20accelerometer.addEventListener(%22error%22%2C%20(e)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.error(%22accelerometer%20error%22%2C%20e.error)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceStatus.accelerometer%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20accelerometer.addEventListener(%22reading%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceVelocity.x%20%3D%20accelerometer.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceVelocity.y%20%3D%20accelerometer.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceVelocity.z%20%3D%20accelerometer.z%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceStatus.accelerometer%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20accelerometer.start()%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22error%20setting%20up%20accelerometer%22%2C%20e)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20console.warn(%22accelerometer%20API%20is%20not%20supported%20in%20this%20browser%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(typeof%20Gyro%20!%3D%3D%20%22undefined%22)%20%7B%0D%0A%20%20%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20gyro%20%3D%20new%20Gyro(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20frequency%3A%2030%2C%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20gyro.addEventListener(%22error%22%2C%20(e)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20console.error(%22gyro%20error%22%2C%20e.error)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceStatus.gyroscope%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20gyro.addEventListener(%22reading%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceVelocity.rotationX%20%3D%20gyro.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceVelocity.rotationY%20%3D%20gyro.y%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceVelocity.rotationZ%20%3D%20gyro.z%3B%0D%0A%20%20%20%20%20%20%20%20%20%20deviceStatus.gyroscope%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.error(%22error%20setting%20up%20gyro%22%2C%20e)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20console.warn(%22gyro%20API%20is%20not%20supported%20in%20this%20browser%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0D%0A%20%20const%20canvas%20%3D%20runtime.renderer.canvas%3B%0D%0A%0D%0A%20%20let%20fingersDown%20%3D%200%3B%0D%0A%20%20const%20lastFingerPositions%20%3D%20%5B%5D%3B%0D%0A%20%20const%20fingerPositions%20%3D%20%5B%5D%3B%0D%0A%0D%0A%20%20%2F**%20%40param%20%7BTouchEvent%7D%20event%20*%2F%0D%0A%20%20function%20handleTouchStart(event)%20%7B%0D%0A%20%20%20%20event.preventDefault()%3B%0D%0A%20%20%20%20const%20changedTouches%20%3D%20event.changedTouches%3B%0D%0A%20%20%20%20const%20changedTouchesKeys%20%3D%20Object.keys(changedTouches)%3B%0D%0A%20%20%20%20const%20canvasPos%20%3D%20canvas.getBoundingClientRect()%3B%0D%0A%20%20%20%20fingersDown%20%3D%20event.touches.length%3B%0D%0A%0D%0A%20%20%20%20changedTouchesKeys.forEach((touch)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20lastFingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20changedTouches%5Btouch%5D.clientX%20-%20canvasPos.left%2C%0D%0A%20%20%20%20%20%20%20%20changedTouches%5Btouch%5D.clientY%20-%20canvasPos.top%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20fingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20changedTouches%5Btouch%5D.clientX%20-%20canvasPos.left%2C%0D%0A%20%20%20%20%20%20%20%20changedTouches%5Btouch%5D.clientY%20-%20canvasPos.top%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F**%20%40param%20%7BTouchEvent%7D%20event%20*%2F%0D%0A%20%20function%20handleTouchMove(event)%20%7B%0D%0A%20%20%20%20event.preventDefault()%3B%0D%0A%20%20%20%20const%20changedTouches%20%3D%20event.changedTouches%3B%0D%0A%20%20%20%20const%20canvasPos%20%3D%20canvas.getBoundingClientRect()%3B%0D%0A%20%20%20%20const%20changedTouchesKeys%20%3D%20Object.keys(changedTouches)%3B%0D%0A%20%20%20%20fingersDown%20%3D%20event.touches.length%3B%0D%0A%20%20%20%20changedTouchesKeys.forEach((touch)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20lastFingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20fingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20fingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%5B1%5D%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20fingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%20%3D%20%5B%0D%0A%20%20%20%20%20%20%20%20changedTouches%5Btouch%5D.clientX%20-%20canvasPos.left%2C%0D%0A%20%20%20%20%20%20%20%20changedTouches%5Btouch%5D.clientY%20-%20canvasPos.top%2C%0D%0A%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F**%20%40param%20%7BTouchEvent%7D%20event%20*%2F%0D%0A%20%20function%20handleTouchEnd(event)%20%7B%0D%0A%20%20%20%20event.preventDefault()%3B%0D%0A%20%20%20%20const%20changedTouches%20%3D%20event.changedTouches%3B%0D%0A%20%20%20%20const%20changedTouchesKeys%20%3D%20Object.keys(changedTouches)%3B%0D%0A%20%20%20%20fingersDown%20%3D%20event.touches.length%3B%0D%0A%20%20%20%20changedTouchesKeys.forEach((touch)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20lastFingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%20%3D%20null%3B%0D%0A%20%20%20%20%20%20fingerPositions%5BchangedTouches%5Btouch%5D.identifier%5D%20%3D%20null%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20canvas.addEventListener(%22touchstart%22%2C%20handleTouchStart%2C%20false)%3B%0D%0A%20%20canvas.addEventListener(%22touchmove%22%2C%20handleTouchMove%2C%20false)%3B%0D%0A%20%20canvas.addEventListener(%22touchcancel%22%2C%20handleTouchEnd%2C%20false)%3B%0D%0A%20%20canvas.addEventListener(%22touchend%22%2C%20handleTouchEnd%2C%20false)%3B%0D%0A%0D%0A%20%20%2F**%0D%0A%20%20%20*%20%40param%20%7Bstring%7D%20listData%0D%0A%20%20%20*%20%40returns%20%7BVM.ListVariable%7Cnull%7D%0D%0A%20%20%20*%2F%0D%0A%20%20const%20getListFromMenu%20%3D%20(listData)%20%3D%3E%20%7B%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20const%20parsed%20%3D%20JSON.parse(listData)%3B%0D%0A%20%20%20%20%20%20if%20(parsed%20%26%26%20parsed.variableId%20%26%26%20parsed.targetName)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20Scratch.vm.runtime.getSpriteTargetByName(%0D%0A%20%20%20%20%20%20%20%20%20%20parsed.targetName%0D%0A%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20const%20variable%20%3D%20target.variables%5Bparsed.variableId%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(variable%20%26%26%20variable.type%20%3D%3D%3D%20%22list%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20variable%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20ignore%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20null%3B%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20const%20ico%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOC44NjYwNyIgaGVpZ2h0PSIyOC44NjYwNyIgdmlld0JveD0iMCwwLDI4Ljg2NjA3LDI4Ljg2NjA3Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI1LjA2Njk3LC0xNjUuMDY2OTcpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI%2BPHBhdGggZD0iTTIyNS4wNjY5NywxNzkuNWMwLC03Ljk3MTE0IDYuNDYxODksLTE0LjQzMzAzIDE0LjQzMzAzLC0xNC40MzMwM2M3Ljk3MTE0LDAgMTQuNDMzMDMsNi40NjE4OSAxNC40MzMwMywxNC40MzMwM2MwLDcuOTcxMTQgLTYuNDYxODksMTQuNDMzMDMgLTE0LjQzMzAzLDE0LjQzMzAzYy03Ljk3MTE0LDAgLTE0LjQzMzAzLC02LjQ2MTg5IC0xNC40MzMwMywtMTQuNDMzMDN6IiBmaWxsPSIjNWNiMWQ2IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMjM0LjUsMTc1YzAsLTIuNDkgMi4wMSwtNC41IDQuNSwtNC41YzIuNDksMCA0LjUsMi4wMSA0LjUsNC41YzAsMS41NiAtMC43OSwyLjkzIC0yLDMuNzR2LTMuNzRjMCwtMS4zODA3MSAtMS4xMTkyOSwtMi41IC0yLjUsLTIuNWMtMS4zODA3MSwwIC0yLjUsMS4xMTkyOSAtMi41LDIuNXYzLjc0Yy0xLjIxLC0wLjgxIC0yLC0yLjE4IC0yLC0zLjc0ek0yNDcuMjUsMTg0Ljc1YzAsMC4wNiAtMC4wMSwwLjEzIC0wLjAyLDAuMmwtMC43NSw1LjI3Yy0wLjExLDAuNzMgLTAuNjksMS4yOCAtMS40NCwxLjI4aC02Ljc5Yy0wLjQxLDAgLTAuNzksLTAuMTcgLTEuMDYsLTAuNDRsLTQuOTQsLTQuOTRsMC43OSwtMC44YzAuMiwtMC4yIDAuNDgsLTAuMzMgMC43OSwtMC4zM2MwLjEzLDAgMC4wNywtMC4wMSAzLjY3LDAuNzV2LTEwLjc0YzAsLTAuODMgMC42NywtMS41IDEuNSwtMS41YzAuODMsMCAxLjUsMC42NyAxLjUsMS41djZoMC43NmMwLjE5LDAgMC4zNywwLjA0IDAuNTQsMC4xMWw0LjU0LDIuMjZjMC41MywwLjIyIDAuOTEsMC43NiAwLjkxLDEuMzh6IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMjI3LjUsMTY3LjVoMjR2MjRoLTI0eiIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiPjxwYXRoIGQ9Ik0yNDQuNTAyMTEsMTc4LjgyNzU5aDUuNDk1NzkiLz48cGF0aCBkPSJNMjQ3LjI1LDE4MS41NzU0OGwwLC01LjQ5NTc4Ii8%2BPC9nPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjE0LjkzMzAzNDcxNTI2MTk4MjoxNC45MzMwMzQ3MTUyNjE5NTQtLT4%3D%22%3B%0D%0A%20%20const%20touchIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyNi4yMDU1MSIgaGVpZ2h0PSIyNi45NjQ5IiB2aWV3Qm94PSIwLDAsMjYuMjA1NTEsMjYuOTY0OSI%2BPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyNi44OTcyNSwtMTY2LjEzNzg1KSI%2BPGcgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0yMzkuMzA5OTgsMTg5Ljc3OTdjLTAuMDQ4MjMsMC4wMzU2OSAtMC4xMTA0NSwwLjA2OTI5IC0wLjE3MjY3LDAuMTAyODlsLTQuNjgyNDEsMi41MzE4OGMtMC42NTIyNCwwLjM0NTggLTEuNDM5MzYsMC4yMDY3MyAtMS44ODU0OSwtMC4zOTYxNmwtNC4wMzg5MiwtNS40NTgxNGMtMC4yNDM4OCwtMC4zMjk1OCAtMC4zMzMyNiwtMC43MzYxNiAtMC4yNzY4MywtMS4xMTM4MWwxLjAzMjU0LC02LjkwOTQ5bDEuMTEzLDAuMTU5MTdjMC4yNzk3NCwwLjA0MTggMC41NTA3OSwwLjE4OTU1IDAuNzM1MTksMC40Mzg3NWMwLjA3NzMzLDAuMTA0NSAwLjA0OTY4LDAuMDUwMzIgMS41ODAxNSwzLjM5NjI1bDguNjMzMzQsLTYuMzg4NTFjMC42NjcxOSwtMC40OTM3MSAxLjYwNDMxLC0wLjM1MzY3IDIuMDk4MDIsMC4zMTM1MmMwLjQ5MzcxLDAuNjY3MTkgMC4zNTM2NywxLjYwNDMxIC0wLjMxMzUyLDIuMDk4MDJsLTQuODIzMSwzLjU2OWwwLjQ1MjA3LDAuNjEwOTNjMC4xMTMwMiwwLjE1MjczIDAuMTg3OTMsMC4zMjEyMiAwLjIzMjc5LDAuNDk5NTFsMC44ODM4NCw0Ljk5MzhjMC4xMzg0MSwwLjU1NjkgLTAuMDY5NjMsMS4xODM1OCAtMC41NjgwMSwxLjU1MjM3eiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8%2BPHBhdGggZD0iTTIyOC43MzMyMiwxNjYuMTM3ODVoMjR2MjRoLTI0eiIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMjQ0LjQ2NjgyLDE3NC44NzA0NGwyLjA3NDI4LC0yLjA3NDI4IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BPHBhdGggZD0iTTIzNi44OTU5MSwxODIuNzMyNTJsMi4wNzQyOCwtMi4wNzQyOCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMzkuODUzNDcsMTc0Ljk1Nzc1bC0yLjA3NDI4LC0yLjA3NDI4IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BPHBhdGggZD0iTTI0Ni40NTM4LDE4MS41NTgwOGwtMi4wNzQyOCwtMi4wNzQyOCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMjYuODk3MjUsMTkzLjEwMjc1di0yNi4yMDU1MWgyNi4yMDU1MXYyNi4yMDU1MXoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSJub25lIiBzdHJva2UtbGluZWNhcD0iYnV0dCIvPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjEzLjEwMjc1NDg1NDYyMTI4MToxMy44NjIxNDc1NDY3MTM3NDMtLT4%3D%22%3B%0D%0A%20%20const%20listIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBzdHlsZT0iLW1zLXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZykiPjxwYXRoIGQ9Im04MC4xODIgNjcuNDU3LTM1LjQtLjAwMXYuMDAxbC0uMDA5LS4wMDFhMi4yNyAyLjI3IDAgMCAwLTIuMjY5IDIuMjY5YzAgLjA0Mi4wMS4wOC4wMTIuMTIxVjgwLjE4aC4wMTFhMi4yNjggMi4yNjggMCAwIDAgMi4yNTQgMi4yNjh2LjAwMWgzNS40di0uMDAyYTIuMjY4IDIuMjY4IDAgMCAwIDIuMjU0LTIuMjY4VjY5LjgyNWMuMDAyLS4wMzQuMDEtLjA2Ny4wMS0uMTAxYTIuMjY3IDIuMjY3IDAgMCAwLTIuMjYzLTIuMjY3em0tNDkuOTA0LS4wMDNIMTkuODIyYTIuMjcgMi4yNyAwIDAgMC0yLjI2OSAyLjI2OXYxMC40NTRhMi4yNjkgMi4yNjkgMCAwIDAgMi4yNjggMi4yNjloMTAuNDU1YTIuMjcgMi4yNyAwIDAgMCAyLjI2OS0yLjI2OVY2OS43MjNhMi4yNjcgMi4yNjcgMCAwIDAtMi4yNjctMi4yNjl6bTQ5LjkwNC0yNC45ODctMzUuNC0uMDAxdi4wMDFsLS4wMDktLjAwMWEyLjI3IDIuMjcgMCAwIDAtMi4yNjkgMi4yNjljMCAuMDQyLjAxLjA4LjAxMi4xMjFWNTUuMTloLjAxMWEyLjI2OCAyLjI2OCAwIDAgMCAyLjI1NCAyLjI2OHYuMDAxaDM1LjR2LS4wMDJhMi4yNjggMi4yNjggMCAwIDAgMi4yNTQtMi4yNjhWNDQuODM1Yy4wMDItLjAzNC4wMS0uMDY3LjAxLS4xMDFhMi4yNjcgMi4yNjcgMCAwIDAtMi4yNjMtMi4yNjd6bS00OS45MDQtLjAwM0gxOS44MjJhMi4yNyAyLjI3IDAgMCAwLTIuMjY5IDIuMjY5djEwLjQ1NGEyLjI2OSAyLjI2OSAwIDAgMCAyLjI2OCAyLjI2OWgxMC40NTVhMi4yNyAyLjI3IDAgMCAwIDIuMjY5LTIuMjY5VjQ0LjczM2EyLjI2NyAyLjI2NyAwIDAgMC0yLjI2Ny0yLjI2OXptMTIuMjM4LTEyLjE4OGguMDExYTIuMjY4IDIuMjY4IDAgMCAwIDIuMjU0IDIuMjY4di4wMDFoMzUuNHYtLjAwMmEyLjI2OCAyLjI2OCAwIDAgMCAyLjI1NC0yLjI2OFYxOS45MjFjLjAwMi0uMDM0LjAxLS4wNjcuMDEtLjEwMWEyLjI2OSAyLjI2OSAwIDAgMC0yLjI2NC0yLjI2OHYtLjAwMWgtMzUuNHYuMDAxbC0uMDA5LS4wMDFhMi4yNyAyLjI3IDAgMCAwLTIuMjY5IDIuMjY5YzAgLjA0Mi4wMS4wOC4wMTIuMTIxdjEwLjMzNXpNMzAuMjc4IDE3LjU1MUgxOS44MjJhMi4yNyAyLjI3IDAgMCAwLTIuMjY5IDIuMjY5djEwLjQ1NGEyLjI2OSAyLjI2OSAwIDAgMCAyLjI2OCAyLjI2OWgxMC40NTVhMi4yNyAyLjI3IDAgMCAwIDIuMjY5LTIuMjY5VjE5LjgyYTIuMjY2IDIuMjY2IDAgMCAwLTIuMjY3LTIuMjY5eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGZpbGw9InJnYmEoMCwgMCwgMCwgMCkiIGQ9Ik0wIDBoMTAwdjEwMEgweiIvPjwvc3ZnPg%3D%3D%22%3B%0D%0A%20%20const%20catIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI0Mi4wMzIzNSIgaGVpZ2h0PSI0Mi4wMzIzNSIgdmlld0JveD0iMCwwLDQyLjAzMjM1LDQyLjAzMjM1Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjE4Ljk4MzgyLC0xNTguOTgzODIpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI%2BPHBhdGggZD0iTTI0My40NzUsMTY1LjQ3NzIzYzAuMTUsLTAuMSAwLjQsLTAuMDUgMC40NSwwLjE1bDEuMyw1LjM1YzAsMCAzLjIsMi4zNSA0LjE1LDRjMS42LDIuNzUgMS42NSw1IDEuNjUsNWMwLDAgMy41NSwxLjA1IDQuMTUsMy45YzAuNiwyLjg1IC0xLjYsOC4yNSAtMTEsMTAuMWMtOS40LDEuODUgLTE2Ljk1LC0wLjcgLTIwLjUsLTYuNGMtMy41NSwtNS43IDIuMDUsLTEyLjUgMS43NSwtMTIuMWwtMS4wNSwtOC45NWMtMC4wNSwtMC4yIDAuMiwtMC4zNSAwLjQsLTAuMjVsNi4wNSwzLjk1YzAsMCAyLjI1LC0wLjg1IDQuNiwtMC45NWMxLjQsLTAuMSAyLjYsMCAzLjc1LDAuMnoiIGZpbGw9IiMzYmEyY2UiIHN0cm9rZT0iIzFiNTU2ZSIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8%2BPHBhdGggZD0iTTI1MC44NzUsMTgwLjE3NzIzYzAsMCAzLjQ1LDAuOSA0LjA1LDMuNzVjMC42LDIuODUgLTEuOCw4IC0xMS4xLDkuOGMtMTIuMSwyLjUgLTE3Ljg1LC00LjcgLTE0LjUsLTEwYzMuMzUsLTUuMzUgOS4xLC0wLjggMTMuMywtMS4xYzMuNiwtMC4yNSA0LC0zLjQgOC4yNSwtMi40NXoiIGZpbGw9IiNhN2UyZmIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjxwYXRoIGQ9Ik0yNjAuMDc1LDE4MC43MjcyM2MtMi4zNSwxLjkgLTUuOTUsMS45NSAtNS45NSwxLjk1IiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjU5LjQyNSwxODYuMzI3MjNjLTMuMTUsMC4yNSAtNS4xLC0wLjcgLTUuMSwtMC43IiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjQyLjQyNSwxODEuMzI3MjNjMS4wNSwwIDIuMTUsMC4xIDIuMiwwLjQ1YzAuMDUsMC43IC0wLjcsMi4xIC0xLjUsMi4xNWMtMC45LDAuMSAtMywtMS4xNSAtMywtMS45NWMtMC4wNSwtMC42IDEuMywtMC42NSAyLjMsLTAuNjV6IiBmaWxsPSIjMWI1NTZlIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjE5LjkyNSwxODAuNTc3MjNjMCwwIDQuMywxLjQgNi4wNSwyLjk1IiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjI2LjEyNSwxODUuMjc3MjNjLTIuMTUsMC44NSAtNS44NSwwLjMgLTUuODUsMC4zIiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48ZyBmaWxsPSIjMWI1NTZlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiPjxwYXRoIGQ9Ik0yNDguMTI1LDE3OC4zMjcyM2MwLDAuNTUgLTAuNCwxIC0wLjksMWMtMC41LDAgLTAuOSwtMC40NSAtMC45LC0xYzAsLTAuNTUgMC40LC0xIDAuOSwtMWMwLjUsMCAwLjksMC40NSAwLjksMSIvPjwvZz48ZyBmaWxsPSIjMWI1NTZlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiPjxwYXRoIGQ9Ik0yMzUuNjI1LDE3OS43NzcyM2MwLDAuNTUgLTAuNCwxIC0wLjksMWMtMC41LDAgLTAuOSwtMC40NSAtMC45LC0xYzAsLTAuNTUgMC40LC0xIDAuOSwtMWMwLjUsMC4wNSAwLjksMC40NSAwLjksMSIvPjwvZz48L2c%2BPHBhdGggZD0iTTIxOC45ODM4MiwyMDEuMDE2MTh2LTQyLjAzMjM1aDQyLjAzMjM1djQyLjAzMjM1eiIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48L2c%2BPC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjoyMS4wMTYxNzY0NzA1ODgzNjM6MjEuMDE2MTc2NDcwNTg4MzktLT4%3D%22%3B%0D%0A%20%20const%20deviceVelIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI3Mi44NjY0OCIgaGVpZ2h0PSI2MC43NDUyNSIgdmlld0JveD0iMCwwLDcyLjg2NjQ4LDYwLjc0NTI1Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjA0LjY0MTEzLC0xNDkuNjI3MzgpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0yMjMuNTMwMDgsMTk4LjI2ODZjLTAuNzcxMDEsLTAuMjEzNCAtMS4zNjU2MiwtMC42ODkyNSAtMS43ODM4MywtMS40Mjc1NmMtMC40MTgyMSwtMC43MzgzMSAtMC41MjA2MSwtMS40OTI5NyAtMC4zMDcyMSwtMi4yNjM5OGwxMC4xMzY0OSwtMzYuNjIzMWMwLjIxMzQsLTAuNzcxMDEgMC42ODkyNSwtMS4zNjU2MiAxLjQyNzU2LC0xLjc4MzgzYzAuNzM4MzEsLTAuNDE4MjEgMS40OTI5NywtMC41MjA2MSAyLjI2Mzk4LC0wLjMwNzIxbDIxLjIwMjg1LDUuODY4NWMwLjc3MTAxLDAuMjEzNCAxLjM2NTYyLDAuNjg5MjUgMS43ODM4MywxLjQyNzU2YzAuNDE4MjEsMC43MzgzMSAwLjUyMDYxLDEuNDkyOTcgMC4zMDcyMSwyLjI2Mzk4bC0xMC4xMzY0OSwzNi42MjMxYy0wLjIxMzQsMC43NzEwMSAtMC42ODkyNSwxLjM2NTYyIC0xLjQyNzU2LDEuNzgzODNjLTAuNzM4MzEsMC40MTgyMSAtMS40OTI5NywwLjUyMDYxIC0yLjI2Mzk4LDAuMzA3MjF6TTIyNC43MzA0NSwxOTMuOTMxNjVsLTAuNDAwMTIsMS40NDU2NWwyMS4yMDI4NSw1Ljg2ODVsMC40MDAxMiwtMS40NDU2NXpNMjI1LjUzMDcsMTkxLjA0MDM2bDIxLjIwMjg1LDUuODY4NWw3LjczNTc1LC0yNy45NDkyMWwtMjEuMjAyODUsLTUuODY4NXpNMjM0LjA2NjcsMTYwLjE5OTg1bDIxLjIwMjg1LDUuODY4NWwwLjQwMDEyLC0xLjQ0NTY1bC0yMS4yMDI4NSwtNS44Njg1ek0yMzQuMDY2NywxNjAuMTk5ODVsMC40MDAxMiwtMS40NDU2NXpNMjI0LjczMDQ1LDE5My45MzE2NWwtMC40MDAxMiwxLjQ0NTY1eiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNMjI2LjQ4NTU2LDE1NC40NzkwMWM0LjAzMjEsLTIuMTM5NiA4LjYzMTczLC0zLjM1MTYzIDEzLjUxNDQ0LC0zLjM1MTYzYzE1Ljk0NTkxLDAgMjguODcyNjIsMTIuOTI2NzEgMjguODcyNjIsMjguODcyNjJjMCwwLjg5Mjc3IC0wLjA0MDUyLDEuNzc2MDcgLTAuMTE5ODIsMi42NDgxNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjMiLz48cGF0aCBkPSJNMjYwLjI2NzExLDIwMC41NjM4N2MtNS4yMTI3Myw1LjEzNzk3IC0xMi4zNjk2Myw4LjMwODc1IC0yMC4yNjcxMSw4LjMwODc1Yy0xNS45NDU5MSwwIC0yOC44NzI2MiwtMTIuOTI2NzEgLTI4Ljg3MjYyLC0yOC44NzI2MmMwLC0zLjgzOTY1IDAuNzQ5NSwtNy41MDQyNSAyLjExMDE5LC0xMC44NTU0NiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjMiLz48cGF0aCBkPSJNMjA0LjY0MTEzLDE2Ni4zNzdsMTEuNjQ1NjgsLTUuMzEyMDdsNS4zMTIwNywxMS42NDU2OHoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIwIi8%2BPHBhdGggZD0iTTI3Ny41MDc2MSwxODIuNjQ0MDFsLTkuODAyNDMsOC4yMzExOGwtOC4yMzExOCwtOS44MDI0M3oiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIwIi8%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MzUuMzU4ODczODM5ODgwOTc6MzAuMzcyNjIzNTE2MTc0OTk3LS0%2B%22%3B%0D%0A%20%20const%20clipboardIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIzNy41IiBoZWlnaHQ9IjQxLjUiIHZpZXdCb3g9IjAuNSwwLjUsMzcuNSw0MS41Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjIwLjc1LC0xNTguNzUpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0yMjUsMjAwYy0wLjg2NjY3LDAgLTEuNTgzMzQsLTAuMjgzMzMgLTIuMTUsLTAuODVjLTAuNTY2NjcsLTAuNTY2NjcgLTAuODUsLTEuMjgzMzQgLTAuODUsLTIuMTV2LTMwYzAsLTAuODY2NjcgMC4yODMzMywtMS41ODMzNCAwLjg1LC0yLjE1YzAuNTY2NjcsLTAuNTY2NjcgMS4yODMzMywtMC44NSAyLjE1LC0wLjg1aDEwLjFjMC4yMzMzMywtMS4xNjY2NiAwLjgwODMzLC0yLjEyNSAxLjcyNSwtMi44NzVjMC45MTY2NiwtMC43NSAxLjk3NSwtMS4xMjUgMy4xNzUsLTEuMTI1YzEuMiwwIDIuMjU4MzMsMC4zNzUgMy4xNzUsMS4xMjVjMC45MTY2NiwwLjc1IDEuNDkxNjYsMS43MDgzMyAxLjcyNSwyLjg3NWgxMC4xYzAuODY2NjcsMCAxLjU4MzMzLDAuMjgzMzMgMi4xNSwwLjg1YzAuNTY2NjcsMC41NjY2NyAwLjg1LDEuMjgzMzMgMC44NSwyLjE1djMwYzAsMC44NjY2NyAtMC4yODMzNCwxLjU4MzM0IC0wLjg1LDIuMTVjLTAuNTY2NjcsMC41NjY2NyAtMS4yODMzMywwLjg1IC0yLjE1LDAuODV6TTIyNSwxOTdoMzB2LTMwaC0zdjQuNWgtMjR2LTQuNWgtM3pNMjQwLDE2N2MwLjU2NjY3LDAgMS4wNDE2NiwtMC4xOTE2NyAxLjQyNSwtMC41NzVjMC4zODMzMywtMC4zODMzMyAwLjU3NSwtMC44NTgzMyAwLjU3NSwtMS40MjVjMCwtMC41NjY2NyAtMC4xOTE2NywtMS4wNDE2NiAtMC41NzUsLTEuNDI1Yy0wLjM4MzM0LC0wLjM4MzMzIC0wLjg1ODM0LC0wLjU3NSAtMS40MjUsLTAuNTc1Yy0wLjU2NjY3LDAgLTEuMDQxNjcsMC4xOTE2NyAtMS40MjUsMC41NzVjLTAuMzgzMzMsMC4zODMzNCAtMC41NzUsMC44NTgzNCAtMC41NzUsMS40MjVjMCwwLjU2NjY3IDAuMTkxNjcsMS4wNDE2NiAwLjU3NSwxLjQyNWMwLjM4MzMzLDAuMzgzMzQgMC44NTgzNCwwLjU3NSAxLjQyNSwwLjU3NXoiLz48L2c%2BPC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjoxOS4yNToyMS4yNDk5OTk5OTk5OTk5Ny0tPg%3D%3D%22%3B%0D%0A%20%20const%20speechIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIzNi45NzQzOCIgaGVpZ2h0PSIzMy43NTAxIiB2aWV3Qm94PSIwLDAsMzYuOTc0MzgsMzMuNzUwMSI%2BPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMS4wNjQ0OSwtMTYyLjA0MzU5KSI%2BPGcgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI%2BPHBhdGggZD0iTTI0OC41MzI4MywxOTUuNzkzNjlsLTAuODI4NzUsLTIuOTg3MTdjMi44NjYxMywtMS43NjM3NiA0LjkzMjY3LC00LjE5NjQzIDYuMTk5NjEsLTcuMjk4MDJjMS4yNjY5NCwtMy4xMDE1OSAxLjQ1MDM5LC02LjI3NDQ1IDAuNTUwMzUsLTkuNTE4NThjLTAuOTAwMDQsLTMuMjQ0MTMgLTIuNjg2MTcsLTUuODc5MiAtNS4zNTg0LC03LjkwNTIyYy0yLjY3MjIzLC0yLjAyNjAyIC01LjcwMjUzLC0zLjAzNiAtOS4wOTA5LC0zLjAyOTkzbC0wLjgyODc1LC0yLjk4NzE3YzQuMjMyNDEsLTAuMjA1NjQgOC4wMzU3MiwwLjkwOTg2IDExLjQwOTk0LDMuMzQ2NDljMy4zNzQyMiwyLjQzNjYzIDUuNjI3MTksNS42OTQ1NyA2Ljc1ODkyLDkuNzczODJjMS4xMzE3Myw0LjA3OTI1IDAuODc5MzQsOC4wMzIyNyAtMC43NTcxOCwxMS44NTkwNmMtMS42MzY1MiwzLjgyNjc5IC00LjMyMTQ2LDYuNzQyMzYgLTguMDU0ODQsOC43NDY3MnpNMjI0LjI3MjU1LDE5MC42NDE4OWwtMy4yMDgwNiwtMTEuNTYzMjNsNy43MDg4MiwtMi4xMzg3MWw2Ljk2MjY0LC0xMi4zMDk0MWw4LjU1NDgzLDMwLjgzNTI5bC0xMi4zMDk0MSwtNi45NjI2NHpNMjQ1LjE0OTgyLDE4Ny4zNDA0M2wtNC41MDQ2NSwtMTYuMjM2NzFjMS45MTgxLDAuMDU1OTIgMy42MDg1MSwwLjY5MzkgNS4wNzEyNCwxLjkxMzkyYzEuNDYyNzMsMS4yMjAwMyAyLjQ1MjUzLDIuNzYxNTIgMi45NjkzOCw0LjYyNDQ5YzAuNTA3OTQsMS44MzA4NSAwLjQ0MTM1LDMuNjQ4MTMgLTAuMTk5NzksNS40NTE4NGMtMC42NDExMywxLjgwMzcyIC0xLjc1MzIsMy4yMTkyIC0zLjMzNjE5LDQuMjQ2NDV6Ii8%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MTguOTM1NTEyMTkxNzQ1NzQ0OjE3Ljk1NjQwNjY2OTY5MDQxLS0%2B%22%3B%0D%0A%20%20const%20packagedIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1OS4xODk3MiIgaGVpZ2h0PSI2Mi4xOTA3MyIgdmlld0JveD0iMCwwLDU5LjE4OTcyLDYyLjE5MDczIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjIwLjQzMjcsLTE1MS4wMDMwNSkiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMy41IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMjIyLjQ4MjI2LDE5Ny45ODQwNnYtMjkuODE2OTVsMjUuNzc5MjQsMTIuNDIzNzN2MjkuODE2OTV6IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0iYnV0dCIvPjxwYXRoIGQ9Ik0yNTEuMzk3OTQsMjEwLjQwNzc5di0yOS44MTY5NWwyNS43NzkyNCwtMTIuNDIzNzN2MjkuODE2OTV6IiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMjI0LjM0NTgyLDE2NS4zNzE3N2wyNC44NDc0NiwtMTIuNDIzNzNsMjYuNDAwNDMsMTIuNDIzNzNsLTI1Ljc3OTI0LDEyLjczNDMyeiIgZmlsbC1vcGFjaXR5PSIwLjAyMzUzIiBmaWxsPSIjZmY2NjY2IiBzdHJva2UtbGluZWNhcD0iYnV0dCIvPjxwYXRoIGQ9Ik0yNjAuMjE5MzQsMTU5LjQ3MDQ5bC0yNC44NDc0NiwxMi43MzQzMmwtMS4wODcwOCwzMS4zNjk5MiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MTkuNTY3MzAxNDU1OTU1NDY6MjguOTk2OTQ3NTUwNDE1OTQtLT4%3D%22%3B%0D%0A%20%20const%20effectIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI5My45ODkwNyIgaGVpZ2h0PSI5MC42NTY0MyIgdmlld0JveD0iMCwwLDkzLjk4OTA3LDkwLjY1NjQzIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTkzLjAwNTQ2LC0xMzQuNzUpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGw9IiM1Y2IxZDYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIuNSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0yNzcuNDk2NjQsMjIzLjE1NjM5Yy0wLjM4Mjk5LDAgLTEuODI0NTYsMS4xMzUwOSAwLjIzMDQyLDEuMDAwMDNjMi4zOTAzNiwtMC4xNTcxIDguMzQzOTYsLTEuNjA4MTUgOC4wMDM0NiwtMS45NDcyNGwtODAuODQ1ODQsLTgwLjg0ODQ4Yy0xLjI2Mzg0LC0xLjI2Mzg0IC0xMS43ODc5MywtMy4zMTY1NyAtMTAuNTI0MDksLTQuNTgwNDFjMS4yNjM4NCwtMS4yNjM4NCA5LjYzMTAyLC0xLjI2Mzg0IDEwLjg5NDg2LDBsNzIuMTI1ODgsODIuMzQ5MjhjMS4yNjM4NCwxLjI2Mzg0IDMuNjY5MzUsMS44MTMxMyAyLjQwNTUxLDMuMDc2OTdjLTAuNjMzMjQsMC42MzA2IC0xLjQ2MTczLDAuOTQ5ODUgLTIuMjkwMjEsMC45NDk4NXoiLz48cGF0aCBkPSJNMjM2LjQ0MTEzLDE1My44MTUwNmMwLDkuODM4OTIgLTE4LjgwMDkxLDE3LjgxNTA2IC0yOC42Mzk4MywxNy44MTUwNmMtOS44Mzg5MiwwIC02Ljk5MDI4LC03Ljk3NjE0IC02Ljk5MDI4LC0xNy44MTUwNmMwLC05LjgzODkyIDMuMTY1MTMsLTE3LjgxNTA2IDEzLjAwNDA1LC0xNy44MTUwNmM5LjgzODkyLDAgMjIuNjI2MDcsNy45NzYxNCAyMi42MjYwNywxNy44MTUwNnoiLz48cGF0aCBkPSJNMjM0Ljg3Mzc4LDE5MC41OTM1OWMtOS41NzU2NSwtMi4yNjExMSAtMjcuMjMyMDgsLTExLjg1NjcxIC0yNC45NzA5NiwtMjEuNDMyMzVjMi4yNjExMSwtOS41NzU2NSAyMi42ODE0OSwtMTUuNTA1MjQgMzIuMjU3MTMsLTEzLjI0NDEyYzkuNTc1NjUsMi4yNjExMSA2LjQ4NDYsMTEuODU2NzEgNC4yMjM0OCwyMS40MzIzNWMtMi4yNjExMSw5LjU3NTY1IC0xLjkzNCwxNS41MDUyNCAtMTEuNTA5NjQsMTMuMjQ0MTJ6Ii8%2BPHBhdGggZD0iTTI3MC41MDI5MywxOTIuNjg1MjRjMCw5LjgzODkyIC03Ljk3ODc4LDE3LjgxNzY5IC0xNy44MTc2OSwxNy44MTc2OWMtOS44Mzg5MiwwIC0xMi4xMDE5OCwtNy45Nzg3OCAtMTIuMTAxOTgsLTE3LjgxNzY5YzAsLTkuODM4OTIgLTEuOTQ2NTcsLTE3LjgxNTA2IDcuODkyMzUsLTE3LjgxNTA2YzkuODM4OTIsMCAyMi4wMjczMiw3Ljk3ODc4IDIyLjAyNzMyLDE3LjgxNTA2eiIvPjxwYXRoIGQ9Ik0yODAuNzYxMzYsMjI0LjAwMTQyYy0wLjgyODQ5LDAgLTEuNjU2OTgsLTAuMzE2NjEgLTIuMjkwMjEsLTAuOTQ3MjFjMCwwIC0xLjU2MDQzLC02LjM3MTQ0IC00LjAwMzMzLC04LjgxNDM0Yy0zLjY2MzAxLC0zLjY2MzAxIC0xNS44MzgwOCwtMTEuMDI3MDcgLTE1LjgzODA4LC0xMS4wMjcwN2MtMS4yNjY0OCwtMS4yNjM4NCAtMS4yNjY0OCwtMy4zMTY1NyAwLC00LjU4MDQxYzEuMjY2NDgsLTEuMjYzODQgMy4zMTM5MywtMS4yNjM4NCA0LjU4MDQxLDBjMCwwIDE0LjU4MDU4LDYuNDYxOTkgMTguMjQzNTgsMTAuMTI1YzIuNDQyOSwyLjQ0MjkgMS41OTc4Myw5LjcxNjQxIDEuNTk3ODMsOS43MTY0MWMxLjI2Mzg0LDEuMjYzODQgMS4yNjM4NCwzLjMxNjU3IDAsNC41ODA0MWMtMC42MzMyNCwwLjYyNzk2IC0xLjQ2MTczLDAuOTQ3MjEgLTIuMjkwMjEsMC45NDcyMXoiLz48L2c%2BPC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo0Ni45OTQ1MzUyNzE1OTQ2Njo0NS4yNS0tPg%3D%3D%22%3B%0D%0A%20%20const%20rotationIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI0OC42Mjg2IiBoZWlnaHQ9IjQ0LjU3MzgzIiB2aWV3Qm94PSIwLDAsNDguNjI4Niw0NC41NzM4MyI%2BPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxNC4yMjg1NywtMTU4LjI5MDQpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI%2BPHBhdGggZD0iTTI0My40NzUwMSwxNjUuNDc3MjRjMC4xNSwtMC4xIDAuNCwtMC4wNSAwLjQ1LDAuMTVsMS4zLDUuMzVjMCwwIDMuMiwyLjM1IDQuMTUsNGMxLjYsMi43NSAxLjY1LDUgMS42NSw1YzAsMCAzLjU1LDEuMDUgNC4xNSwzLjljMC42LDIuODUgLTEuNiw4LjI1IC0xMSwxMC4xYy05LjQsMS44NSAtMTYuOTUsLTAuNyAtMjAuNSwtNi40Yy0zLjU1LC01LjcgMi4wNSwtMTIuNSAxLjc1LC0xMi4xbC0xLjA1LC04Ljk1Yy0wLjA1LC0wLjIgMC4yLC0wLjM1IDAuNCwtMC4yNWw2LjA1LDMuOTVjMCwwIDIuMjUsLTAuODUgNC42LC0wLjk1YzEuNCwtMC4xIDIuNiwwIDMuNzUsMC4yeiIgZmlsbD0iIzNiYTJjZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjUwLjg3NTAxLDE4MC4xNzcyNGMwLDAgMy40NSwwLjkgNC4wNSwzLjc1YzAuNiwyLjg1IC0xLjgsOCAtMTEuMSw5LjhjLTEyLjEsMi41IC0xNy44NSwtNC43IC0xNC41LC0xMGMzLjM1LC01LjM1IDkuMSwtMC44IDEzLjMsLTEuMWMzLjYsLTAuMjUgNCwtMy40IDguMjUsLTIuNDV6IiBmaWxsPSIjYTdlMmZiIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjYwLjA3NSwxODAuNzI3MjRjLTIuMzUsMS45IC01Ljk1LDEuOTUgLTUuOTUsMS45NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTI1OS40MjUwMSwxODYuMzI3MjRjLTMuMTUsMC4yNSAtNS4xLC0wLjcgLTUuMSwtMC43IiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjQyLjQyNTAxLDE4MS4zMjcyNGMxLjA1LDAgMi4xNSwwLjEgMi4yLDAuNDVjMC4wNSwwLjcgLTAuNywyLjEgLTEuNSwyLjE1Yy0wLjksMC4xIC0zLC0xLjE1IC0zLC0xLjk1Yy0wLjA1LC0wLjYgMS4zLC0wLjY1IDIuMywtMC42NXoiIGZpbGw9IiMxYjU1NmUiIHN0cm9rZT0iIzFiNTU2ZSIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMTkuOTI1MDEsMTgwLjU3NzI0YzAsMCA0LjMsMS40IDYuMDUsMi45NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTIyNi4xMjUwMSwxODUuMjc3MjRjLTIuMTUsMC44NSAtNS44NSwwLjMgLTUuODUsMC4zIiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48ZyBmaWxsPSIjMWI1NTZlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiPjxwYXRoIGQ9Ik0yNDguMTI1MDEsMTc4LjMyNzI0YzAsMC41NSAtMC40LDEgLTAuOSwxYy0wLjUsMCAtMC45LC0wLjQ1IC0wLjksLTFjMCwtMC41NSAwLjQsLTEgMC45LC0xYzAuNSwwIDAuOSwwLjQ1IDAuOSwxIi8%2BPC9nPjxnIGZpbGw9IiMxYjU1NmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciI%2BPHBhdGggZD0iTTIzNS42MjUwMSwxNzkuNzc3MjRjMCwwLjU1IC0wLjQsMSAtMC45LDFjLTAuNSwwIC0wLjksLTAuNDUgLTAuOSwtMWMwLC0wLjU1IDAuNCwtMSAwLjksLTFjMC41LDAuMDUgMC45LDAuNDUgMC45LDEiLz48L2c%2BPC9nPjxwYXRoIGQ9Ik0yMTguOTgzODMsMjAxLjAxNjE5di00Mi4wMzIzNWg0Mi4wMzIzNXY0Mi4wMzIzNXoiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8%2BPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciI%2BPHBhdGggZD0iTTI1OC45NDI4NSwxNzAuNTc1ODNjMCwwIDAuMTYxMzEsLTEwLjgwNzI0IC0xOS45MTI1NiwtMTEuMjg1NzFjLTE3Ljk4MDQ4LC0wLjQyODU3IC0yMC4wNjgxMiwxMS4yODU3MSAtMjAuMDY4MTIsMTEuMjg1NzEiIHN0cm9rZT0iIzFiNTU2ZSIvPjxwYXRoIGQ9Ik0yMTUuMjI4NTcsMTY1Ljg2MTU0bDMuMjY2OSw1LjcxNDI5bDUuNDQ0ODQsLTMiIHN0cm9rZT0iIzFiNTU2ZSIvPjwvZz48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIj48cGF0aCBkPSJNMjU4LjEyMzU2LDE5MC41NjcwNWMwLDAgLTIuMDg3NjQsMTEuNzE0MjggLTIwLjA2ODEyLDExLjI4NTcxYy0yMC4wNzM4NywtMC40Nzg0NyAtMTkuOTEyNTYsLTExLjI4NTcxIC0xOS45MTI1NiwtMTEuMjg1NzEiLz48cGF0aCBkPSJNMjUzLjE0NTQyLDE5Mi41NjcwNWw1LjQ0NDg0LC0zbDMuMjY2OSw1LjcxNDI5Ii8%2BPC9nPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjI1Ljc3MTQyOTg3OTMyNDc1NjoyMS43MDk1OTc0OTgwNDAwOTctLT4%3D%22%3B%0D%0A%20%20const%20layerIco%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI0NS45NzY4OCIgaGVpZ2h0PSI0Ni40NzQ2NiIgdmlld0JveD0iMCwwLDQ1Ljk3Njg4LDQ2LjQ3NDY2Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjE1LjAzOTI5LC0xNTguOTgzODMpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCI%2BPHBhdGggZD0iTTIzOS4xODkyOSwxNjUuNDc3MjNjMC4xNSwtMC4xIDAuNCwtMC4wNSAwLjQ1LDAuMTVsMS4zLDUuMzVjMCwwIDMuMiwyLjM1IDQuMTUsNGMxLjYsMi43NSAxLjY1LDUgMS42NSw1YzAsMCAzLjU1LDEuMDUgNC4xNSwzLjljMC42LDIuODUgLTEuNiw4LjI1IC0xMSwxMC4xYy05LjQsMS44NSAtMTYuOTUsLTAuNyAtMjAuNSwtNi40Yy0zLjU1LC01LjcgMi4wNSwtMTIuNSAxLjc1LC0xMi4xbC0xLjA1LC04Ljk1Yy0wLjA1LC0wLjIgMC4yLC0wLjM1IDAuNCwtMC4yNWw2LjA1LDMuOTVjMCwwIDIuMjUsLTAuODUgNC42LC0wLjk1YzEuNCwtMC4xIDIuNiwwIDMuNzUsMC4yeiIgZmlsbD0iIzNiYTJjZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjQ2LjU4OTI5LDE4MC4xNzcyM2MwLDAgMy40NSwwLjkgNC4wNSwzLjc1YzAuNiwyLjg1IC0xLjgsOCAtMTEuMSw5LjhjLTEyLjEsMi41IC0xNy44NSwtNC43IC0xNC41LC0xMGMzLjM1LC01LjM1IDkuMSwtMC44IDEzLjMsLTEuMWMzLjYsLTAuMjUgNCwtMy40IDguMjUsLTIuNDV6IiBmaWxsPSIjYTdlMmZiIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjU1Ljc4OTI5LDE4MC43MjcyM2MtMi4zNSwxLjkgLTUuOTUsMS45NSAtNS45NSwxLjk1IiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjU1LjEzOTI5LDE4Ni4zMjcyM2MtMy4xNSwwLjI1IC01LjEsLTAuNyAtNS4xLC0wLjciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzFiNTU2ZSIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMzguMTM5MjksMTgxLjMyNzIzYzEuMDUsMCAyLjE1LDAuMSAyLjIsMC40NWMwLjA1LDAuNyAtMC43LDIuMSAtMS41LDIuMTVjLTAuOSwwLjEgLTMsLTEuMTUgLTMsLTEuOTVjLTAuMDUsLTAuNiAxLjMsLTAuNjUgMi4zLC0wLjY1eiIgZmlsbD0iIzFiNTU2ZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTIxNS42MzkyOSwxODAuNTc3MjNjMCwwIDQuMywxLjQgNi4wNSwyLjk1IiBmaWxsPSJub25lIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjIxLjgzOTI5LDE4NS4yNzcyM2MtMi4xNSwwLjg1IC01Ljg1LDAuMyAtNS44NSwwLjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzFiNTU2ZSIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxnIGZpbGw9IiMxYjU1NmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciI%2BPHBhdGggZD0iTTI0My44MzkyOSwxNzguMzI3MjNjMCwwLjU1IC0wLjQsMSAtMC45LDFjLTAuNSwwIC0wLjksLTAuNDUgLTAuOSwtMWMwLC0wLjU1IDAuNCwtMSAwLjksLTFjMC41LDAgMC45LDAuNDUgMC45LDEiLz48L2c%2BPGcgZmlsbD0iIzFiNTU2ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIj48cGF0aCBkPSJNMjMxLjMzOTI5LDE3OS43NzcyM2MwLDAuNTUgLTAuNCwxIC0wLjksMWMtMC41LDAgLTAuOSwtMC40NSAtMC45LC0xYzAsLTAuNTUgMC40LC0xIDAuOSwtMWMwLjUsMC4wNSAwLjksMC40NSAwLjksMSIvPjwvZz48L2c%2BPHBhdGggZD0iTTIxOC45ODM4MywyMDEuMDE2MTl2LTQyLjAzMjM1aDQyLjAzMjM1djQyLjAzMjM1eiIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48ZyBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yNDMuNDc1LDE3NS43NjI5NWMwLjE1LC0wLjEgMC40LC0wLjA1IDAuNDUsMC4xNWwxLjMsNS4zNWMwLDAgMy4yLDIuMzUgNC4xNSw0YzEuNiwyLjc1IDEuNjUsNSAxLjY1LDVjMCwwIDMuNTUsMS4wNSA0LjE1LDMuOWMwLjYsMi44NSAtMS42LDguMjUgLTExLDEwLjFjLTkuNCwxLjg1IC0xNi45NSwtMC43IC0yMC41LC02LjRjLTMuNTUsLTUuNyAyLjA1LC0xMi41IDEuNzUsLTEyLjFsLTEuMDUsLTguOTVjLTAuMDUsLTAuMiAwLjIsLTAuMzUgMC40LC0wLjI1bDYuMDUsMy45NWMwLDAgMi4yNSwtMC44NSA0LjYsLTAuOTVjMS40LC0wLjEgMi42LDAgMy43NSwwLjJ6IiBmaWxsPSIjM2JhMmNlIiBzdHJva2U9IiMxYjU1NmUiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjxwYXRoIGQ9Ik0yNTAuODc1LDE5MC40NjI5NWMwLDAgMy40NSwwLjkgNC4wNSwzLjc1YzAuNiwyLjg1IC0xLjgsOCAtMTEuMSw5LjhjLTEyLjEsMi41IC0xNy44NSwtNC43IC0xNC41LC0xMGMzLjM1LC01LjM1IDkuMSwtMC44IDEzLjMsLTEuMWMzLjYsLTAuMjUgNCwtMy40IDguMjUsLTIuNDV6IiBmaWxsPSIjYTdlMmZiIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjYwLjA3NSwxOTEuMDEyOTVjLTIuMzUsMS45IC01Ljk1LDEuOTUgLTUuOTUsMS45NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTI1OS40MjUsMTk2LjYxMjk1Yy0zLjE1LDAuMjUgLTUuMSwtMC43IC01LjEsLTAuNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTI0Mi40MjUsMTkxLjYxMjk1YzEuMDUsMCAyLjE1LDAuMSAyLjIsMC40NWMwLjA1LDAuNyAtMC43LDIuMSAtMS41LDIuMTVjLTAuOSwwLjEgLTMsLTEuMTUgLTMsLTEuOTVjLTAuMDUsLTAuNiAxLjMsLTAuNjUgMi4zLC0wLjY1eiIgZmlsbD0iIzFiNTU2ZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTIxOS45MjUsMTkwLjg2Mjk1YzAsMCA0LjMsMS40IDYuMDUsMi45NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPHBhdGggZD0iTTIyNi4xMjUsMTk1LjU2Mjk1Yy0yLjE1LDAuODUgLTUuODUsMC4zIC01Ljg1LDAuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWI1NTZlIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8%2BPGcgZmlsbD0iIzFiNTU2ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIj48cGF0aCBkPSJNMjQ4LjEyNSwxODguNjEyOTVjMCwwLjU1IC0wLjQsMSAtMC45LDFjLTAuNSwwIC0wLjksLTAuNDUgLTAuOSwtMWMwLC0wLjU1IDAuNCwtMSAwLjksLTFjMC41LDAgMC45LDAuNDUgMC45LDEiLz48L2c%2BPGcgZmlsbD0iIzFiNTU2ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIj48cGF0aCBkPSJNMjM1LjYyNSwxOTAuMDYyOTVjMCwwLjU1IC0wLjQsMSAtMC45LDFjLTAuNSwwIC0wLjksLTAuNDUgLTAuOSwtMWMwLC0wLjU1IDAuNCwtMSAwLjksLTFjMC41LDAuMDUgMC45LDAuNDUgMC45LDEiLz48L2c%2BPC9nPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjI0Ljk2MDcwOTI4NTcxNDMzOjIxLjAxNjE2NS0tPg%3D%3D%22%3B%0D%0A%0D%0A%20%20const%20userAgent%20%3D%20navigator.userAgent%3B%0D%0A%20%20let%20supportsTouches%20%3D%20true%3B%0D%0A%20%20if%20(%0D%0A%20%20%20%20userAgent.includes(%22Safari%22)%20%26%26%0D%0A%20%20%20%20%2F%5E((%3F!chrome%7Candroid).)*safari%2Fi.test(userAgent)%0D%0A%20%20)%20%7B%0D%0A%20%20%20%20%2F%2F*%20Its%20a%20problem%20with%20all%20safari%20browsers%20from%20what%20I%20see%20now%20which%20is%20odd%20since%20apple%20says%20its%20supported%3F%0D%0A%20%20%20%20supportsTouches%20%3D%20false%3B%0D%0A%20%20%7D%20else%20if%20(%0D%0A%20%20%20%20userAgent.includes(%22Windows%22)%20%7C%7C%0D%0A%20%20%20%20userAgent.includes(%22Mac%20OS%22)%20%7C%7C%0D%0A%20%20%20%20userAgent.includes(%22Linux%22)%20%7C%7C%0D%0A%20%20%20%20userAgent.includes(%22CrOS%22)%0D%0A%20%20)%20%7B%0D%0A%20%20%20%20%2F%2F*%20%3C--%20Most%20chrome%20OS%20devices%20support%20touch%20events%20with%20up%20to%2010%20fingers%20but%20include%20a%20check%20to%20make%20it%20better%20anyways.%0D%0A%20%20%20%20notMobile%20%3D%20true%3B%0D%0A%20%20%20%20supportsTouches%20%3D%20navigator.maxTouchPoints%20%3E%200%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20maxTouchPoints%20%3D%20navigator.maxTouchPoints%3B%0D%0A%0D%0A%20%20function%20makeArrayOfTouches()%20%7B%0D%0A%20%20%20%20let%20TPArray%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20if%20(maxTouchPoints%20%3D%3D%200%20%7C%7C%20notMobile)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F*For%20non%20touch%20compatible%20devices%0D%0A%20%20%20%20%20%20for%20(let%20TP%20%3D%200%3B%20TP%20%3C%2010%3B%20TP%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20TPArray.push(Scratch.Cast.toString(TP%20%2B%201))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20for%20(let%20TP%20%3D%200%3B%20TP%20%3C%20maxTouchPoints%3B%20TP%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20TPArray.push(Scratch.Cast.toString(TP%20%2B%201))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20TPArray%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20touchPointsArray%20%3D%20makeArrayOfTouches()%3B%20%2F%2F*%20%3C--%20Do%20this%20for%20devices%20that%20really%20can't%20support%20that%20many%20touches.%0D%0A%0D%0A%20%20class%20SensingPlus%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20ico%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%235cb1d6%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%233ba2ce%22%2C%0D%0A%20%20%20%20%20%20%20%20color3%3A%20%22%232e8eb8%22%2C%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22obviousalexsensing%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Sensing%2B%22)%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Touch%20blocks%20are%20broken%20in%20Safari.%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22We%20will%20try%20to%20fix%20them%20soon.%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22supportsTouches%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Supports%20touches%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getMaxTouches%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%23%20of%20simultaneous%20possible%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFingersTouching%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%23%20of%20fingers%20down%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isFingerDown%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20Finger%20%5BID%5D%20down%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22fingerIDMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingFinger%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22touching%20a%20finger%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingSpecificFinger%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22touching%20finger%20%5BID%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22fingerIDMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getTouchingFingerID%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22current%20finger%20touching%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22fingerPosition%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22finger%20%5BID%5D%20%5BPositionType%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22fingerIDMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PositionType%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22coordmenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFingerSpeed%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22finger%20%5BID%5D%20speed%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20touchIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22fingerIDMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22listInSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22get%20index%20%5Bindex%5D%20of%20%5BList%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20listIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20List%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22listMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22lengthOfListInSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22length%20of%20%5BList%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20listIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20List%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22listMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22listContains%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22does%20%5BList%5D%20contain%20%5Bterm%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20listIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20term%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Dango%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20List%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22listMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22itemNumberInList%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22item%20%23%20of%20%5Bterm%5D%20in%20%5BList%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20listIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20term%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22Dango%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20List%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22listMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingOriginal%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22touching%20the%20original%20%5BSprite%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20catIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Sprite%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22touchingClone%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22touching%20a%20clone%20of%20%5BSprite%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20catIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Sprite%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22clonesOfSprite%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%23%20of%20clones%20of%20%5BSprite%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20catIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Sprite%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22spriteMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getEffect%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22get%20this%20sprite's%20%5Beffect%5D%20effect%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20effectIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20effect%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22effectMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isHidden%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22hidden%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20effectIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getRotationStyle%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22rotation%20style%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20rotationIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getSpriteLayer%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22sprite%20layer%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20layerIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getClipBoard%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22copied%20contents%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20clipboardIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setClipBoard%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20clipboard%20to%20%5BTEXT%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20clipboardIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isPackaged%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20packagedIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20packaged%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Speech%20recording%20is%20unreliable%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22recording%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22turn%20speech%20recording%20%5Btoggle%5D%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20speechIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toggle%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22toggleMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22returnWords%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22recognized%20Words%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20speechIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isrecording%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22recording%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20speechIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20%22label%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22Needs%20a%20gyroscope%20or%20accelerometer%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22hasDevice%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20deviceVelIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22has%20a%20%5Bdevice%5D%3F%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20device%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22deviceMenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getDeviceSpeed%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20deviceVelIco%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22get%20the%20%5Btype%5D%20speed%20on%20the%20%5Baxis%5D%20axis%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22velocitymenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20axis%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22axismenu%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20extensions%3A%20%5B%22colours_sensing%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20fingerIDMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20touchPointsArray%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20deviceMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22gyroscope%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22gyroscope%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22accelerometer%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22accelerometer%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20coordmenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22x%22%2C%20%22y%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20axismenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%22x%22%2C%20%22y%22%2C%20%22z%22%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20velocitymenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22positional%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22positional%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22rotational%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22rotational%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20spriteMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getSprites%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20listMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%22getLists%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20toggleMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22on%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22on%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22off%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22off%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20effectMenu%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22color%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22color%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22fisheye%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22fisheye%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22whirl%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22whirl%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22pixelate%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22pixelate%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22mosaic%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22mosaic%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22brightness%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22brightness%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22ghost%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22ghost%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20_touchUtil%20%3D%20%7B%0D%0A%20%20%20%20%20%20blankExpression%3A%20()%20%3D%3E%20%7B%7D%2C%0D%0A%20%20%20%20%20%20isTouchingAnyFinger(util%2C%20success%2C%20fail)%20%7B%0D%0A%20%20%20%20%20%20%20%20success%20%3D%20success%20%7C%7C%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20if%20(success%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20success%20%3D%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20fail%20%3D%20fail%20%7C%7C%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fail%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20fail%20%3D%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20for%20(let%20index%20%3D%200%3B%20index%20%3C%20fingerPositions.length%3B%20index%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20fingerPos%20%3D%20fingerPositions%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(fingerPos%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20touching%20%3D%20util.target.isTouchingPoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fingerPos%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fingerPos%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(touching)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20success(index)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20fail(-1)%3B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%0D%0A%20%20%20%20%20%20isTouchingSpecificFinger(id%2C%20util%2C%20success%2C%20fail)%20%7B%0D%0A%20%20%20%20%20%20%20%20success%20%3D%20success%20%7C%7C%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20if%20(success%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20success%20%3D%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20fail%20%3D%20fail%20%7C%7C%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fail%20%3D%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20fail%20%3D%20this.blankExpression%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20fingerPos%20%3D%20fingerPositions%5BScratch.Cast.toNumber(id)%20-%201%5D%3B%0D%0A%20%20%20%20%20%20%20%20if%20(fingerPos%20!%3D%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20touching%20%3D%20util.target.isTouchingPoint(%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fingerPos%5B0%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fingerPos%5B1%5D%0D%0A%20%20%20%20%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(touching)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20success(id)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20fail(id)%3B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%0D%0A%20%20%20%20supportsTouches()%20%7B%0D%0A%20%20%20%20%20%20return%20supportsTouches%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getMaxTouches()%20%7B%0D%0A%20%20%20%20%20%20return%20maxTouchPoints%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getFingerSpeed(%7B%20ID%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20fingerPos%20%3D%20fingerPositions%5BID%20-%201%5D%3B%0D%0A%20%20%20%20%20%20const%20fingerLastPos%20%3D%20lastFingerPositions%5BID%20-%201%5D%3B%0D%0A%20%20%20%20%20%20if%20(!fingerPos%20%7C%7C%20!fingerLastPos)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20speed%20%3D%20Math.sqrt(%0D%0A%20%20%20%20%20%20%20%20Math.pow(fingerPos%5B0%5D%20-%20fingerLastPos%5B0%5D%2C%202)%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20Math.pow(fingerPos%5B1%5D%20-%20fingerLastPos%5B1%5D%2C%202)%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20lastFingerPositions%5BID%20-%201%5D%20%3D%20%5BfingerPos%5B0%5D%2C%20fingerPos%5B1%5D%5D%3B%0D%0A%20%20%20%20%20%20return%20speed%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getSpriteLayer(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20util.target.renderer._drawList.indexOf(util.target.drawableID)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getRotationStyle(arg%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20util.target.rotationStyle%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20isHidden(arg%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20!util.target.visible%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getEffect(%7B%20effect%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20if%20(Object.prototype.hasOwnProperty.call(util.target.effects%2C%20effect))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20util.target.effects%5Beffect%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20isPackaged()%20%7B%0D%0A%20%20%20%20%20%20return%20typeof%20scaffolding%20!%3D%3D%20%22undefined%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20clonesOfSprite(%7B%20Sprite%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20originalTarget%20%3D%20vm.runtime.getSpriteTargetByName(Sprite)%3B%0D%0A%20%20%20%20%20%20if%20(!originalTarget)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20originalTarget.sprite.clones.length%20-%201%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20recording(%7B%20toggle%20%7D)%20%7B%0D%0A%20%20%20%20%20%20initializeSpeechRecognition()%3B%0D%0A%20%20%20%20%20%20if%20(!speechRecognition)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(toggle%20%3D%3D%3D%20%22on%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(!recording)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20speechRecognition.start()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20recognizedSpeech%20%3D%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20recording%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(recording)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20speechRecognition.stop()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20recording%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20returnWords()%20%7B%0D%0A%20%20%20%20%20%20return%20recognizedSpeech%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20isrecording()%20%7B%0D%0A%20%20%20%20%20%20return%20recording%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20hasDevice(%7B%20device%20%7D)%20%7B%0D%0A%20%20%20%20%20%20if%20(deviceStatus%5Bdevice%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20deviceStatus%5Bdevice%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getDeviceSpeed(%7B%20type%2C%20axis%20%7D)%20%7B%0D%0A%20%20%20%20%20%20initializeSensors()%3B%0D%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22positional%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(axis%20%3D%3D%3D%20%22x%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20deviceVelocity.x%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(axis%20%3D%3D%3D%20%22y%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20deviceVelocity.y%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(axis%20%3D%3D%3D%20%22z%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20deviceVelocity.z%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22rotational%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(axis%20%3D%3D%3D%20%22x%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20deviceVelocity.rotationX%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(axis%20%3D%3D%3D%20%22y%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20deviceVelocity.rotationY%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(axis%20%3D%3D%3D%20%22z%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20deviceVelocity.rotationZ%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%2F%2F%20should%20never%20happen%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getClipBoard()%20%7B%0D%0A%20%20%20%20%20%20if%20(navigator.clipboard%20%26%26%20navigator.clipboard.readText)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20Scratch.canReadClipboard().then((allowed)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20if%20(allowed)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.clipboard.readText()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20async%20setClipBoard(%7B%20TEXT%20%7D)%20%7B%0D%0A%20%20%20%20%20%20if%20(navigator.clipboard%20%26%26%20navigator.clipboard.writeText)%20%7B%0D%0A%20%20%20%20%20%20%20%20await%20navigator.clipboard.writeText(Scratch.Cast.toString(TEXT))%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getFingersTouching()%20%7B%0D%0A%20%20%20%20%20%20return%20fingersDown%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getSprites()%20%7B%0D%0A%20%20%20%20%20%20const%20sprites%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20for%20(const%20target%20of%20vm.runtime.targets)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(target.isOriginal%20%26%26%20!target.isStage)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20sprites.push(target.getName())%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(sprites.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22No%20sprites%20exist%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22%20%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20sprites%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getLists(myID)%20%7B%0D%0A%20%20%20%20%20%20const%20lists%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20%20%20for%20(const%20target%20of%20Scratch.vm.runtime.targets)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20should%20filter%20out%20variables%20from%20myID%2C%20but%20some%20editor%20bugs%20make%20that%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20cause%20JSON%20to%20be%20seen%20by%20user%20by%20just%20switching%20sprites.%20yuck!%0D%0A%20%20%20%20%20%20%20%20if%20(!target.isStage%20%26%26%20target.isOriginal)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20%5BlistId%2C%20listVar%5D%20of%20Object.entries(target.variables))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20listData%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20targetName%3A%20target.getName()%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20variableId%3A%20listId%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(listVar.type%20%3D%3D%20%22list%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20lists.push(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%60%24%7Btarget.getName()%7D%3A%20%24%7BlistVar.name%7D%60%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20JSON.stringify(listData)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(lists.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22No%20local%20lists%20in%20other%20sprites%22)%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%22null%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20lists%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20touchingFinger(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20this._touchUtil.isTouchingAnyFinger(util)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20touchingSpecificFinger(%7B%20ID%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20return%20this._touchUtil.isTouchingSpecificFinger(ID%2C%20util)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20getTouchingFingerID(args%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20let%20TouchingFingerID%20%3D%200%3B%0D%0A%20%20%20%20%20%20this._touchUtil.isTouchingAnyFinger(util%2C%20(FID)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20TouchingFingerID%20%3D%20FID%20%2B%201%3B%0D%0A%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20return%20TouchingFingerID%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fingerPosition(%7B%20ID%2C%20PositionType%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20index%20%3D%20Scratch.Cast.toNumber(ID)%20-%201%3B%0D%0A%20%20%20%20%20%20const%20fingerPos%20%3D%20fingerPositions%5Bindex%5D%3B%0D%0A%20%20%20%20%20%20if%20(fingerPos)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20positionIndex%20%3D%20PositionType%20%3D%3D%3D%20%22x%22%20%3F%200%20%3A%201%3B%0D%0A%20%20%20%20%20%20%20%20const%20finger%20%3D%20%5BfingerPos%5B0%5D%2C%20fingerPos%5B1%5D%5D%3B%0D%0A%20%20%20%20%20%20%20%20let%20scratchCoords%20%3D%20finger%3B%0D%0A%20%20%20%20%20%20%20%20const%20runtime%20%3D%20Scratch.vm.runtime%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20canvasRect%20%3D%20canvas.getBoundingClientRect()%3B%0D%0A%20%20%20%20%20%20%20%20if%20(PositionType%20%3D%3D%3D%20%22x%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20clientWidth%20%3D%20canvasRect.right%20-%20canvasRect.left%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20toScratch%20%3D%20runtime.stageWidth%20%2F%20clientWidth%3B%0D%0A%20%20%20%20%20%20%20%20%20%20scratchCoords%5B0%5D%20*%3D%20toScratch%3B%0D%0A%20%20%20%20%20%20%20%20%20%20scratchCoords%5B0%5D%20-%3D%20runtime.stageWidth%20%2F%202%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20clientheight%20%3D%20canvasRect.bottom%20-%20canvasRect.top%3B%0D%0A%20%20%20%20%20%20%20%20%20%20const%20toScratch%20%3D%20runtime.stageHeight%20%2F%20clientheight%3B%0D%0A%20%20%20%20%20%20%20%20%20%20scratchCoords%5B1%5D%20*%3D%20toScratch%3B%0D%0A%20%20%20%20%20%20%20%20%20%20scratchCoords%5B1%5D%20%3D%20runtime.stageHeight%20%2F%202%20-%20scratchCoords%5B1%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20scratchCoords%5BpositionIndex%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20isFingerDown(%7B%20ID%20%7D)%20%7B%0D%0A%20%20%20%20%20%20return%20!!fingerPositions%5BScratch.Cast.toNumber(ID)%20-%201%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20listInSprite(%7B%20index%2C%20List%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20variable%20%3D%20getListFromMenu(List)%3B%0D%0A%20%20%20%20%20%20if%20(!variable)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20casted%20%3D%20Scratch.Cast.toListIndex(%0D%0A%20%20%20%20%20%20%20%20index%2C%0D%0A%20%20%20%20%20%20%20%20variable.value.length%2C%0D%0A%20%20%20%20%20%20%20%20false%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%20%20if%20(casted%20%3D%3D%3D%20%22INVALID%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20variable.value%5Bcasted%20-%201%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20listContains(%7B%20term%2C%20List%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20variable%20%3D%20getListFromMenu(List)%3B%0D%0A%20%20%20%20%20%20if%20(!variable)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20list%20%3D%20variable.value%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20list.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(Scratch.Cast.compare(list%5Bi%5D%2C%20term)%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lengthOfListInSprite(%7B%20List%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20variable%20%3D%20getListFromMenu(List)%3B%0D%0A%20%20%20%20%20%20if%20(!variable)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20variable.value.length%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20itemNumberInList(%7B%20term%2C%20List%20%7D)%20%7B%0D%0A%20%20%20%20%20%20const%20variable%20%3D%20getListFromMenu(List)%3B%0D%0A%20%20%20%20%20%20if%20(!variable)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20list%20%3D%20variable.value%3B%0D%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20list.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(Scratch.Cast.compare(list%5Bi%5D%2C%20term)%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20i%20%2B%201%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%200%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20touchingOriginal(%7B%20Sprite%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20target%20%3D%20vm.runtime.getSpriteTargetByName(Sprite)%3B%0D%0A%20%20%20%20%20%20if%20(!target)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20Scratch.vm.renderer.isTouchingDrawables(util.target.drawableID%2C%20%5B%0D%0A%20%20%20%20%20%20%20%20target.drawableID%2C%0D%0A%20%20%20%20%20%20%5D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20touchingClone(%7B%20Sprite%20%7D%2C%20util)%20%7B%0D%0A%20%20%20%20%20%20const%20parentTarget%20%3D%20vm.runtime.getSpriteTargetByName(Sprite)%3B%0D%0A%20%20%20%20%20%20if%20(!parentTarget)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20const%20drawablesIds%20%3D%20parentTarget.sprite.clones%0D%0A%20%20%20%20%20%20%20%20.filter((i)%20%3D%3E%20!i.isOriginal)%0D%0A%20%20%20%20%20%20%20%20.map((i)%20%3D%3E%20i.drawableID)%3B%0D%0A%20%20%20%20%20%20if%20(drawablesIds.length%20%3D%3D%3D%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20false%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20return%20Scratch.renderer.isTouchingDrawables(%0D%0A%20%20%20%20%20%20%20%20util.target.drawableID%2C%0D%0A%20%20%20%20%20%20%20%20drawablesIds%0D%0A%20%20%20%20%20%20)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20Scratch.extensions.register(new%20SensingPlus())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Deltatime%0D%0A%2F%2F%20ID%3A%20dtbyxeroname%0D%0A%2F%2F%20Description%3A%20Precise%20delta%20timing%20blocks.%0D%0A%2F%2F%20By%3A%20XeroName%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2Fplant2014%2F%3E%0D%0A%2F%2F%20License%3A%20MIT%0D%0A%0D%0A(function%20(Scratch)%20%7B%0D%0A%20%20%22use%20strict%22%3B%0D%0A%0D%0A%20%20const%20icon%20%3D%0D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDYwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI%2BCjxjaXJjbGUgY3g9IjMwMCIgY3k9IjMwMCIgcj0iMzAwIiBmaWxsPSIjMjAyMDIwIi8%2BCjxwYXRoIGQ9Ik04Ny44NjggNTEyLjEzMkM2MC4wMTA0IDQ4NC4yNzQgMzcuOTEyNSA0NTEuMjAzIDIyLjgzNjEgNDE0LjgwNUM3Ljc1OTcyIDM3OC40MDcgLTMuNDQ0MTZlLTA2IDMzOS4zOTcgMCAzMDBDMy40NDQxNmUtMDYgMjYwLjYwMyA3Ljc1OTc0IDIyMS41OTMgMjIuODM2MiAxODUuMTk1QzM3LjkxMjYgMTQ4Ljc5NyA2MC4wMTA0IDExNS43MjYgODcuODY4IDg3Ljg2NzlDMTE1LjcyNiA2MC4wMTA0IDE0OC43OTcgMzcuOTEyNSAxODUuMTk1IDIyLjgzNjFDMjIxLjU5MyA3Ljc1OTcxIDI2MC42MDQgLTkuODYyNjZlLTA2IDMwMCAwQzMzOS4zOTcgOS44NjI2OGUtMDYgMzc4LjQwNyA3Ljc1OTc1IDQxNC44MDUgMjIuODM2MkM0NTEuMjAzIDM3LjkxMjYgNDg0LjI3NSA2MC4wMTA0IDUxMi4xMzIgODcuODY4TDMwMCAzMDBMODcuODY4IDUxMi4xMzJaIiBmaWxsPSIjMzAzMDMwIi8%2BCjxwYXRoIGQ9Ik0zMzAgNDM1TDIzMCAxODUiIHN0cm9rZT0iIzYxMjM2MSIgc3Ryb2tlLXdpZHRoPSIzMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BCjxwYXRoIGQ9Ik0zMjAgMTg1SDQyME01MjAgMTg1SDQyME00MjAgMTg1VjQzNU0yOTkuNDUxIDQzMy42MjlMMjAwLjkyOCAxODcuMzIxQzIwMC41OTMgMTg2LjQ4MyAxOTkuNDA3IDE4Ni40ODMgMTk5LjA3MiAxODcuMzIxTDEwMC41NDkgNDMzLjYyOUMxMDAuMjg2IDQzNC4yODUgMTAwLjc3IDQzNSAxMDEuNDc3IDQzNUgyOTguNTIzQzI5OS4yMyA0MzUgMjk5LjcxNCA0MzQuMjg1IDI5OS40NTEgNDMzLjYyOVoiIHN0cm9rZT0iIzYwNjA2MCIgc3Ryb2tlLXdpZHRoPSIzMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BCjxwYXRoIGQ9Ik0zMTAgNDE1TDIxMCAxNjUiIHN0cm9rZT0iI0ZGNUNGRiIgc3Ryb2tlLXdpZHRoPSIzMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8%2BCjxwYXRoIGQ9Ik0zMDAgMTY1SDQwME01MDAgMTY1SDQwME00MDAgMTY1VjQxNU0yNzkuNDUxIDQxMy42MjlMMTgwLjkyOCAxNjcuMzIxQzE4MC41OTMgMTY2LjQ4MyAxNzkuNDA3IDE2Ni40ODMgMTc5LjA3MiAxNjcuMzIxTDgwLjU0ODYgNDEzLjYyOUM4MC4yODU4IDQxNC4yODUgODAuNzY5NiA0MTUgODEuNDc3IDQxNUgyNzguNTIzQzI3OS4yMyA0MTUgMjc5LjcxNCA0MTQuMjg1IDI3OS40NTEgNDEzLjYyOVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMzIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K%22%3B%0D%0A%0D%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0D%0A%20%20%20%20throw%20new%20Error(%22DeltaTime%20must%20be%20run%20unsandboxed%22)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0D%0A%0D%0A%20%20let%20deltaTime%20%3D%200%3B%0D%0A%20%20let%20previousTime%20%3D%200%3B%0D%0A%0D%0A%20%20vm.runtime.on(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20now%20%3D%20performance.now()%3B%0D%0A%20%20%20%20deltaTime%20%3D%20previousTime%20%3D%3D%3D%200%20%3F%200%20%3A%20(now%20-%20previousTime)%20%2F%201000%3B%0D%0A%20%20%20%20previousTime%20%3D%20now%3B%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20class%20Dt%20%7B%0D%0A%20%20%20%20getInfo()%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20%22dtbyxeroname%22%2C%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22Deltatime%22%2C%0D%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23333333%22%2C%0D%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23444444%22%2C%0D%0A%20%20%20%20%20%20%20%20color3%3A%20%22%23ffffff%22%2C%0D%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20icon%2C%0D%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22dt%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22%CE%94T%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22fps%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22fps%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20dt()%20%7B%0D%0A%20%20%20%20%20%20return%20deltaTime%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20fps()%20%7B%0D%0A%20%20%20%20%20%20return%20%2B(1%20%2F%20deltaTime).toFixed(2)%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20Scratch.extensions.register(new%20Dt())%3B%0D%0A%7D)(Scratch)%3B%0D%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [
            storage.AssetType.ImageVector,
            storage.AssetType.ImageBitmap,
            storage.AssetType.Sound,
            storage.AssetType.Font
          ].filter(i => i),
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (true) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
